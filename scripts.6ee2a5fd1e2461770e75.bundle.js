!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++Vt,t._leaflet_id}function r(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function s(){return!1}function a(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return u(t).split(/\s+/)}function l(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?jt(t.options):{}),e)t.options[n]=e[n];return t.options}function h(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function f(t,e){return t.replace(Ht,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function d(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,n=Math.max(0,16-(e-Wt));return Wt=e+n,window.setTimeout(t,n)}function m(t,e,i){if(!i||Zt!==g)return Zt.call(window,n(t,e));t.call(e)}function y(t){t&&Kt.call(window,t)}function v(){}function _(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function b(t,e,n){return t instanceof _?t:Yt(t)?new _(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new _(t.x,t.y):new _(t,e,n)}function x(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function w(t,e){return!t||t instanceof x?t:new x(t,e)}function E(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function C(t,e){return t instanceof E?t:new E(t,e)}function S(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function I(t,e,n){return t instanceof S?t:Yt(t)&&"object"!=typeof t[0]?3===t.length?new S(t[0],t[1],t[2]):2===t.length?new S(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new S(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new S(t,e,n)}function N(t,e,n,i){if(Yt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function P(t,e,n,i){return new N(t,e,n,i)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(i=0,o=(s=t[n]).length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?Ue?"z":"x":""}return u||"M0 0"}function A(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function O(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Xe.indexOf(t.target.tagName)<0))return;X(t)}F(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(je,r,!1),Ze||(document.documentElement.addEventListener(je,R,!0),document.documentElement.addEventListener(Ve,D,!0),document.documentElement.addEventListener(He,k,!0),document.documentElement.addEventListener(Ye,k,!0),Ze=!0)}function R(t){We[t.pointerId]=t,Ke++}function D(t){We[t.pointerId]&&(We[t.pointerId]=t)}function k(t){delete We[t.pointerId],Ke--}function F(t,e){for(var n in t.touches=[],We)t.touches.push(We[n]);t.changedTouches=[t],e(t)}function z(t,e,n){function i(t){var e;if(Re){if(!de||"mouse"===t.pointerType)return;e=Ke}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);s=t.touches?t.touches[0]:t,a=i>0&&i<=u,o=n}}function r(t){if(a&&!s.cancelBubble){if(Re){if(!de||"mouse"===t.pointerType)return;var n,i,r={};for(i in s)r[i]=(n=s[i])&&n.bind?n.bind(s):n;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[$e+Je+n]=i,t[$e+Qe+n]=r,t[$e+"dblclick"+n]=e,t.addEventListener(Je,i,!1),t.addEventListener(Qe,r,!1),t.addEventListener("dblclick",e,!1),this}function B(t,e){var n=t[$e+Qe+e],i=t[$e+"dblclick"+e];return t.removeEventListener(Je,t[$e+Je+e],!1),t.removeEventListener(Qe,n,!1),de||t.removeEventListener("dblclick",i,!1),this}function U(t,e,n,i){if("object"==typeof e)for(var r in e)q(t,r,e[r],n);else for(var o=0,s=(e=c(e)).length;o<s;o++)q(t,e[o],n,i);return this}function G(t,e,n,i){if("object"==typeof e)for(var r in e)j(t,r,e[r],n);else if(e)for(var o=0,s=(e=c(e)).length;o<s;o++)j(t,e[o],n,i);else{for(var a in t[tn])j(t,a,t[tn][a]);delete t[tn]}return this}function q(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[tn]&&t[tn][o])return this;var s=function(e){return n.call(r||t,e||window.event)},a=s;Re&&0===e.indexOf("touch")?function(t,e,n,i){"touchstart"===e?O(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&F(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Ve,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){F(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(He,i,!1),t.addEventListener(Ye,i,!1)}(t,n,i)}(t,e,s,o):!De||"dblclick"!==e||!z||Re&&be?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,$(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&ge&&(s=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=re&&n-re;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?W(t):(re=n,e(t))}(t,a)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):z(t,s,o),t[tn]=t[tn]||{},t[tn][o]=s}function j(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),s=t[tn]&&t[tn][o];if(!s)return this;Re&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+o];"touchstart"===e?t.removeEventListener(je,i,!1):"touchmove"===e?t.removeEventListener(Ve,i,!1):"touchend"===e&&(t.removeEventListener(He,i,!1),t.removeEventListener(Ye,i,!1))}(t,e):!De||"dblclick"!==e||!B||Re&&be?"removeEventListener"in t?t.removeEventListener("mousewheel"===e?"onwheel"in t?"wheel":"mousewheel":"mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s):B(t,o),t[tn][o]=null}function V(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Q(t),this}function H(t){return q(t,"mousewheel",V),this}function Y(t){return U(t,"mousedown touchstart dblclick",V),q(t,"click",J),this}function X(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function W(t){return X(t),V(t),this}function Z(t,e){if(!e)return new _(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new _(t.clientX/(n.width/e.offsetWidth||1)-n.left-e.clientLeft,t.clientY/(n.height/e.offsetHeight||1)-n.top-e.clientTop)}function K(t){return de?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/en:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function J(t){nn[t.type]=!0}function Q(t){var e=nn[t.type];return nn[t.type]=!1,e}function $(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function tt(t){return"string"==typeof t?document.getElementById(t):t}function et(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function nt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function it(t){var e=t.parentNode;e&&e.removeChild(t)}function rt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ot(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function st(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function at(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ht(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ut(t,e){if(void 0!==t.classList)for(var n=c(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!at(t,e)){var o=ht(t);lt(t,(o?o+" ":"")+e)}}function ct(t,e){void 0!==t.classList?t.classList.remove(e):lt(t,u((" "+ht(t)+" ").replace(" "+e+" "," ")))}function lt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ht(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function ft(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function dt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function pt(t,e,n){var i=e||new _(0,0);t.style[on]=(Se?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function gt(t,e){t._leaflet_pos=e,Pe?pt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function mt(t){return t._leaflet_pos||new _(0,0)}function yt(){U(window,"dragstart",X)}function vt(){G(window,"dragstart",X)}function _t(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(bt(),cn=t,ln=t.style.outline,t.style.outline="none",U(window,"keydown",bt))}function bt(){cn&&(cn.style.outline=ln,cn=void 0,ln=void 0,G(window,"keydown",bt))}function xt(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var s,a,u,c=0;for(a=r+1;a<=o-1;a++)(u=It(e[a],e[r],e[o],!0))>c&&(s=a,c=u);c>i&&(n[s]=1,t(e,n,i,r,s),t(e,n,i,s,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)St(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}(t,n),n)}function wt(t,e,n){return Math.sqrt(It(t,e,n,!0))}function Lt(t,e,n,i,r){var o,s,a,u=i?xn:Ct(t,n),c=Ct(e,n);for(xn=c;;){if(!(u|c))return[t,e];if(u&c)return!1;a=Ct(s=Et(t,e,o=u||c,n,r),n),o===u?(t=s,u=a):(e=s,c=a)}}function Et(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,c=i.min,l=i.max;return 8&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):4&n?(o=t.x+a*(c.y-t.y)/u,s=c.y):2&n?(o=l.x,s=t.y+u*(l.x-t.x)/a):1&n&&(o=c.x,s=t.y+u*(c.x-t.x)/a),new _(o,s,r)}function Ct(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function St(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function It(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,c=a*a+u*u;return c>0&&((r=((t.x-o)*a+(t.y-s)*u)/c)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new _(o,s)}function Nt(t){return!Yt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Pt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nt(t)}function Tt(t,e,n){var i,r,o,s,a,u,c,l,h,f=[1,4,2,8];for(r=0,c=t.length;r<c;r++)t[r]._code=Ct(t[r],e);for(s=0;s<4;s++){for(l=f[s],i=[],r=0,o=(c=t.length)-1;r<c;o=r++)u=t[o],(a=t[r])._code&l?u._code&l||((h=Et(u,a,l,e,n))._code=Ct(h,e),i.push(h)):(u._code&l&&((h=Et(u,a,l,e,n))._code=Ct(h,e),i.push(h)),i.push(a));t=i}return t}function Mt(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],c=e&&e.pointToLayer,l=e&&e.coordsToLatLng||At;if(!a&&!s)return null;switch(s.type){case"Point":return n=l(a),c?c(t,n):new Gn(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=l(a[r]),u.push(c?c(t,n):new Gn(n));return new Fn(u);case"LineString":case"MultiLineString":return i=Ot(a,"LineString"===s.type?0:1,l),new Hn(i,e);case"Polygon":case"MultiPolygon":return i=Ot(a,"Polygon"===s.type?1:2,l),new Yn(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=Mt({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Fn(u);default:throw new Error("Invalid GeoJSON object.")}}function At(t){return new S(t[1],t[0],t[2])}function Ot(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?Ot(t[o],e-1,n):(n||At)(t[o]),r.push(i);return r}function Rt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function Dt(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?Dt(t[o],e-1,n,i):Rt(t[o],i));return!e&&n&&r.push(r[0]),r}function kt(t,n){return t.feature?e({},t.feature,{geometry:n}):Ft(n)}function Ft(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function zt(t,e){return new Xn(t,e)}function Bt(t,e){return new ii(t,e)}function Ut(t){return Be?new si(t):null}function Gt(t){return Ue||Ge?new li(t):null}var qt=Object.freeze;Object.freeze=function(t){return t};var jt=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),Vt=0,Ht=/\{ *([\w_-]+) *\}/g,Yt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Wt=0,Zt=window.requestAnimationFrame||p("RequestAnimationFrame")||g,Kt=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Jt=(Object.freeze||Object)({freeze:qt,extend:e,create:jt,bind:n,lastId:Vt,stamp:i,throttle:r,wrapNum:o,falseFn:s,formatNum:a,trim:u,splitWords:c,setOptions:l,getParamString:h,template:f,isArray:Yt,indexOf:d,emptyImageUrl:Xt,requestFn:Zt,cancelFn:Kt,requestAnimFrame:m,cancelAnimFrame:y});v.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=jt(i);for(var o in r.constructor=n,n.prototype=r,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=Yt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(jt(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Qt={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=c(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var r=0,o=(t=c(t)).length;r<o;r++)this._off(t[r],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(this._events[t]=i=[]),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=s;delete this._events[t]}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};Qt.addEventListener=Qt.on,Qt.removeEventListener=Qt.clearAllEventListeners=Qt.off,Qt.addOneTimeEventListener=Qt.once,Qt.fireEvent=Qt.fire,Qt.hasEventListeners=Qt.listens;var $t=v.extend(Qt),te=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};_.prototype={clone:function(){return new _(this.x,this.y)},add:function(t){return this.clone()._add(b(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(b(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new _(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new _(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(t){var e=(t=b(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=b(t)).x===this.x&&t.y===this.y},contains:function(t){return t=b(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},x.prototype={extend:function(t){return t=b(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new _((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new _(this.min.x,this.max.y)},getTopRight:function(){return new _(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof _?b(t):w(t))instanceof x?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=w(t);var e=this.min,n=this.max,i=t.min,r=t.max;return r.x>=e.x&&i.x<=n.x&&r.y>=e.y&&i.y<=n.y},overlaps:function(t){t=w(t);var e=this.min,n=this.max,i=t.min,r=t.max;return r.x>e.x&&i.x<n.x&&r.y>e.y&&i.y<n.y},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof S)e=t,n=t;else{if(!(t instanceof E))return t?this.extend(I(t)||C(t)):this;if(n=t._northEast,!(e=t._southWest)||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new S(e.lat,e.lng),this._northEast=new S(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new E(new S(e.lat-i,e.lng-r),new S(n.lat+i,n.lng+r))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof S||"lat"in t?I(t):C(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof E?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast();return r.lat>=e.lat&&i.lat<=n.lat&&r.lng>=e.lng&&i.lng<=n.lng},overlaps:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast();return r.lat>e.lat&&i.lat<n.lat&&r.lng>e.lng&&i.lng<n.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(t,e){return!!t&&(t=I(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return ne.distance(this,I(t))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var ee={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new x(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new S(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new E(new S(o.lat-i,o.lng-r),new S(s.lat-i,s.lng-r))}},ne=e({},ee,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),ie={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new _(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new S((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new x([-t,-t],[t,t])}()};N.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new _((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var re,oe,se,ae,ue=e({},ne,{code:"EPSG:3857",projection:ie,transformation:function(){var t=.5/(Math.PI*ie.R);return P(t,.5,-t,.5)}()}),ce=e({},ue,{code:"EPSG:900913"}),le=document.documentElement.style,he="ActiveXObject"in window,fe=he&&!document.addEventListener,de="msLaunchUri"in navigator&&!("documentMode"in document),pe=A("webkit"),ge=A("android"),me=A("android 2")||A("android 3"),ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ve=ge&&A("Google")&&ye<537&&!("AudioNode"in window),_e=!!window.opera,be=A("chrome"),xe=A("gecko")&&!pe&&!_e&&!he,we=!be&&A("safari"),Le=A("phantom"),Ee="OTransition"in le,Ce=0===navigator.platform.indexOf("Win"),Se=he&&"transition"in le,Ie="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!me,Ne="MozPerspective"in le,Pe=!window.L_DISABLE_3D&&(Se||Ie||Ne)&&!Ee&&!Le,Te="undefined"!=typeof orientation||A("mobile"),Me=Te&&pe,Ae=Te&&Ie,Oe=!window.PointerEvent&&window.MSPointerEvent,Re=!(!window.PointerEvent&&!Oe),De=!window.L_NO_TOUCH&&(Re||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ke=Te&&_e,Fe=Te&&xe,ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Be=!!document.createElement("canvas").getContext,Ue=!(!document.createElementNS||!T("svg").createSVGRect),Ge=!Ue&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),qe=(Object.freeze||Object)({ie:he,ielt9:fe,edge:de,webkit:pe,android:ge,android23:me,androidStock:ve,opera:_e,chrome:be,gecko:xe,safari:we,phantom:Le,opera12:Ee,win:Ce,ie3d:Se,webkit3d:Ie,gecko3d:Ne,any3d:Pe,mobile:Te,mobileWebkit:Me,mobileWebkit3d:Ae,msPointer:Oe,pointer:Re,touch:De,mobileOpera:ke,mobileGecko:Fe,retina:ze,canvas:Be,svg:Ue,vml:Ge}),je=Oe?"MSPointerDown":"pointerdown",Ve=Oe?"MSPointerMove":"pointermove",He=Oe?"MSPointerUp":"pointerup",Ye=Oe?"MSPointerCancel":"pointercancel",Xe=["INPUT","SELECT","OPTION"],We={},Ze=!1,Ke=0,Je=Oe?"MSPointerDown":Re?"pointerdown":"touchstart",Qe=Oe?"MSPointerUp":Re?"pointerup":"touchend",$e="_leaflet_",tn="_leaflet_events",en=Ce&&be?2*window.devicePixelRatio:xe?window.devicePixelRatio:1,nn={},rn=(Object.freeze||Object)({on:U,off:G,stopPropagation:V,disableScrollPropagation:H,disableClickPropagation:Y,preventDefault:X,stop:W,getMousePosition:Z,getWheelDelta:K,fakeStop:J,skipped:Q,isExternalTarget:$,addListener:U,removeListener:G}),on=dt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),sn=dt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),an="webkitTransition"===sn||"OTransition"===sn?sn+"End":"transitionend";if("onselectstart"in document)oe=function(){U(window,"selectstart",X)},se=function(){G(window,"selectstart",X)};else{var un=dt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oe=function(){if(un){var t=document.documentElement.style;ae=t[un],t[un]="none"}},se=function(){un&&(document.documentElement.style[un]=ae,ae=void 0)}}var cn,ln,hn=(Object.freeze||Object)({TRANSFORM:on,TRANSITION:sn,TRANSITION_END:an,get:tt,getStyle:et,create:nt,remove:it,empty:rt,toFront:ot,toBack:st,hasClass:at,addClass:ut,removeClass:ct,setClass:lt,getClass:ht,setOpacity:ft,testProp:dt,setTransform:pt,setPosition:gt,getPosition:mt,disableTextSelection:oe,enableTextSelection:se,disableImageDrag:yt,enableImageDrag:vt,preventOutline:_t,restoreOutline:bt}),fn=$t.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=mt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),gt(this._el,n),this.fire("step")},_complete:function(){y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),dn=$t.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=l(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(I(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=sn&&Pe&&!ke&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),U(this._proxy,an,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(I(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(Pe?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(Pe?this.options.zoomDelta:1)),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof _?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(o));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var n=b(e.paddingTopLeft||e.padding||[0,0]),i=b(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=C(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=b(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ut(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=(h*h-l*l+(t?-1:1)*p*p*f*f)/(2*(t?h:l)*p*f),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}if(!1===(n=n||{}).animate||!Pe)return this.setView(t,e,n);this._stop();var s=this.project(this.getCenter()),a=this.project(t),u=this.getSize(),c=this._zoom;t=I(t),e=void 0===e?c:e;var l=Math.max(u.x,u.y),h=l*this.getZoomScale(c,e),f=a.distanceTo(s)||1,d=1.42,p=d*d,g=i(0),y=Date.now(),v=(i(1)-g)/d,_=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),(function n(){var i=(Date.now()-y)/_,u=(1-Math.pow(1-i,1.5))*v;i<=1?(this._flyToFrame=m(n,this),this._move(this.unproject(s.add(a.subtract(s).multiplyBy(function(t){return l*(o(g)*function(t){return r(t)/o(t)}(g+d*t)-r(g))/p}(u)/f)),c),this.getScaleZoom(l/function(t){return l*(o(g)/o(g+d*t))}(u),c),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}).call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=C(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,C(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new S(t.coords.latitude,t.coords.longitude),n=e.toBounds(t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)it(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=nt("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new E(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=C(t),n=b(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),c=w(this.project(a,i),this.project(s,i)).getSize(),l=Pe?this.options.zoomSnap:1,h=u.x/c.x,f=u.y/c.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),l&&(i=Math.round(i/(l/100))*(l/100),i=e?Math.ceil(i/l)*l:Math.floor(i/l)*l),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new _(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new x(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs,i=n.zoom(t*n.scale(e=void 0===e?this._zoom:e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(I(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(b(t),e)},layerPointToLatLng:function(t){var e=b(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(I(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(I(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(I(t),I(e))},containerPointToLayerPoint:function(t){return b(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return b(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(b(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(I(t)))},mouseEventToContainerPoint:function(t){return Z(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=tt(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");U(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe,ut(t,"leaflet-container"+(De?" leaflet-touch":"")+(ze?" leaflet-retina":"")+(fe?" leaflet-oldie":"")+(we?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=et(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new _(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(t.markerPane,"leaflet-zoom-hide"),ut(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){gt(this._mapPane,new _(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?G:U;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Pe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){y(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[i(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!$(s,t))break;if(r.push(n),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!$(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Q(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||_t(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n))).length){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&X(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return mt(this._mapPane)||new _(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return w([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new x(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new x(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=w(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new _(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Pe?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=on,n=this._proxy.style[e];pt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();pt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(m(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,r){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),pn=v.extend({options:{position:"topright"},initialize:function(t){l(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ut(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),gn=function(t){return new pn(t)};dn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){e[t+r]=nt("div",n+t+" "+n+r,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=nt("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)it(this._controlCorners[t]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mn=pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in l(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return pn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ut(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):ct(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=nt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Y(e),H(e);var i=this._form=nt("form",t+"-list");n&&(this._map.on("click",this.collapse,this),ge||U(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=nt("a",t+"-toggle",e);r.href="#",r.title="Layers",De?(U(r,"click",W),U(r,"click",this.expand,this)):U(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=nt("div",t+"-base",i),this._separator=nt("div",t+"-separator",i),this._overlaysList=nt("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rt(this._baseLayersList),rt(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)this._addItem(i=this._layers[n]),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&r>1)?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),U(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=this._getLayer((t=n[o]).layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=this._getLayer((t=n[r]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),yn=pn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=nt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=nt("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Y(o),U(o,"click",W),U(o,"click",r,this),U(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ct(this._zoomInButton,e),ct(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ut(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ut(this._zoomInButton,e)}});dn.mergeOptions({zoomControl:!0}),dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yn,this.addControl(this.zoomControl))});var vn=pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=nt("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=nt("div",e,n)),t.imperial&&(this._iScale=nt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(n=this._getRoundNum(e=r/5280),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),_n=pn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),Y(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});dn.mergeOptions({attributionControl:!0}),dn.addInitHook(function(){this.options.attributionControl&&(new _n).addTo(this)}),pn.Layers=mn,pn.Zoom=yn,pn.Scale=vn,pn.Attribution=_n,gn.layers=function(t,e,n){return new mn(t,e,n)},gn.zoom=function(t){return new yn(t)},gn.scale=function(t){return new vn(t)},gn.attribution=function(t){return new _n(t)};var bn=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bn.addTo=function(t,e){return t.addHandler(e,this),this};var xn,wn={Events:Qt},Ln=De?"touchstart mousedown":"mousedown",En={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Cn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Sn=$t.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){l(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(U(this._dragStartTarget,Ln,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Sn._dragging===this&&this.finishDrag(),G(this._dragStartTarget,Ln,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!at(this._element,"leaflet-zoom-anim")&&!(Sn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Sn._dragging=this,this._preventOutline&&_t(this._element),yt(),oe(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new _(e.clientX,e.clientY),U(document,Cn[t.type],this._onMove,this),U(document,En[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new _(e.clientX,e.clientY).subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(X(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=mt(this._element).subtract(n),ut(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,y(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Cn)G(document,Cn[t],this._onMove,this),G(document,En[t],this._onUp,this);vt(),se(),this._moved&&this._moving&&(y(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Sn._dragging=!1}}),In=(Object.freeze||Object)({simplify:xt,pointToSegmentDistance:wt,closestPointOnSegment:function(t,e,n){return It(t,e,n)},clipSegment:Lt,_getEdgeIntersection:Et,_getBitCode:Ct,_sqClosestPointOnSegment:It,isFlat:Nt,_flat:Pt}),Nn=(Object.freeze||Object)({clipPolygon:Tt}),Pn={project:function(t){return new _(t.lng,t.lat)},unproject:function(t){return new S(t.y,t.x)},bounds:new x([-180,-90],[180,90])},Tn={R:6378137,R_MINOR:6356752.314245179,bounds:new x([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new _(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new S(a*n,t.x*n/i)}},Mn=(Object.freeze||Object)({LonLat:Pn,Mercator:Tn,SphericalMercator:ie}),An=e({},ne,{code:"EPSG:3395",projection:Tn,transformation:function(){var t=.5/(Math.PI*Tn.R);return P(t,.5,-t,.5)}()}),On=e({},ne,{code:"EPSG:4326",projection:Pn,transformation:P(1/180,1,-1/180,.5)}),Rn=e({},ee,{projection:Pn,transformation:P(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});ee.Earth=ne,ee.EPSG3395=An,ee.EPSG3857=ue,ee.EPSG900913=ce,ee.EPSG4326=On,ee.Simple=Rn;var Dn=$t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});dn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?Yt(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=Dn.extend({initialize:function(t,e){var n,i;if(l(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),Fn=kn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),kn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),kn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new E;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),zn=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){l(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=b(i),o=b("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return ze&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Bn=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Bn.imagePath||(Bn.imagePath=this._detectIconPath()),(this.options.imagePath||Bn.imagePath)+zn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=nt("div","leaflet-default-icon-path",document.body),e=et(t,"background-image")||et(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Un=bn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Sn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=w(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!u.contains(o)){var c=b((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=m(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(y(this._panRequest),this._panRequest=m(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=mt(e._icon),r=e._map.layerPointToLatLng(i);n&&gt(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gn=Dn.extend({options:{icon:new Bn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){l(this,e),this._latlng=I(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=I(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ut(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ut(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(t){gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Un)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Un(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;ft(this._icon,t),this._shadow&&ft(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),qn=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return l(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),jn=qn.extend({options:{fill:!0,radius:10},initialize:function(t,e){l(this,e),this._latlng=I(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=I(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return qn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new x(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Vn=jn.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),l(this,n),this._latlng=I(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:qn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===ne.distance){var r=Math.PI/180,o=this._mRadius/ne.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,t-l]).x,this._radiusY=u.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Hn=qn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){l(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=It,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],c=1,l=u.length;c<l;c++){var h=o(t,e=u[c-1],n=u[c],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if((i+=n=(r=a[t]).distanceTo(o=a[t+1]))>e)return this._map.layerPointToLatLng([o.x-(s=(i-e)/n)*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=I(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new E,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Nt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Nt(t),i=0,r=t.length;i<r;i++)n?(e[i]=I(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new _(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t.length;if(t[0]instanceof S){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(n=0,o=(a=this._rings[e]).length;n<o-1;n++)(s=Lt(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=xt(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(s=(a=this._parts[n]).length)-1;i<s;r=i++)if((e||0!==i)&&wt(t,a[r],a[i])<=u)return!0;return!1}});Hn._flat=Pt;var Yn=Hn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u=this._rings[0],c=u.length;if(!c)return null;for(o=s=a=0,t=0,e=c-1;t<c;e=t++)s+=((n=u[t]).x+(i=u[e]).x)*(r=n.y*i.x-i.y*n.x),a+=(n.y+i.y)*r,o+=3*r;return this._map.layerPointToLatLng(0===o?u[0]:[s/o,a/o])},_convertLatLngs:function(t){var e=Hn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof S&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Hn.prototype._setLatLngs.call(this,t),Nt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new _(e,e);if(t=new x(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=Tt(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,c=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(u=(e=this._parts[r]).length)-1;o<u;s=o++)(n=e[o]).y>t.y!=(i=e[s]).y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Hn.prototype._containsPoint.call(this,t,!0)}}),Xn=Fn.extend({initialize:function(t,e){l(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=Yt(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Mt(t,o);return s?(s.feature=Ft(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Wn={toGeoJSON:function(t){return kt(this,{type:"Point",coordinates:Rt(this.getLatLng(),t)})}};Gn.include(Wn),Vn.include(Wn),jn.include(Wn),Hn.include({toGeoJSON:function(t){var e=!Nt(this._latlngs),n=Dt(this._latlngs,e?1:0,!1,t);return kt(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),Yn.include({toGeoJSON:function(t){var e=!Nt(this._latlngs),n=e&&!Nt(this._latlngs[0]),i=Dt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),kt(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),kn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),kt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=Ft(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?kt(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Zn=zt,Kn=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=C(e),l(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ot(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:nt("img");ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),this.options.className&&ut(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;pt(this._image,n,e)},_reset:function(){var t=this._image,e=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();gt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Jn=Kn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:nt("video");if(ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),r=[],o=0;o<i.length;o++)r.push(i[o].src);this._url=i.length>0?r:[e.src]}else{Yt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var u=nt("source");u.src=this._url[a],e.appendChild(u)}}}}),Qn=Dn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){l(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ft(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(n(it,void 0,this._container),200)):it(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=I(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ot(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=b(this.options.offset),n=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),$n=Qn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Qn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qn||this._source.on("preclick",V))},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qn||this._source.off("preclick",V))},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=nt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=nt("div",t+"-content-wrapper",e);if(this._contentNode=nt("div",t+"-content",n),Y(n),H(this._contentNode),U(n,"contextmenu",V),this._tipContainer=nt("div",t+"-tip-container",e),this._tip=nt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=nt("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",U(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=this.options.maxHeight;i&&t.offsetHeight>i?(e.height=i+"px",ut(t,"leaflet-popup-scrolled")):ct(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();gt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(et(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new _(this._containerLeft,-n-this._containerBottom);r._add(mt(this._container));var o=t.layerPointToContainerPoint(r),s=b(this.options.autoPanPadding),a=b(this.options.autoPanPaddingTopLeft||s),u=b(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),l=0,h=0;o.x+i+u.x>c.x&&(l=o.x+i-c.x+u.x),o.x-l-a.x<0&&(l=o.x-a.x),o.y+n+u.y>c.y&&(h=o.y+n-c.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),W(t)},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});dn.mergeOptions({closePopupOnClick:!0}),dn.include({openPopup:function(t,e,n){return t instanceof $n||(t=new $n(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Dn.include({bindPopup:function(t,e){return t instanceof $n?(l(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new $n(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Dn||(e=t,t=this),t instanceof Fn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(W(t),e instanceof qn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ti=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Qn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return De&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=nt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=b(this.options.offset),c=this._getAnchor();"top"===o?t=t.add(b(-s/2+u.x,-a+u.y+c.y,!0)):"bottom"===o?t=t.subtract(b(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(b(s/2+u.x,a/2-c.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(b(u.x+c.x,c.y-a/2+u.y,!0))):(o="left",t=t.subtract(b(s+c.x-u.x,a/2-c.y-u.y,!0))),ct(n,"leaflet-tooltip-right"),ct(n,"leaflet-tooltip-left"),ct(n,"leaflet-tooltip-top"),ct(n,"leaflet-tooltip-bottom"),ut(n,"leaflet-tooltip-"+o),gt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ft(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});dn.include({openTooltip:function(t,e,n){return t instanceof ti||(t=new ti(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Dn.include({bindTooltip:function(t,e){return t instanceof ti?(l(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ti(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),De&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Dn||(e=t,t=this),t instanceof Fn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ut(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ct(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){this._tooltip&&this._map&&this.openTooltip(t.layer||t.target,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ei=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=b(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});zn.Default=Bn;var ni=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){l(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),it(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ot(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof _?t:new _(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!fe){ft(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);ft(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(y(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(it(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)it(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new _(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new _(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0),i&&!(this.options.updateWhenZooming&&r!==this._tileZoom)||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Pe?pt(t.el,r,i):gt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new x(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new x(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new _(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new _(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:s.push(d)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new E(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new _(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ve||e.el.setAttribute("src",Xt),it(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ut(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,fe&&this.options.opacity<1&&ft(t,this.options.opacity),ge&&!me&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&m(n(this._tileReady,this,t,null,o)),gt(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(ft(i.el,0),y(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ut(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),fe||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new _(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new x(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ii=ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=l(this,e)).detectRetina&&ze&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ge||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return U(i,"load",n(this._tileOnLoad,this,e,i)),U(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:ze?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return f(this._url,e(n,this.options))},_tileOnLoad:function(t,e){fe?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return this.options.zoomReverse&&(t=this.options.maxZoom-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=Xt,it(e),delete this._tiles[t]))}}),ri=ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);var o=(n=l(this,n)).detectRetina&&ze?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=w(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===On?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=L.TileLayer.prototype.getTileUrl.call(this,t);return a+h(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});ii.WMS=ri,Bt.wms=function(t,e){return new ri(t,e)};var oi=Dn.extend({options:{padding:.1,tolerance:0},initialize:function(t){l(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=mt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=r.multiplyBy(-n).add(i).add(r).subtract(s);Pe?pt(this._container,a,n):gt(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new x(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),si=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");U(t,"mousemove",r(this._onMouseMove,32,this),this),U(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),U(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,it(this._container),G(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},oi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=ze?2:1;gt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ze&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(J(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ct(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ut(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),ai=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ui={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ai("shape");ut(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ai("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;it(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ai("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,e.dashStyle=i.dashArray?Yt(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):"",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ai("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ot(t._container)},_bringToBack:function(t){st(t._container)}},ci=Ge?ai:T,li=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ci("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ci("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),G(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),gt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ci("path");t.options.className&&ut(e,t.options.className),t.options.interactive&&ut(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){it(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,M(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ot(t._path)},_bringToBack:function(t){st(t._path)}});Ge&&li.include(ui),dn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&Ut()||Gt()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=li&&Gt({pane:t})||si&&Ut({pane:t}),this._paneRenderers[t]=e),e}});var hi=Yn.extend({initialize:function(t,e){Yn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=C(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});li.create=ci,li.pointsToPath=M,Xn.geometryToLayer=Mt,Xn.coordsToLatLng=At,Xn.coordsToLatLngs=Ot,Xn.latLngToCoords=Rt,Xn.latLngsToCoords=Dt,Xn.getFeature=kt,Xn.asFeature=Ft,dn.mergeOptions({boxZoom:!0});var fi=bn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),oe(),yt(),this._startPoint=this._map.mouseEventToContainerPoint(t),U(document,{contextmenu:W,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new x(this._point,this._startPoint),n=e.getSize();gt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(it(this._box),ct(this._container,"leaflet-crosshair")),se(),vt(),G(document,{contextmenu:W,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});dn.addInitHook("addHandler","boxZoom",fi),dn.mergeOptions({doubleClickZoom:!0});var di=bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});dn.addInitHook("addHandler","doubleClickZoom",di),dn.mergeOptions({dragging:!0,inertia:!me,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pi=bn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Sn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=w(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=n.easeLinearity,s=r.multiplyBy(o/((this._lastTime-this._times[0])/1e3)),a=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,a),c=s.multiplyBy(u/a),l=u/(n.inertiaDeceleration*o),h=c.multiplyBy(-l/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),m(function(){e.panBy(h,{duration:l,easeLinearity:o,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});dn.addInitHook("addHandler","dragging",pi),dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gi=bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),U(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),G(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){U(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){G(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=b(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}W(t)}}});dn.addInitHook("addHandler","keyboard",gi),dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mi=bn.extend({addHooks:function(){U(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=K(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),W(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,r=n?Math.ceil(i/n)*n:i,o=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});dn.addInitHook("addHandler","scrollWheelZoom",mi),dn.mergeOptions({tap:!0,tapTolerance:15});var yi=bn.extend({addHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(X(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new _(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&ut(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),U(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),G(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ct(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new _(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});De&&!Re&&dn.addInitHook("addHandler","tap",yi),dn.mergeOptions({touchZoom:De&&!me,bounceAtZoomLimits:!0});var vi=bn.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend",this._onTouchEnd,this),X(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),y(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(a,this,!0),X(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,y(this._animRequest),G(document,"touchmove",this._onTouchMove),G(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});dn.addInitHook("addHandler","touchZoom",vi),dn.BoxZoom=fi,dn.DoubleClickZoom=di,dn.Drag=pi,dn.Keyboard=gi,dn.ScrollWheelZoom=mi,dn.Tap=yi,dn.TouchZoom=vi;var _i=window.L;window.L=t,Object.freeze=qt,t.version="1.3.1",t.noConflict=function(){return window.L=_i,this},t.Control=pn,t.control=gn,t.Browser=qe,t.Evented=$t,t.Mixin=wn,t.Util=Jt,t.Class=v,t.Handler=bn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=l,t.DomEvent=rn,t.DomUtil=hn,t.PosAnimation=fn,t.Draggable=Sn,t.LineUtil=In,t.PolyUtil=Nn,t.Point=_,t.point=b,t.Bounds=x,t.bounds=w,t.Transformation=N,t.transformation=P,t.Projection=Mn,t.LatLng=S,t.latLng=I,t.LatLngBounds=E,t.latLngBounds=C,t.CRS=ee,t.GeoJSON=Xn,t.geoJSON=zt,t.geoJson=Zn,t.Layer=Dn,t.LayerGroup=kn,t.layerGroup=function(t,e){return new kn(t,e)},t.FeatureGroup=Fn,t.featureGroup=function(t){return new Fn(t)},t.ImageOverlay=Kn,t.imageOverlay=function(t,e,n){return new Kn(t,e,n)},t.VideoOverlay=Jn,t.videoOverlay=function(t,e,n){return new Jn(t,e,n)},t.DivOverlay=Qn,t.Popup=$n,t.popup=function(t,e){return new $n(t,e)},t.Tooltip=ti,t.tooltip=function(t,e){return new ti(t,e)},t.Icon=zn,t.icon=function(t){return new zn(t)},t.DivIcon=ei,t.divIcon=function(t){return new ei(t)},t.Marker=Gn,t.marker=function(t,e){return new Gn(t,e)},t.TileLayer=ii,t.tileLayer=Bt,t.GridLayer=ni,t.gridLayer=function(t){return new ni(t)},t.SVG=li,t.svg=Gt,t.Renderer=oi,t.Canvas=si,t.canvas=Ut,t.Path=qn,t.CircleMarker=jn,t.circleMarker=function(t,e){return new jn(t,e)},t.Circle=Vn,t.circle=function(t,e,n){return new Vn(t,e,n)},t.Polyline=Hn,t.polyline=function(t,e){return new Hn(t,e)},t.Polygon=Yn,t.polygon=function(t,e){return new Yn(t,e)},t.Rectangle=hi,t.rectangle=function(t,e){return new hi(t,e)},t.Map=dn,t.map=function(t,e){return new dn(t,e)}}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).omnivore=t()}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=t("corslite"),r=t("csv2geojson"),o=t("wellknown"),s=t("polyline"),a=t("topojson"),u=t("togeojson");function c(t,e){"setGeoJSON"in t?t.setGeoJSON(e):"addData"in t&&t.addData(e)}function l(t,e,n){var i="string"==typeof t?JSON.parse(t):t;for(var r in n=n||L.geoJson(),i.objects){var o=a.feature(i,i.objects[r]);c(n,o.features?o.features:o)}return n}function h(t,e,n){return n=n||L.geoJson(),r.csv2geojson(t,e=e||{},function(t,e){if(t)return n.fire("error",{error:t});c(n,e)}),n}function f(t,e,n){var i=m(t);return i?(c(n=n||L.geoJson(),u.gpx(i)),n):n.fire("error",{error:"Could not parse GPX"})}function d(t,e,n){var i=m(t);return i?(c(n=n||L.geoJson(),u.kml(i)),n):n.fire("error",{error:"Could not parse KML"})}function p(t,e,n){n=n||L.geoJson();for(var i=s.decode(t,(e=e||{}).precision),r={type:"LineString",coordinates:[]},o=0;o<i.length;o++)r.coordinates[o]=[i[o][1],i[o][0]];return c(n,r),n}function g(t,e,n){return c(n=n||L.geoJson(),o(t)),n}function m(t){return"string"==typeof t?(new DOMParser).parseFromString(t,"text/xml"):t}e.exports.polyline=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,n){if(t)return r.fire("error",{error:t});p(n.responseText,e,r),r.fire("ready")}),r},e.exports.polyline.parse=p,e.exports.geojson=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,e){if(t)return r.fire("error",{error:t});c(r,JSON.parse(e.responseText)),r.fire("ready")}),r},e.exports.topojson=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,e){if(t)return r.fire("error",{error:t});l(e.responseText,0,r),r.fire("ready")}),r},e.exports.topojson.parse=l,e.exports.csv=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,n){var i;if(t)return r.fire("error",{error:t});function o(){i=!0}r.on("error",o),h(n.responseText,e,r),r.off("error",o),i||r.fire("ready")}),r},e.exports.csv.parse=h,e.exports.gpx=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,e){var n;if(t)return r.fire("error",{error:t});function i(){n=!0}r.on("error",i),f(e.responseXML||e.responseText,0,r),r.off("error",i),n||r.fire("ready")}),r},e.exports.gpx.parse=f,e.exports.kml=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,e){var n;if(t)return r.fire("error",{error:t});function i(){n=!0}r.on("error",i),d(e.responseXML||e.responseText,0,r),r.off("error",i),n||r.fire("ready")}),r},e.exports.kml.parse=d,e.exports.wkt=function(t,e,n){var r=n||L.geoJson();return i(t,function(t,e){if(t)return r.fire("error",{error:t});g(e.responseText,0,r),r.fire("ready")}),r},e.exports.wkt.parse=g},{corslite:4,csv2geojson:5,polyline:8,togeojson:9,topojson:10,wellknown:11}],2:[function(t,e,n){},{}],3:[function(t,e,n){var i,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],h=!1,f=-1;function d(){h&&c&&(h=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!h){var t=u(d);h=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||h||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],4:[function(t,e,n){"undefined"!=typeof e&&(e.exports=function(t,e,n){var i=!1;if("undefined"==typeof window.XMLHttpRequest)return e(Error("Browser not supported"));if("undefined"==typeof n){var r=t.match(/^\s*https?:\/\/[^\/]*/);n=r&&r[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}var o=new window.XMLHttpRequest;if(n&&!("withCredentials"in o)){o=new window.XDomainRequest;var s=e;e=function(){if(i)s.apply(this,arguments);else{var t=this,e=arguments;setTimeout(function(){s.apply(t,e)},0)}}}function a(){var t;void 0===o.status||(t=o.status)>=200&&t<300||304===t?e.call(o,null,o):e.call(o,o,null)}return"onload"in o?o.onload=a:o.onreadystatechange=function(){4===o.readyState&&a()},o.onerror=function(t){e.call(this,t||!0,null),e=function(){}},o.onprogress=function(){},o.ontimeout=function(t){e.call(this,t,null),e=function(){}},o.onabort=function(t){e.call(this,t,null),e=function(){}},o.open("GET",t,!0),o.send(null),i=!0,o})},{}],5:[function(t,e,n){"use strict";var i=t("d3-dsv"),r=t("sexagesimal"),o=/(Lat)(itude)?/gi,s=/(L)(on|ng)(gitude)?/i;function a(t,e){var n,i,r;for(var o in t)(i=o.match(e))&&(!n||i[0].length/o.length>r)&&(r=i[0].length/o.length,n=o);return n}function u(t){return a(t,o)}function c(t){return a(t,s)}function l(t){return"object"==typeof t?Object.keys(t).length:0}function h(t){var e=[];return[",",";","\t","|"].forEach(function(n){var r=i.dsvFormat(n).parse(t);if(r.length>=1){for(var o=l(r[0]),s=0;s<r.length;s++)if(l(r[s])!==o)return;e.push({delimiter:n,arity:Object.keys(r[0]).length})}}),e.length?e.sort(function(t,e){return e.arity-t.arity})[0].delimiter:null}e.exports={isLon:function(t){return!!t.match(s)},isLat:function(t){return!!t.match(o)},guessLatHeader:u,guessLonHeader:c,csv:i.csvParse,tsv:i.tsvParse,dsv:i,auto:function(t){var e=h(t);return e?function(t){return delete t.columns,t}(i.dsvFormat(e).parse(t)):null},csv2geojson:function(t,e,n){n||(n=e,e={}),e.delimiter=e.delimiter||",";var o=e.latfield||"",s=e.lonfield||"",a=e.crs||"",l=[],f={type:"FeatureCollection",features:l};if(""!==a&&(f.crs={type:"name",properties:{name:a}}),"auto"!==e.delimiter||"string"!=typeof t||(e.delimiter=h(t),e.delimiter)){var d="string"==typeof t?i.dsvFormat(e.delimiter).parse(t):t;if(d.length){var p,g=[];if(o||(o=u(d[0])),s||(s=c(d[0])),o&&s){for(p=0;p<d.length;p++)if(void 0!==d[p][s]&&void 0!==d[p][o]){var m,y,v,_=d[p][s],b=d[p][o];(v=r(_,"EW"))&&(_=v),(v=r(b,"NS"))&&(b=v),m=parseFloat(_),y=parseFloat(b),isNaN(m)||isNaN(y)?g.push({message:"A row contained an invalid value for latitude or longitude",row:d[p],index:p}):(e.includeLatLon||(delete d[p][s],delete d[p][o]),l.push({type:"Feature",properties:d[p],geometry:{type:"Point",coordinates:[parseFloat(m),parseFloat(y)]}}))}n(g.length?g:null,f)}else{for(p=0;p<d.length;p++)l.push({type:"Feature",properties:d[p],geometry:null});n(g.length?g:null,f)}}else n(null,f)}else n({type:"Error",message:"Could not autodetect delimiter"})},toLine:function(t){for(var e=t.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},i=0;i<e.length;i++)n.geometry.coordinates.push(e[i].geometry.coordinates);return n.properties=e.reduce(function(t,e){for(var n in e.properties)t[n]||(t[n]=[]),t[n].push(e.properties[n]);return t},{}),{type:"FeatureCollection",features:[n]}},toPolygon:function(t){for(var e=t.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},i=0;i<e.length;i++)n.geometry.coordinates[0].push(e[i].geometry.coordinates);return n.properties=e.reduce(function(t,e){for(var n in e.properties)t[n]||(t[n]=[]),t[n].push(e.properties[n]);return t},{}),{type:"FeatureCollection",features:[n]}}}},{"d3-dsv":6,sexagesimal:7}],6:[function(t,e,n){!function(t){"use strict";function e(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function n(t){var n=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);function r(t,e){var n,r,o={},s={},a=[],u=t.length,c=0,l=0;function h(){if(c>=u)return s;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var a=n;a++<u;)if(34===t.charCodeAt(a)){if(34!==t.charCodeAt(a+1))break;++a}return c=a+2,13===(e=t.charCodeAt(a+1))?(r=!0,10===t.charCodeAt(a+2)&&++c):10===e&&(r=!0),t.slice(n+1,a).replace(/""/g,'"')}for(;c<u;){var l=1;if(10===(e=t.charCodeAt(c++)))r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++l);else if(e!==i)continue;return t.slice(n,c-l)}return t.slice(n)}for(;(n=h())!==s;){for(var f=[];n!==o&&n!==s;)f.push(n),n=h();e&&null==(f=e(f,l++))||a.push(f)}return a}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":n.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}return{parse:function(t,n){var i,o,s=r(t,function(t,r){if(i)return i(t,r-1);o=t,i=n?function(t,n){var i=e(t);return function(e,r){return n(i(e),r,t)}}(t,n):e(t)});return s.columns=o,s},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}(e)),[n.map(s).join(t)].concat(e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}}var i=n(","),r=i.parse,o=i.parseRows,s=i.format,a=i.formatRows,u=n("\t"),c=u.parse,l=u.parseRows,h=u.format,f=u.formatRows;t.dsvFormat=n,t.csvParse=r,t.csvParseRows=o,t.csvFormat=s,t.csvFormatRows=a,t.tsvParse=c,t.tsvParseRows=l,t.tsvFormat=h,t.tsvFormatRows=f,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&"undefined"!=typeof e?n:this.d3=this.d3||{})},{}],7:[function(t,e,n){function i(t,e){var n=r(t,e);return n.whole+"\xb0 "+(n.minutes?n.minutes+"' ":"")+(n.seconds?n.seconds+'" ':"")+n.dir}function r(t,e){var n=({lat:["N","S"],lon:["E","W"]}[e]||"")[t>=0?0:1],i=Math.abs(t),r=Math.floor(i),o=60*(i-r),s=Math.floor(o);return{whole:r,minutes:s,seconds:Math.floor(60*(o-s)),dir:n}}function o(t,e,n){if(e||(e="NSEW"),"string"!=typeof t)return{val:null,regex:n};var i=(n=n||/[\s\,]*([\-|\\u2014|\\u2015]?[0-9.]+)\xb0? *(?:([0-9.]+)['\u2019\u2032\u2018] *)?(?:([0-9.]+)(?:''|"|\u201d|\u2033) *)?([NSEW])?/gi).exec(t);return i?i[4]&&-1===e.indexOf(i[4])?{val:null,regex:n}:{val:((i[1]?parseFloat(i[1]):0)+(i[2]?parseFloat(i[2])/60:0)+(i[3]?parseFloat(i[3])/3600:0))*(i[4]&&"S"===i[4]||"W"===i[4]?-1:1),regex:n,raw:i[0],dim:i[4]}:{val:null,regex:n}}e.exports=function(t,e){return o(t,e).val},e.exports.pair=function(t,e){var n=o(t=t.trim(),e);if(null===n.val)return null;var i,r,s,a=o(t,e,n.regex);return null===a.val?null:n.raw+a.raw!==t?null:n.dim?(i=n.val,r=a.val,"N"===(s=n.dim)||"S"===s?[i,r]:"W"===s||"E"===s?[r,i]:void 0):[n.val,a.val]},e.exports.format=i,e.exports.formatPair=function(t){return i(t.lat,"lat")+" "+i(t.lon,"lon")},e.exports.coordToDMS=r},{}],8:[function(t,e,n){"use strict";var i={};function r(t,e){t=Math.round(t*e),(t<<=1)<0&&(t=~t);for(var n="";t>=32;)n+=String.fromCharCode(63+(32|31&t)),t>>=5;return n+String.fromCharCode(t+63)}function o(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice().reverse());return e}i.decode=function(t,e){for(var n,i=0,r=0,o=0,s=[],a=0,u=0,c=null,l=Math.pow(10,e||5);i<t.length;){c=null,a=0,u=0;do{u|=(31&(c=t.charCodeAt(i++)-63))<<a,a+=5}while(c>=32);n=1&u?~(u>>1):u>>1,a=u=0;do{u|=(31&(c=t.charCodeAt(i++)-63))<<a,a+=5}while(c>=32);s.push([(r+=n)/l,(o+=1&u?~(u>>1):u>>1)/l])}return s},i.encode=function(t,e){if(!t.length)return"";for(var n=Math.pow(10,e||5),i=r(t[0][0],n)+r(t[0][1],n),o=1;o<t.length;o++){var s=t[o],a=t[o-1];i+=r(s[0]-a[0],n),i+=r(s[1]-a[1],n)}return i},i.fromGeoJSON=function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return i.encode(o(t.coordinates),e)},i.toGeoJSON=function(t,e){return{type:"LineString",coordinates:o(i.decode(t,e))}},"object"==typeof e&&e.exports&&(e.exports=i)},{}],9:[function(t,e,n){(function(i){var r=function(){"use strict";var e,r=/\s*/g,o=/^\s*|\s*$/g,s=/\s+/;function a(t){if(!t||!t.length)return 0;for(var e=0,n=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return n}function u(t,e){return t.getElementsByTagName(e)}function c(t,e){return t.getAttribute(e)}function l(t,e){return parseFloat(c(t,e))}function h(t,e){var n=u(t,e);return n.length?n[0]:null}function f(t){for(var e=0,n=[];e<t.length;e++)n[e]=parseFloat(t[e]);return n}function d(t){var e;return t&&(e=t).normalize&&e.normalize(),t&&t.textContent||""}function p(t){return f(t.replace(r,"").split(","))}function g(t){for(var e=t.replace(o,"").split(s),n=[],i=0;i<e.length;i++)n.push(p(e[i]));return n}function m(t){var e,n=[l(t,"lon"),l(t,"lat")],i=h(t,"ele"),r=h(t,"gpxtpx:hr")||h(t,"hr"),o=h(t,"time");return i&&(e=parseFloat(d(i)),isNaN(e)||n.push(e)),{coordinates:n,time:o?d(o):null,heartRate:r?parseFloat(d(r)):null}}function y(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}return"undefined"!=typeof XMLSerializer?e=new XMLSerializer:"object"!=typeof n||"object"!=typeof i||i.browser||(e=new(t("xmldom").XMLSerializer)),{kml:function(t){for(var e={type:"FeatureCollection",features:[]},n={},i=["Polygon","LineString","Point","Track","gx:Track"],r=u(t,"Placemark"),o=u(t,"Style"),s=u(t,"StyleMap"),l=0;l<o.length;l++)n["#"+c(o[l],"id")]=a(y(o[l])).toString(16);for(var m=0;m<s.length;m++)n["#"+c(s[m],"id")]=a(y(s[m])).toString(16);for(var v=0;v<r.length;v++)e.features=e.features.concat(x(r[v]));function _(t){var e,n;return"#"===(t=t||"").substr(0,1)&&(t=t.substr(1)),6!==t.length&&3!==t.length||(e=t),8===t.length&&(n=parseInt(t.substr(0,2),16)/255,e="#"+t.substr(2)),[e,isNaN(n)?void 0:n]}function b(t){var e=u(t,"coord"),n=[],i=[];0===e.length&&(e=u(t,"gx:coord"));for(var r=0;r<e.length;r++)n.push(f(d(e[r]).split(" ")));for(var o=u(t,"when"),s=0;s<o.length;s++)i.push(d(o[s]));return{coords:n,times:i}}function x(t){var e,r=function t(e){var n,r,o,s,a,c=[],l=[];if(h(e,"MultiGeometry"))return t(h(e,"MultiGeometry"));if(h(e,"MultiTrack"))return t(h(e,"MultiTrack"));if(h(e,"gx:MultiTrack"))return t(h(e,"gx:MultiTrack"));for(o=0;o<i.length;o++)if(r=u(e,i[o]))for(s=0;s<r.length;s++)if(n=r[s],"Point"===i[o])c.push({type:"Point",coordinates:p(d(h(n,"coordinates")))});else if("LineString"===i[o])c.push({type:"LineString",coordinates:g(d(h(n,"coordinates")))});else if("Polygon"===i[o]){var f=u(n,"LinearRing"),m=[];for(a=0;a<f.length;a++)m.push(g(d(h(f[a],"coordinates"))));c.push({type:"Polygon",coordinates:m})}else if("Track"===i[o]||"gx:Track"===i[o]){var y=b(n);c.push({type:"LineString",coordinates:y.coords}),y.times.length&&l.push(y.times)}return{geoms:c,coordTimes:l}}(t),o={},s=d(h(t,"name")),a=d(h(t,"styleUrl")),l=d(h(t,"description")),f=h(t,"TimeSpan"),m=h(t,"ExtendedData"),y=h(t,"LineStyle"),v=h(t,"PolyStyle");if(!r.geoms.length)return[];if(s&&(o.name=s),"#"!==a[0]&&(a="#"+a),a&&n[a]&&(o.styleUrl=a,o.styleHash=n[a]),l&&(o.description=l),f){var x=d(h(f,"begin")),w=d(h(f,"end"));o.timespan={begin:x,end:w}}if(y){var L=_(d(h(y,"color"))),E=L[0],C=L[1],S=parseFloat(d(h(y,"width")));E&&(o.stroke=E),isNaN(C)||(o["stroke-opacity"]=C),isNaN(S)||(o["stroke-width"]=S)}if(v){var I=_(d(h(v,"color"))),N=I[0],P=I[1],T=d(h(v,"fill")),M=d(h(v,"outline"));N&&(o.fill=N),isNaN(P)||(o["fill-opacity"]=P),T&&(o["fill-opacity"]="1"===T?1:0),M&&(o["stroke-opacity"]="1"===M?1:0)}if(m){var A=u(m,"Data"),O=u(m,"SimpleData");for(e=0;e<A.length;e++)o[A[e].getAttribute("name")]=d(h(A[e],"value"));for(e=0;e<O.length;e++)o[O[e].getAttribute("name")]=d(O[e])}r.coordTimes.length&&(o.coordTimes=1===r.coordTimes.length?r.coordTimes[0]:r.coordTimes);var R={type:"Feature",geometry:1===r.geoms.length?r.geoms[0]:{type:"GeometryCollection",geometries:r.geoms},properties:o};return c(t,"id")&&(R.id=c(t,"id")),[R]}return e},gpx:function(t){var e,n,i,r,o=u(t,"trk"),s=u(t,"rte"),a=u(t,"wpt"),c={type:"FeatureCollection",features:[]};for(e=0;e<o.length;e++)(n=f(o[e]))&&c.features.push(n);for(e=0;e<s.length;e++)(n=p(s[e]))&&c.features.push(n);for(e=0;e<a.length;e++)c.features.push((r=void 0,(r=g(i=a[e])).sym=d(h(i,"sym")),{type:"Feature",properties:r,geometry:{type:"Point",coordinates:m(i).coordinates}}));function l(t,e){var n=u(t,e),i=[],r=[],o=[],s=n.length;if(s<2)return{};for(var a=0;a<s;a++){var c=m(n[a]);i.push(c.coordinates),c.time&&r.push(c.time),c.heartRate&&o.push(c.heartRate)}return{line:i,times:r,heartRates:o}}function f(t){for(var e,n=u(t,"trkseg"),i=[],r=[],o=[],s=0;s<n.length;s++)(e=l(n[s],"trkpt")).line&&i.push(e.line),e.times&&e.times.length&&r.push(e.times),e.heartRates&&e.heartRates.length&&o.push(e.heartRates);if(0!==i.length){var a=g(t);return r.length&&(a.coordTimes=1===i.length?r[0]:r),o.length&&(a.heartRates=1===i.length?o[0]:o),{type:"Feature",properties:a,geometry:{type:1===i.length?"LineString":"MultiLineString",coordinates:1===i.length?i[0]:i}}}}function p(t){var e=l(t,"rtept");if(e.line)return{type:"Feature",properties:g(t),geometry:{type:"LineString",coordinates:e.line}}}function g(t){var e,n=["name","desc","author","copyright","link","time","keywords"],i={};for(e=0;e<n.length;e++)i[n[e]]=d(h(t,n[e]));return function(t){var e={};for(var n in t)t[n]&&(e[n]=t[n]);return e}(i)}return c}}}();"undefined"!=typeof e&&(e.exports=r)}).call(this,t("_process"))},{_process:3,xmldom:2}],10:[function(t,e,n){!function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+s,t[1]=(i+=t[1])*o+a}}function i(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function r(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:o(t,e)};return null==e.id&&delete n.id,n}function o(t,e){var i=n(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var n,o=r[t<0?~t:t],s=0,a=o.length;s<a;++s)e.push(n=o[s].slice()),i(n,s);t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,a)}function s(t){return t=t.slice(),i(t,0),t}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)o(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function c(t){return t.map(u)}var l={Point:function(t){return s(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(s)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return c(t.arcs)},MultiPolygon:function(t){return t.arcs.map(c)}};return function t(e){var n=e.type;return"GeometryCollection"===n?{type:n,geometries:e.geometries.map(t)}:n in l?{type:n,coordinates:l[n](e)}:null}(e)}function s(t,e){var n={},i={},r={},o=[],s=-1;function a(t,e){for(var i in t){var r=t[i];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){n[t<0?~t:t]=1}),o.push(r)}}return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++s],e[s]=n,e[i]=r)}),e.forEach(function(e){var n,o,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),a=s[0],u=s[1];if(n=r[a])if(delete r[n.end],n.push(e),n.end=u,o=i[u]){delete i[o.start];var c=o===n?n:n.concat(o);i[c.start=n.start]=r[c.end=o.end]=c}else i[n.start]=r[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,o=r[a]){delete r[o.end];var l=o===n?n:o.concat(n);i[l.start=o.start]=r[l.end=n.end]=l}else i[n.start]=r[n.end]=n;else i[(n=[e]).start=a]=r[n.end=u]=n}),a(r,i),a(i,r),e.forEach(function(t){n[t<0?~t:t]||o.push([t])}),o}function a(t,e,n){var i=[];function r(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function o(t){t.forEach(r)}function a(t){t.forEach(o)}if(arguments.length>1){var u,c=[],l={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};!function t(e){"GeometryCollection"===e.type?e.geometries.forEach(t):e.type in l&&(u=e,l[e.type](e.arcs))}(e),c.forEach(arguments.length<3?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)})}else for(var h=0,f=t.arcs.length;h<f;++h)i.push(h);return{type:"MultiLineString",arcs:s(t,i)}}function u(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function c(t,e){var n={},i=[],r=[];function a(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),i.push(t)}function u(e){return Math.abs(function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)o+=(e=r)[0]*(r=t[n])[1]-e[1]*r[0];return o/2}(o(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}return e.forEach(function(t){"Polygon"===t.type?a(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(a)}),i.forEach(function(t){if(!t._){var e=[],i=[t];for(t._=1,r.push(e);t=i.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,i.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(e){var i,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&r.push(t)})})}),(i=(r=s(t,r)).length)>1)for(var o,a,c=1,l=u(r[0]);c<i;++c)(o=u(r[c]))>l&&(a=r[0],r[0]=r[c],r[c]=a,l=o);return r})}}function l(t,e){return t[1][2]-e[1][2]}t.version="1.6.26",t.mesh=function(t){return o(t,a.apply(this,arguments))},t.meshArcs=a,t.merge=function(t){return o(t,c.apply(this,arguments))},t.mergeArcs=c,t.feature=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return r(t,e)})}:r(t,e)},t.neighbors=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var i=e[t];i?i.push(n):e[t]=[n]})}function o(t,e){t.forEach(function(t){r(t,e)})}var s={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach(function(t){o(t,e)})}};for(var a in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in s&&s[e.type](e.arcs,n)}),e)for(var u=e[a],c=u.length,l=0;l<c;++l)for(var h=l+1;h<c;++h){var f,d=u[l],p=u[h];(f=n[d])[a=i(f,p)]!==p&&f.splice(a,0,p),(f=n[p])[a=i(f,d)]!==d&&f.splice(a,0,d)}return n},t.presimplify=function(t,i){var r=n(t.transform),o=function(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0);var u=Math.round((t[0]-s)/r),c=Math.round((t[1]-a)/o);t[0]=u-n,t[1]=c-i,n=u,i=c}}(t.transform),s=function(){var t={},e=[],n=0;function i(t,n){for(;n>0;){var i=(n+1>>1)-1,r=e[i];if(l(t,r)>=0)break;e[r._=n]=r,e[t._=n=i]=t}}function r(t,i){for(;;){var r=i+1<<1,o=r-1,s=i,a=e[s];if(o<n&&l(e[o],a)<0&&(a=e[s=o]),r<n&&l(e[r],a)<0&&(a=e[s=r]),s===i)break;e[a._=i]=a,e[t._=i=s]=t}}return t.push=function(t){return i(e[t._=n]=t,n++),n},t.pop=function(){if(!(n<=0)){var t,i=e[0];return--n>0&&r(e[(t=e[n])._=0]=t,0),i}},t.remove=function(t){var o,s=t._;if(e[s]===t)return s!==--n&&(l(o=e[n],t)<0?i:r)(e[o._=s]=o,s),s},t}();function a(t){s.remove(t),t[1][2]=i(t),s.push(t)}return i||(i=u),t.arcs.forEach(function(t){var e,n,u,c,l=[],h=0;for(n=0,u=t.length;n<u;++n)r(t[n]=[(c=t[n])[0],c[1],1/0],n);for(n=1,u=t.length-1;n<u;++n)(e=t.slice(n-1,n+2))[1][2]=i(e),l.push(e),s.push(e);for(n=0,u=l.length;n<u;++n)(e=l[n]).previous=l[n-1],e.next=l[n+1];for(;e=s.pop();){var f=e.previous,d=e.next;e[1][2]<h?e[1][2]=h:h=e[1][2],f&&(f.next=d,f[2]=e[2],a(f)),d&&(d.previous=f,d[0]=e[0],a(d))}t.forEach(o)}),t}}("object"==typeof n&&"undefined"!=typeof e?n:this.topojson=this.topojson||{})},{}],11:[function(t,e,n){e.exports=o,e.exports.parse=o,e.exports.stringify=function t(e){function n(t){return t.join(" ")}function i(t){return t.map(n).join(", ")}function r(t){return t.map(i).map(o).join(", ")}function o(t){return"("+t+")"}switch("Feature"===e.type&&(e=e.geometry),e.type){case"Point":return"POINT ("+n(e.coordinates)+")";case"LineString":return"LINESTRING ("+i(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+i(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+e.coordinates.map(r).map(o).join(", ")+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(t).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};var i=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,r=new RegExp("^"+i.source+"(\\s"+i.source+"){1,}");function o(t){var e,n=t.split(";"),i=n.pop(),o=(n.shift()||"").split("=").pop(),s=0;function a(t){var e=i.substring(s).match(t);return e?(s+=e[0].length,e[0]):null}function u(){a(/^\s*/)}function c(){u();for(var t,e=0,n=[],i=[n],o=n;t=a(/^(\()/)||a(/^(\))/)||a(/^(\,)/)||a(r);){if("("===t)i.push(o),i[i.length-1].push(o=[]),e++;else if(")"===t){if(0===o.length)return null;if(!(o=i.pop()))return null;if(0==--e)break}else if(","===t)i[i.length-1].push(o=[]);else{if(t.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(o,t.split(/\s/g).map(parseFloat))}u()}return 0!==e?null:n}function l(){for(var t,e,n=[];e=a(r)||a(/^(\,)/);)","===e?(n.push(t),t=[]):e.split(/\s/g).some(isNaN)||(t||(t=[]),Array.prototype.push.apply(t,e.split(/\s/g).map(parseFloat))),u();return t?(n.push(t),n.length?n:null):null}return(e=function t(){return function(){if(!a(/^(point)/i))return null;if(u(),!a(/^(\()/))return null;var t=l();return t?(u(),a(/^(\))/)?{type:"Point",coordinates:t[0]}:null):null}()||function(){if(!a(/^(linestring)/i))return null;if(u(),!a(/^(\()/))return null;var t=l();return t&&a(/^(\))/)?{type:"LineString",coordinates:t}:null}()||function(){if(!a(/^(polygon)/i))return null;u();var t=c();return t?{type:"Polygon",coordinates:t}:null}()||function(){if(!a(/^(multipoint)/i))return null;u();var t=i.substring(i.indexOf("(")+1,i.length-1).replace(/\(/g,"").replace(/\)/g,"");i="MULTIPOINT ("+t+")";var e=c();return e?(u(),{type:"MultiPoint",coordinates:e}):null}()||function(){if(!a(/^(multilinestring)/i))return null;u();var t=c();return t?(u(),{type:"MultiLineString",coordinates:t}):null}()||function(){if(!a(/^(multipolygon)/i))return null;u();var t=c();return t?{type:"MultiPolygon",coordinates:t}:null}()||function(){var e,n=[];if(!a(/^(geometrycollection)/i))return null;if(u(),!a(/^(\()/))return null;for(;e=t();)n.push(e),u(),a(/^(\,)/),u();return a(/^(\))/)?{type:"GeometryCollection",geometries:n}:null}()}())&&o.match(/\d+/)&&(e.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+o}}),e}},{}]},{},[1])(1)}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&"undefined"!=typeof exports?module.exports=e():t.Papa=e()}(this,function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:{},i=!n.document&&!!n.postMessage,r=i&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,s={},a=0,u={parse:function(e,i){var r=(i=i||{}).dynamicTyping||!1;if(w(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.worker&&u.WORKERS_SUPPORTED){var c=function(){if(!u.WORKERS_SUPPORTED)return!1;if(!o&&null===u.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=u.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var i=new n.Worker(e);return i.onmessage=y,i.id=a++,s[i.id]=i,i}();return c.userStep=i.step,c.userChunk=i.chunk,c.userComplete=i.complete,c.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,void c.postMessage({input:e,config:i,workerId:c.id})}var l=null;return"string"==typeof e?l=i.download?new h(i):new d(i):!0===e.readable&&w(e.read)&&w(e.on)?l=new p(i):(n.File&&e instanceof File||e instanceof Object)&&(l=new f(i)),l.stream(e)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===u.BAD_DELIMITERS.indexOf(e.delimiter)&&(r=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(n=e.quotes),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header));var a=new RegExp(s,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return l(null,t);if("object"==typeof t[0])return l(c(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:c(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),l(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input";function c(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function l(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(s&&i){for(var u=0;u<t.length;u++)u>0&&(n+=r),n+=h(t[u],u);e.length>0&&(n+=o)}for(var c=0;c<e.length;c++){for(var l=s?t.length:e[c].length,f=0;f<l;f++)f>0&&(n+=r),n+=h(e[c][s&&a?t[f]:f],f);c<e.length-1&&(n+=o)}return n}function h(t,e){return"undefined"==typeof t||null===t?"":(t=t.toString().replace(a,s+s),"boolean"==typeof n&&n||n instanceof Array&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,u.BAD_DELIMITERS)||t.indexOf(r)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1)?s+t+s:t)}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\ufeff",u.BAD_DELIMITERS=["\r","\n",'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.SCRIPT_PATH=null,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=m,u.ParserHandle=g,u.NetworkStreamer=h,u.FileStreamer=f,u.StringStreamer=d,u.ReadableStreamStreamer=p,n.jQuery){var c=n.jQuery;c.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(t){if("INPUT"!==c(this).prop("tagName").toUpperCase()||"file"!==c(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:c.extend({},e)})}),r(),this;function r(){if(0!==i.length){var e,n,r,s,a=i[0];if(w(t.before)){var l=t.before(a.file,a.inputElem);if("object"==typeof l){if("abort"===l.action)return e="AbortError",n=a.file,r=a.inputElem,s=l.reason,void(w(t.error)&&t.error({name:e},n,r,s));if("skip"===l.action)return void o();"object"==typeof l.config&&(a.instanceConfig=c.extend(a.instanceConfig,l.config))}else if("skip"===l)return void o()}var h=a.instanceConfig.complete;a.instanceConfig.complete=function(t){w(h)&&h(t,a.file,a.inputElem),o()},u.parse(a.file,a.instanceConfig)}else w(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function l(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new g(e),this._handle.streamer=this,this._config=e}).call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var i=this._partialLine+t;this._partialLine="";var o=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=o.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),o&&o.data&&(this._rowCount+=o.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:o,workerId:u.WORKER_ID,finished:a});else if(w(this._config.chunk)){if(this._config.chunk(o,this._handle),this._paused)return;o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),!a||!w(this._config.complete)||o&&o.meta.aborted||this._config.complete(this._completeResults,this._input),a||o&&o.meta.paused||this._nextChunk(),o}},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=u.RemoteChunkSize),l.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)),e.open("GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}this._config.chunkSize&&(e.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1)),e.setRequestHeader("If-None-Match","webkit-no-cache"));try{e.send()}catch(t){this._chunkError(t.message)}i&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4==e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){this._sendError(e.statusText||t)}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=u.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error.message)}}function d(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function p(t){l.call(this,t=t||{});var e=[],n=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){e.length?this.parseChunk(e.shift()):n=!0},this._streamData=x(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=x(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=x(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=this,s=0,a=!1,c=!1,l=[],h={data:[],errors:[],meta:{}};if(w(t.step)){var f=t.step;t.step=function(e){if(h=e,p())d();else{if(d(),0===h.data.length)return;t.preview&&(s+=e.data.length)>t.preview?n.abort():f(h,o)}}}function d(){if(h&&i&&(y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<h.data.length;e++)1===h.data[e].length&&""===h.data[e][0]&&h.data.splice(e--,1);return p()&&function(){if(h){for(var t=0;p()&&t<h.data.length;t++)for(var e=0;e<h.data[t].length;e++)l.push(h.data[t][e]);h.data.splice(0,1)}}(),function(){if(!h||!t.header&&!t.dynamicTyping)return h;for(var e=0;e<h.data.length;e++){for(var n=t.header?{}:[],i=0;i<h.data[e].length;i++){var r=i,o=h.data[e][i];t.header&&(r=i>=l.length?"__parsed_extra":l[i]),o=g(r,o),"__parsed_extra"===r?(n[r]=n[r]||[],n[r].push(o)):n[r]=o}h.data[e]=n,t.header&&(i>l.length?y("FieldMismatch","TooManyFields","Too many fields: expected "+l.length+" fields but parsed "+i,e):i<l.length&&y("FieldMismatch","TooFewFields","Too few fields: expected "+l.length+" fields but parsed "+i,e))}return t.header&&h.meta&&(h.meta.fields=l),h}()}function p(){return t.header&&0===l.length}function g(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(i=n)?parseFloat(i):i):n;var i}function y(t,e,n,i){h.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,o,s){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n");if(1===e.length||n.length>1&&n[0].length<e[0].length)return"\n";for(var i=0,r=0;r<e.length;r++)"\n"===e[r][0]&&i++;return i>=e.length/2?"\r\n":"\r"}(r)),i=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(r),h.meta.delimiter=t.delimiter);else{var c=function(e,n,i){for(var r,o,s,a=[",","\t","|",";",u.RECORD_SEP,u.UNIT_SEP],c=0;c<a.length;c++){var l=a[c],h=0,f=0,d=0;s=void 0;for(var p=new m({delimiter:l,newline:n,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&1===p.data[g].length&&0===p.data[g][0].length)d++;else{var y=p.data[g].length;f+=y,"undefined"!=typeof s?y>1&&(h+=Math.abs(y-s),s=y):s=y}p.data.length>0&&(f/=p.data.length-d),("undefined"==typeof o||h<o)&&f>1.99&&(o=h,r=l)}return t.delimiter=r,{successful:!!r,bestDelimiter:r}}(r,t.newline,t.skipEmptyLines);c.successful?t.delimiter=c.bestDelimiter:(i=!0,t.delimiter=u.DefaultDelimiter),h.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,e=r,n=new m(l),h=n.parse(e,o,s),d(),a?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return a},this.pause=function(){a=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){a=!1,o.streamer.parseChunk(e)},this.aborted=function(){return c},this.abort=function(){c=!0,n.abort(),h.meta.aborted=!0,w(t.complete)&&t.complete(h),e=""}}function m(t){var e=(t=t||{}).delimiter,n=t.newline,i=t.comments,r=t.step,o=t.preview,s=t.fastMode;if(void 0===t.quoteChar)var a='"';else a=t.quoteChar;if(("string"!=typeof e||u.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),i===e)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||u.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var c=0,l=!1;this.parse=function(t,u,h){if("string"!=typeof t)throw"Input must be a string";var f=t.length,d=e.length,p=n.length,g=i.length,m=w(r);c=0;var y=[],v=[],_=[],b=0;if(!t)return M();if(s||!1!==s&&-1===t.indexOf(a)){for(var x=t.split(n),L=0;L<x.length;L++){if(c+=(_=x[L]).length,L!==x.length-1)c+=n.length;else if(h)return M();if(!i||_.substr(0,g)!==i){if(m){if(y=[],N(_.split(e)),A(),l)return M()}else N(_.split(e));if(o&&L>=o)return y=y.slice(0,o),M(!0)}}return M()}for(var E=t.indexOf(e,c),C=t.indexOf(n,c),S=new RegExp(a+a,"g");;)if(t[c]!==a)if(i&&0===_.length&&t.substr(c,g)===i){if(-1===C)return M();C=t.indexOf(n,c=C+p),E=t.indexOf(e,c)}else if(-1!==E&&(E<C||-1===C))_.push(t.substring(c,E)),E=t.indexOf(e,c=E+d);else{if(-1===C)break;if(_.push(t.substring(c,C)),T(C+p),m&&(A(),l))return M();if(o&&y.length>=o)return M(!0)}else{var I=c;for(c++;;){if(-1===(I=t.indexOf(a,I+1)))return h||v.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:c}),P();if(I===f-1)return P(t.substring(c,I).replace(S,a));if(t[I+1]!==a){if(t[I+1]===e){_.push(t.substring(c,I).replace(S,a)),E=t.indexOf(e,c=I+1+d),C=t.indexOf(n,c);break}if(t.substr(I+1,p)===n){if(_.push(t.substring(c,I).replace(S,a)),T(I+1+p),E=t.indexOf(e,c),m&&(A(),l))return M();if(o&&y.length>=o)return M(!0);break}v.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:c}),I++}else I++}}return P();function N(t){y.push(t),b=c}function P(e){return h?M():("undefined"==typeof e&&(e=t.substr(c)),_.push(e),c=f,N(_),m&&A(),M())}function T(e){c=e,N(_),_=[],C=t.indexOf(n,c)}function M(t){return{data:y,errors:v,meta:{delimiter:e,linebreak:n,aborted:l,truncated:!!t,cursor:b+(u||0)}}}function A(){r(M()),y=[],v=[]}},this.abort=function(){l=!0},this.getCharIndex=function(){return c}}function y(t){var e=t.data,n=s[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,v(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&v(e.workerId,e.results)}function v(t,e){var n=s[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function _(){throw"Not implemented."}function b(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=b(t[n]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r?n.onmessage=function(t){var e=t.data;if("undefined"==typeof u.WORKER_ID&&e&&(u.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:u.WORKER_ID,results:u.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var i=u.parse(e.input,e.config);i&&n.postMessage({workerId:u.WORKER_ID,results:i,finished:!0})}}:u.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(h.prototype=Object.create(l.prototype)).constructor=h,(f.prototype=Object.create(l.prototype)).constructor=f,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(l.prototype)).constructor=p,u}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=function(t){return function(n,i){return e(t(n),i)}}(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function i(t,e){return[t,e]}function r(t){return null===t?NaN:+t}function o(t,e){var n,i,o=t.length,s=0,a=-1,u=0,c=0;if(null==e)for(;++a<o;)isNaN(n=r(t[a]))||(c+=(i=n-u)*(n-(u+=i/++s)));else for(;++a<o;)isNaN(n=r(e(t[a],a,t)))||(c+=(i=n-u)*(n-(u+=i/++s)));if(s>1)return c/(s-1)}function s(t,e){var n=o(t,e);return n?Math.sqrt(n):n}function a(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}function u(t){return function(){return t}}function c(t){return t}function l(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function h(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=f(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o}function f(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Yc?10:o>=Xc?5:o>=Wc?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Yc?10:o>=Xc?5:o>=Wc?2:1)}function d(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Yc?r*=10:o>=Xc?r*=5:o>=Wc&&(r*=2),e<t?-r:r}function p(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function g(t,e,n){if(null==n&&(n=r),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,s=Math.floor(o),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(o-s)}}function m(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i}function y(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n}function v(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}function _(t){if(!(r=t.length))return[];for(var e=-1,n=v(t,b),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function b(t){return t.length}function x(t){return t}function w(t){return"translate("+(t+.5)+",0)"}function L(t){return"translate(0,"+(t+.5)+")"}function E(){return!this.__axis}function C(t,e){function n(n){var f=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,d=null==o?e.tickFormat?e.tickFormat.apply(e,i):x:o,p=Math.max(s,0)+u,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),_=n.selection?n.selection():n,b=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(f,e).order(),L=w.exit(),C=w.enter().append("g").attr("class","tick"),S=w.select("line"),I=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(C),S=S.merge(C.append("line").attr("stroke","#000").attr(l+"2",c*s)),I=I.merge(C.append("text").attr("fill","#000").attr(l,c*p).attr("dy",t===Kc?"0em":t===Qc?"0.71em":"0.32em")),n!==_&&(b=b.transition(n),w=w.transition(n),S=S.transition(n),I=I.transition(n),L=L.transition(n).attr("opacity",tl).attr("transform",function(t){return isFinite(t=v(t))?h(t):this.getAttribute("transform")}),C.attr("opacity",tl).attr("transform",function(t){var e=this.parentNode.__axis;return h(e&&isFinite(e=e(t))?e:v(t))})),L.remove(),b.attr("d",t===$c||t==Jc?"M"+c*a+","+m+"H0.5V"+y+"H"+c*a:"M"+m+","+c*a+"V0.5H"+y+"V"+c*a),w.attr("opacity",1).attr("transform",function(t){return h(v(t))}),S.attr(l+"2",c*s),I.attr(l,c*p).text(d),_.filter(E).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Jc?"start":t===$c?"end":"middle"),_.each(function(){this.__axis=v})}var i=[],r=null,o=null,s=6,a=6,u=3,c=t===Kc||t===$c?-1:1,l=t===$c||t===Jc?"x":"y",h=t===Kc||t===Qc?w:L;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=Zc.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:Zc.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:Zc.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(s=a=+t,n):s},n.tickSizeInner=function(t){return arguments.length?(s=+t,n):s},n.tickSizeOuter=function(t){return arguments.length?(a=+t,n):a},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function S(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new I(i)}function I(t){this._=t}function N(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=el,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function P(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),il.hasOwnProperty(e)?{space:il[e],local:t}:t}function T(t){var e=P(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===nl&&e.documentElement.namespaceURI===nl?e.createElement(t):e.createElementNS(n,t)}})(e)}function M(){}function A(t){return null==t?M:function(){return this.querySelector(t)}}function O(){return[]}function R(t){return null==t?O:function(){return this.querySelectorAll(t)}}function D(t){return new Array(t.length)}function k(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function F(t,e,n,i,r,o){for(var s,a=0,u=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new k(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function z(t,e,n,i,r,o,s){var a,u,c,l={},h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(d[a]=c=ul+s.call(u,u.__data__,a,e),c in l?r[a]=u:l[c]=u);for(a=0;a<f;++a)(u=l[c=ul+s.call(t,o[a],a,o)])?(i[a]=u,u.__data__=o[a],l[c]=null):n[a]=new k(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&l[d[a]]===u&&(r[a]=u)}function B(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function U(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function G(t,e){return t.style.getPropertyValue(e)||U(t).getComputedStyle(t,null).getPropertyValue(e)}function q(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new V(t)}function V(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function H(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Y(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function X(){this.textContent=""}function W(){this.innerHTML=""}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function $(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function tt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function et(t,e,n){return t=nt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function nt(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function it(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function rt(t,e,n){var i=cl.hasOwnProperty(t.type)?et:nt;return function(r,o,s){var a,u=this.__on,c=i(e,o,s);if(u)for(var l=0,h=u.length;l<h;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(a):this.__on=[a]}}function ot(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function st(t,e,n){var i=U(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function at(t,e){this._groups=t,this._parents=e}function ut(){return new at([[document.documentElement]],ll)}function ct(t){return"string"==typeof t?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ll)}function lt(){return new ht}function ht(){this._="@"+(++hl).toString(36)}function ft(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function dt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function pt(t){var e=ft();return e.changedTouches&&(e=e.changedTouches[0]),dt(t,e)}function gt(t,e,n){arguments.length<3&&(n=e,e=ft().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return dt(t,i);return null}function mt(){t.event.stopImmediatePropagation()}function yt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function vt(t){var e=t.document.documentElement,n=ct(t).on("dragstart.drag",yt,!0);"onselectstart"in e?n.on("selectstart.drag",yt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _t(t,e){var n=t.document.documentElement,i=ct(t).on("dragstart.drag",null);e&&(i.on("click.drag",yt,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bt(t){return function(){return t}}function xt(t,e,n,i,r,o,s,a,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=c}function wt(){return!t.event.button}function Lt(){return this.parentNode}function Et(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Ct(){return"ontouchstart"in this}function St(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function It(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Nt(){}function Pt(t){var e;return t=(t+"").trim().toLowerCase(),(e=gl.exec(t))?new Rt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ml.exec(t))?Tt(parseInt(e[1],16)):(e=yl.exec(t))?new Rt(e[1],e[2],e[3],1):(e=vl.exec(t))?new Rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_l.exec(t))?Mt(e[1],e[2],e[3],e[4]):(e=bl.exec(t))?Mt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xl.exec(t))?Dt(e[1],e[2]/100,e[3]/100,1):(e=wl.exec(t))?Dt(e[1],e[2]/100,e[3]/100,e[4]):Ll.hasOwnProperty(t)?Tt(Ll[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function Tt(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Mt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rt(t,e,n,i)}function At(t){return t instanceof Nt||(t=Pt(t)),t?new Rt((t=t.rgb()).r,t.g,t.b,t.opacity):new Rt}function Ot(t,e,n,i){return 1===arguments.length?At(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Dt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ft(t,e,n,i)}function kt(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ft)return new Ft(t.h,t.s,t.l,t.opacity);if(t instanceof Nt||(t=Pt(t)),!t)return new Ft;if(t instanceof Ft)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new Ft(s,a,u,t.opacity)}(t):new Ft(t,e,n,null==i?1:i)}function Ft(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Bt(t){if(t instanceof Gt)return new Gt(t.l,t.a,t.b,t.opacity);if(t instanceof Wt){if(isNaN(t.h))return new Gt(t.l,0,0,t.opacity);var e=t.h*El;return new Gt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rt||(t=At(t));var n,i,r=Ht(t.r),o=Ht(t.g),s=Ht(t.b),a=qt((.2225045*r+.7168786*o+.0606169*s)/Il);return r===o&&o===s?n=i=a:(n=qt((.4360747*r+.3850649*o+.1430804*s)/Sl),i=qt((.0139322*r+.0971045*o+.7141733*s)/Nl)),new Gt(116*a-16,500*(n-a),200*(a-i),t.opacity)}function Ut(t,e,n,i){return 1===arguments.length?Bt(t):new Gt(t,e,n,null==i?1:i)}function Gt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function qt(t){return t>Al?Math.pow(t,1/3):t/Ml+Pl}function jt(t){return t>Tl?t*t*t:Ml*(t-Pl)}function Vt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ht(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Yt(t){if(t instanceof Wt)return new Wt(t.h,t.c,t.l,t.opacity);if(t instanceof Gt||(t=Bt(t)),0===t.a&&0===t.b)return new Wt(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Cl;return new Wt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xt(t,e,n,i){return 1===arguments.length?Yt(t):new Wt(t,e,n,null==i?1:i)}function Wt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Zt(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=At(t));var e=t.g/255,n=t.b/255,i=(zl*n+kl*(t.r/255)-Fl*e)/(zl+kl-Fl),r=n-i,o=(Dl*(e-i)-Ol*r)/Rl,s=Math.sqrt(o*o+r*r)/(Dl*i*(1-i)),a=s?Math.atan2(o,r)*Cl-120:NaN;return new Kt(a<0?a+360:a,s,i,t.opacity)}(t):new Kt(t,e,n,null==i?1:i)}function Kt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Jt(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function Qt(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1];return Jt((n-i/e)*e,i>0?t[i-1]:2*r-o,r,o,i<e-1?t[i+2]:2*o-r)}}function $t(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return Jt((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}}function te(t){return function(){return t}}function ee(t,e){return function(n){return t+n*e}}function ne(t,e){var n=e-t;return n?ee(t,n>180||n<-180?n-360*Math.round(n/360):n):te(isNaN(t)?e:t)}function ie(t,e){var n=e-t;return n?ee(t,n):te(isNaN(t)?e:t)}function re(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Ot(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}function oe(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=le(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}function se(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}function ae(t,e){return e-=t=+t,function(n){return t+e*n}}function ue(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=le(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function ce(t,e){var n,i,r,o=Wl.lastIndex=Zl.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Wl.exec(t))&&(i=Zl.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:ae(n,i)})),o=Zl.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})}function le(t,e){var n,i=typeof e;return null==e||"boolean"===i?te(e):("number"===i?ae:"string"===i?(n=Pt(e))?(e=n,Hl):ce:e instanceof Pt?Hl:e instanceof Date?se:Array.isArray(e)?oe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ue:ae)(t,e)}function he(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}function fe(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Kl,skewX:Math.atan(u)*Kl,scaleX:s,scaleY:a}}function de(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:ae(t,r)},{i:u-2,x:ae(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),u.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ae(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a),function(t,e,n,o){t!==e?u.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ae(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:ae(t,n)},{i:a-2,x:ae(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,i=u.length;++n<i;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}function pe(t){return((t=Math.exp(t))+1/t)/2}function ge(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[2],u=e[0]-r,c=e[1]-o,l=u*u+c*c;if(l<ih)i=Math.log(a/s)/th,n=function(t){return[r+t*u,o+t*c,s*Math.exp(th*t*i)]};else{var h=Math.sqrt(l),f=(a*a-s*s+nh*l)/(2*s*eh*h),d=(a*a-s*s-nh*l)/(2*a*eh*h),p=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(d*d+1)-d);i=(g-p)/th,n=function(t){var e=t*i,n=pe(p),a=s/(eh*h)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(th*e+p)-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+a*u,o+a*c,s*n/pe(th*e+p)]}}return n.duration=1e3*i,n}function me(t){return function(e,n){var i=t((e=kt(e)).h,(n=kt(n)).h),r=ie(e.s,n.s),o=ie(e.l,n.l),s=ie(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function ye(t){return function(e,n){var i=t((e=Xt(e)).h,(n=Xt(n)).h),r=ie(e.c,n.c),o=ie(e.l,n.l),s=ie(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function ve(t){return function e(n){function i(e,i){var r=t((e=Zt(e)).h,(i=Zt(i)).h),o=ie(e.s,i.s),s=ie(e.l,i.l),a=ie(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function _e(){return gh||(vh(be),gh=yh.now()+mh)}function be(){gh=0}function xe(){this._call=this._time=this._next=null}function we(t,e,n){var i=new xe;return i.restart(t,e,n),i}function Le(){_e(),++lh;for(var t,e=jl;e;)(t=gh-e._time)>=0&&e._call.call(null,t),e=e._next;--lh}function Ee(){gh=(ph=yh.now())+mh,lh=hh=0;try{Le()}finally{lh=0,function(){for(var t,e,n=jl,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:jl=e);Vl=t,Se(i)}(),gh=0}}function Ce(){var t=yh.now(),e=t-ph;e>dh&&(mh-=e,ph=t)}function Se(t){lh||(hh&&(hh=clearTimeout(hh)),t-gh>24?(t<1/0&&(hh=setTimeout(Ee,t-yh.now()-mh)),fh&&(fh=clearInterval(fh))):(fh||(ph=yh.now(),fh=setInterval(Ce,dh)),lh=1,vh(Ee)))}function Ie(t,e,n){var i=new xe;return i.restart(function(n){i.stop(),t(n+e)},e=null==e?0:+e,n),i}function Ne(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){function i(u){var c,l,h,f;if(n.state!==wh)return o();for(c in a)if((f=a[c]).name===n.name){if(f.state===Eh)return Ie(i);f.state===Ch?(f.state=Ih,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete a[c]):+c<e&&(f.state=Ih,f.timer.stop(),delete a[c])}if(Ie(function(){n.state===Eh&&(n.state=Ch,n.timer.restart(r,n.delay,n.time),r(u))}),n.state=Lh,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Lh){for(n.state=Eh,s=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(s[++l]=f);s.length=l+1}}function r(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=Sh,1),r=-1,a=s.length;++r<a;)s[r].call(null,i);n.state===Sh&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var i in n.state=Ih,n.timer.stop(),delete a[e],a)return;delete t.__transition}var s,a=t.__transition;a[e]=n,n.timer=we(function(t){n.state=wh,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:_h,tween:bh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xh})}function Pe(t,e){var n=Me(t,e);if(n.state>xh)throw new Error("too late; already scheduled");return n}function Te(t,e){var n=Me(t,e);if(n.state>Lh)throw new Error("too late; already started");return n}function Me(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ae(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Lh&&n.state<Sh,n.state=Ih,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function Oe(t,e,n){var i=t._id;return t.each(function(){var t=Te(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Me(t,i).value[e]}}function Re(t,e){var n;return("number"==typeof e?ae:e instanceof Pt?Hl:(n=Pt(e))?(e=n,Hl):ce)(t,e)}function De(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ke(t){return ut().transition(t)}function Fe(){return++Ph}function ze(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Be(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Ue(t){return(1-Math.cos(Rh*t))/2}function Ge(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function qe(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function je(t){return(t=+t)<kh?Hh*t*t:t<zh?Hh*(t-=Fh)*t+Bh:t<Gh?Hh*(t-=Uh)*t+qh:Hh*(t-=jh)*t+Vh}function Ve(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $h.time=_e(),$h;return n}function He(t){return function(){return t}}function Ye(){t.event.stopImmediatePropagation()}function Xe(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function We(t){return{type:t}}function Ze(){return!t.event.button}function Ke(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Je(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Qe(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function $e(e){function n(t){var n=t.property("__brush",a).selectAll(".overlay").data([We("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cf.overlay).merge(n).each(function(){var t=Je(this).extent;ct(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([We("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return cf[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function i(){var t=ct(this),e=Je(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function s(){function n(){var t=pt(w);!R||b||x||(Math.abs(t[0]-k[0])>Math.abs(t[1]-k[1])?x=!0:b=!0),k=t,_=!0,Xe(),o()}function o(){var t;switch(y=k[0]-D[0],v=k[1]-D[1],E){case nf:case ef:C&&(y=Math.max(T-a,Math.min(A-d,y)),c=a+y,p=d+y),S&&(v=Math.max(M-h,Math.min(O-g,v)),f=h+v,m=g+v);break;case rf:C<0?(y=Math.max(T-a,Math.min(A-a,y)),c=a+y,p=d):C>0&&(y=Math.max(T-d,Math.min(A-d,y)),c=a,p=d+y),S<0?(v=Math.max(M-h,Math.min(O-h,v)),f=h+v,m=g):S>0&&(v=Math.max(M-g,Math.min(O-g,v)),f=h,m=g+v);break;case of:C&&(c=Math.max(T,Math.min(A,a-y*C)),p=Math.max(T,Math.min(A,d+y*C))),S&&(f=Math.max(M,Math.min(O,h-v*S)),m=Math.max(M,Math.min(O,g+v*S)))}p<c&&(C*=-1,t=a,a=d,d=t,t=c,c=p,p=t,L in lf&&B.attr("cursor",cf[L=lf[L]])),m<f&&(S*=-1,t=h,h=g,g=t,t=f,f=m,m=t,L in hf&&B.attr("cursor",cf[L=hf[L]])),I.selection&&(P=I.selection),b&&(c=P[0][0],p=P[1][0]),x&&(f=P[0][1],m=P[1][1]),P[0][0]===c&&P[0][1]===f&&P[1][0]===p&&P[1][1]===m||(I.selection=[[c,f],[p,m]],i.call(w),F.brush())}function s(){if(Ye(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),z.on("touchmove.brush touchend.brush touchcancel.brush",null)}else _t(t.event.view,_),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),B.attr("cursor",cf.overlay),I.selection&&(P=I.selection),Qe(P)&&(I.selection=null,i.call(w)),F.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Xe()}else if(u)return;if(l.apply(this,arguments)){var a,c,h,f,d,p,g,m,y,v,_,b,x,w=this,L=t.event.target.__data__.type,E="selection"===(t.event.metaKey?L="overlay":L)?ef:t.event.altKey?of:rf,C=e===af?null:ff[L],S=e===sf?null:df[L],I=Je(w),N=I.extent,P=I.selection,T=N[0][0],M=N[0][1],A=N[1][0],O=N[1][1],R=C&&S&&t.event.shiftKey,D=pt(w),k=D,F=r(w,arguments).beforestart();"overlay"===L?I.selection=P=[[a=e===af?T:D[0],h=e===sf?M:D[1]],[d=e===af?A:a,g=e===sf?O:h]]:(a=P[0][0],h=P[0][1],d=P[1][0],g=P[1][1]),c=a,f=h,p=d,m=g;var z=ct(w).attr("pointer-events","none"),B=z.selectAll(".overlay").attr("cursor",cf[L]);if(t.event.touches)z.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",s,!0);else{var U=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:R=C&&S;break;case 18:E===rf&&(C&&(d=p-y*C,a=c+y*C),S&&(g=m-v*S,h=f+v*S),E=of,o());break;case 32:E!==rf&&E!==of||(C<0?d=p-y:C>0&&(a=c-y),S<0?g=m-v:S>0&&(h=f-v),E=nf,B.attr("cursor",cf.selection),o());break;default:return}Xe()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:R&&(b=x=R=!1,o());break;case 18:E===of&&(C<0?d=p:C>0&&(a=c),S<0?g=m:S>0&&(h=f),E=rf,o());break;case 32:E===nf&&(t.event.altKey?(C&&(d=p-y*C,a=c+y*C),S&&(g=m-v*S,h=f+v*S),E=of):(C<0?d=p:C>0&&(a=c),S<0?g=m:S>0&&(h=f),E=rf),B.attr("cursor",cf[L]),o());break;default:return}Xe()},!0).on("mousemove.brush",n,!0).on("mouseup.brush",s,!0);vt(t.event.view)}Ye(),Ae(w),i.call(w),F.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var u,c=Ke,l=Ze,h=S(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){s.selection=1===t&&Qe(c)?null:l(t),i.call(o),a.brush()}var o=this,s=o.__brush,a=r(o,arguments),u=s.selection,c=e.input("function"==typeof n?n.apply(this,arguments):n,s.extent),l=le(u,c);return u&&c?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,s=e.input("function"==typeof n?n.apply(this,t):n,o.extent),a=r(this,t).beforestart();Ae(this),o.selection=null==s||Qe(s)?null:s,i.call(this),a.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){ot(new function(t,e,n){this.target=t,this.type=e,this.selection=n}(n,t,e.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:He([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(l="function"==typeof t?t:He(!!t),n):l},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=h.on.apply(h,arguments);return t===h?n:t},n}function tn(t){return function(){return t}}function en(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nn(){return new en}function rn(t){return t.source}function on(t){return t.target}function sn(t){return t.radius}function an(t){return t.startAngle}function un(t){return t.endAngle}function cn(){}function ln(t,e){var n=new cn;if(t instanceof cn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function hn(){return{}}function fn(t,e,n){t[e]=n}function dn(){return ln()}function pn(t,e,n){t.set(e,n)}function gn(){}function mn(t,e){var n=new gn;if(t instanceof gn)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function yn(t,e){return t-e}function vn(t){return function(){return t}}function _n(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=function(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var u=t[o],c=u[0],l=u[1],h=t[a],f=h[0],d=h[1];if(function(t,e,n){var i;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[i=+(t[0]===e[0])],n[i],e[i])}(u,h,e))return 0;l>i!=d>i&&n<(f-c)*(i-l)/(d-l)+c&&(r=-r)}return r}(t,e[i]))return n;return 0}function bn(){}function xn(){function t(t){var n=s(t);if(Array.isArray(n))n=n.slice().sort(yn);else{var i=a(t),r=i[0],o=i[1];n=d(r,o,n),n=l(Math.floor(r/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return e(t,n)})}function e(t,e){var i=[],s=[];return function(t,e,i){function s(t){var e,r,o=[t[0][0]+a,t[0][1]+u],s=[t[1][0]+a,t[1][1]+u],c=n(o),l=n(s);(e=d[c])?(r=f[l])?(delete d[e.end],delete f[r.start],e===r?(e.ring.push(s),i(e.ring)):f[e.start]=d[r.end]={start:e.start,end:r.end,ring:e.ring.concat(r.ring)}):(delete d[e.end],e.ring.push(s),d[e.end=l]=e):(e=f[l])?(r=d[c])?(delete f[e.start],delete d[r.end],e===r?(e.ring.push(s),i(e.ring)):f[r.start]=d[e.end]={start:r.start,end:e.end,ring:r.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(o),f[e.start=c]=e):f[c]=d[l]={start:c,end:l,ring:[o,s]}}var a,u,c,l,h,f=new Array,d=new Array;for(a=u=-1,Sf[(c=t[0]>=e)<<1].forEach(s);++a<r-1;)Sf[c|(c=t[a+1]>=e)<<1].forEach(s);for(Sf[c<<0].forEach(s);++u<o-1;){for(a=-1,Sf[(c=t[u*r+r]>=e)<<1|(l=t[u*r]>=e)<<2].forEach(s);++a<r-1;)h=l,Sf[c|(c=t[u*r+r+a+1]>=e)<<1|(l=t[u*r+a+1]>=e)<<2|h<<3].forEach(s);Sf[c|l<<3].forEach(s)}for(a=-1,Sf[(l=t[u*r]>=e)<<2].forEach(s);++a<r-1;)h=l,Sf[(l=t[u*r+a+1]>=e)<<2|h<<3].forEach(s);Sf[l<<3].forEach(s)}(t,e,function(n){u(n,t,e),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(n)>0?i.push([n]):s.push(n)}),s.forEach(function(t){for(var e,n=0,r=i.length;n<r;++n)if(-1!==_n((e=i[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:e,coordinates:i}}function n(t){return 2*t[0]+t[1]*(r+1)*4}function i(t,e,n){t.forEach(function(t){var i,s=t[0],a=t[1],u=0|s,c=0|a,l=e[c*r+u];s>0&&s<r&&u===s&&(t[0]=s+(n-(i=e[c*r+u-1]))/(l-i)-.5),a>0&&a<o&&c===a&&(t[1]=a+(n-(i=e[(c-1)*r+u]))/(l-i)-.5)})}var r=1,o=1,s=p,u=i;return t.contour=e,t.size=function(e){if(!arguments.length)return[r,o];var n=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!(n>0&&i>0))throw new Error("invalid size");return r=n,o=i,t},t.thresholds=function(e){return arguments.length?(s="function"==typeof e?e:Array.isArray(e)?vn(Cf.call(e)):vn(e),t):s},t.smooth=function(e){return arguments.length?(u=e?i:bn,t):u===i},t}function wn(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,u=0;a<i+n;++a)a<i&&(u+=t.data[a+s*i]),a>=n&&(a>=o&&(u-=t.data[a-o+s*i]),e.data[a-n+s*i]=u/Math.min(a+1,i-1+o-a,o))}function Ln(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,u=0;a<r+n;++a)a<r&&(u+=t.data[s+a*i]),a>=n&&(a>=o&&(u-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=u/Math.min(a+1,r-1+o-a,o))}function En(t){return t[0]}function Cn(t){return t[1]}function Sn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function In(t){function e(t,e){function n(){if(c)return Nf;if(l)return l=!1,If;var e,n,i=a;if(t.charCodeAt(i)===Pf){for(;a++<s&&t.charCodeAt(a)!==Pf||t.charCodeAt(++a)===Pf;);return(e=a)>=s?c=!0:(n=t.charCodeAt(a++))===Tf?l=!0:n===Mf&&(l=!0,t.charCodeAt(a)===Tf&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<s;){if((n=t.charCodeAt(e=a++))===Tf)l=!0;else if(n===Mf)l=!0,t.charCodeAt(a)===Tf&&++a;else if(n!==o)continue;return t.slice(i,e)}return c=!0,t.slice(i,s)}var i,r=[],s=t.length,a=0,u=0,c=s<=0,l=!1;for(t.charCodeAt(s-1)===Tf&&--s,t.charCodeAt(s-1)===Mf&&--s;(i=n())!==Nf;){for(var h=[];i!==If&&i!==Nf;)h.push(i),i=n();e&&null==(h=e(h,u++))||r.push(h)}return r}function n(e){return e.map(i).join(t)}function i(t){return null==t?"":r.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var r=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,n){var i,r,o=e(t,function(t,e){if(i)return i(t,e-1);r=t,i=n?function(t,e){var n=Sn(t);return function(i,r){return e(n(i),r,t)}}(t,n):Sn(t)});return o.columns=r||[],o},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}(e)),[n.map(i).join(t)].concat(e.map(function(e){return n.map(function(t){return i(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}}function Nn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Pn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Tn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Mn(t,e){return fetch(t,e).then(Tn)}function An(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Mn(e,n).then(function(e){return t(e,i)})}}function On(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Rn(t){return function(e,n){return Mn(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}function Dn(t){return function(){return t}}function kn(){return 1e-6*(Math.random()-.5)}function Fn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,c,l,h,f,d=t._root,p={data:i},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(l=n>=(s=(m+v)/2))?m=s:v=s,r=d,!(d=d[h=l<<1|c]))return r[h]=p,t;if(a=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===a&&n===u)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(l=n>=(s=(m+v)/2))?m=s:v=s}while((h=l<<1|c)==(f=(u>=s)<<1|a>=o));return r[f]=d,r[h]=p,t}function zn(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Bn(t){return t[0]}function Un(t){return t[1]}function Gn(t,e,n){var i=new qn(null==e?Bn:e,null==n?Un:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function qn(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function jn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Vn(t){return t.x+t.vx}function Hn(t){return t.y+t.vy}function Yn(t){return t.index}function Xn(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Wn(t){return t.x}function Zn(t){return t.y}function Kn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Jn(t){return(t=Kn(Math.abs(t)))?t[1]:NaN}function Qn(t,e){var n=Kn(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}function $n(t){return new ti(t)}function ti(t){if(!(e=Qf.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):Jf[l]||(l=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=u,this.precision=c,this.type=l}function ei(t){return t}function ni(t){function e(t){function e(t){var e,i,s,l=m,b=y;if("c"===g)b=v(t)+b,t="";else{var x=(t=+t)<0;if(t=v(Math.abs(t),p),x&&0==+t&&(x=!1),l=(x?"("===c?c:"-":"-"===c||"("===c?"":c)+l,b=("s"===g?td[8+Wf/3]:"")+b+(x&&"("===c?")":""),_)for(e=-1,i=t.length;++e<i;)if(48>(s=t.charCodeAt(e))||s>57){b=(46===s?r+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}d&&!h&&(t=n(t,1/0));var w=l.length+t.length+b.length,L=w<f?new Array(f-w+1).join(a):"";switch(d&&h&&(t=n(L+t,L.length?f-b.length:1/0),L=""),u){case"<":t=l+t+b+L;break;case"=":t=l+L+t+b;break;case"^":t=L.slice(0,w=L.length>>1)+l+t+b+L.slice(w);break;default:t=L+l+t+b}return o(t)}var a=(t=$n(t)).fill,u=t.align,c=t.sign,l=t.symbol,h=t.zero,f=t.width,d=t.comma,p=t.precision,g=t.type,m="$"===l?i[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===l?i[1]:/[%p]/.test(g)?s:"",v=Jf[g],_=!g||/[defgprs%]/.test(g);return p=null==p?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?function(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],u=0;r>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),o.push(n.substring(r-=a,r+a)),!((u+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):ei,i=t.currency,r=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):ei,s=t.percent||"%";return{format:e,formatPrefix:function(t,n){var i=e(((t=$n(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Jn(n)/3))),o=Math.pow(10,-r),s=td[8+r/3];return function(t){return i(o*t)+s}}}}function ii(e){return $f=ni(e),t.format=$f.format,t.formatPrefix=$f.formatPrefix,$f}function ri(t){return Math.max(0,-Jn(Math.abs(t)))}function oi(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jn(e)/3)))-Jn(Math.abs(t)))}function si(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jn(e)-Jn(t))+1}function ai(){return new ui}function ui(){this.reset()}function ci(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}function li(t){return t>1?0:t<-1?Rd:Math.acos(t)}function hi(t){return t>1?Dd:t<-1?-Dd:Math.asin(t)}function fi(t){return(t=Wd(t/2))*t}function di(){}function pi(t,e){t&&$d.hasOwnProperty(t.type)&&$d[t.type](t,e)}function gi(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function mi(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)gi(t[n],e,1);e.polygonEnd()}function yi(t,e){t&&Qd.hasOwnProperty(t.type)?Qd[t.type](t,e):pi(t,e)}function vi(){np.point=bi}function _i(){xi(ed,nd)}function bi(t,e){np.point=xi,ed=t,nd=e,id=t*=Bd,rd=jd(e=(e*=Bd)/2+kd),od=Wd(e)}function xi(t,e){e=(e*=Bd)/2+kd;var n=(t*=Bd)-id,i=n>=0?1:-1,r=i*n,o=jd(e),s=Wd(e),a=od*s,u=rd*o+a*jd(r),c=a*i*Wd(r);tp.add(qd(c,u)),id=t,rd=o,od=s}function wi(t){return[qd(t[1],t[0]),hi(t[2])]}function Li(t){var e=t[0],n=t[1],i=jd(n);return[i*jd(e),i*Wd(e),Wd(n)]}function Ei(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ci(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Si(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ii(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ni(t){var e=Kd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Pi(t,e){pd.push(gd=[sd=t,ud=t]),e<ad&&(ad=e),e>cd&&(cd=e)}function Ti(t,e){var n=Li([t*Bd,e*Bd]);if(dd){var i=Ci(dd,n),r=Ci([i[1],-i[0],0],i);Ni(r),r=wi(r);var o,s=t-ld,a=s>0?1:-1,u=r[0]*zd*a,c=Ud(s)>180;c^(a*ld<u&&u<a*t)?(o=r[1]*zd)>cd&&(cd=o):c^(a*ld<(u=(u+360)%360-180)&&u<a*t)?(o=-r[1]*zd)<ad&&(ad=o):(e<ad&&(ad=e),e>cd&&(cd=e)),c?t<ld?ki(sd,t)>ki(sd,ud)&&(ud=t):ki(t,ud)>ki(sd,ud)&&(sd=t):ud>=sd?(t<sd&&(sd=t),t>ud&&(ud=t)):t>ld?ki(sd,t)>ki(sd,ud)&&(ud=t):ki(t,ud)>ki(sd,ud)&&(sd=t)}else pd.push(gd=[sd=t,ud=t]);e<ad&&(ad=e),e>cd&&(cd=e),dd=n,ld=t}function Mi(){rp.point=Ti}function Ai(){gd[0]=sd,gd[1]=ud,rp.point=Pi,dd=null}function Oi(t,e){if(dd){var n=t-ld;ip.add(Ud(n)>180?n+(n>0?360:-360):n)}else hd=t,fd=e;np.point(t,e),Ti(t,e)}function Ri(){np.lineStart()}function Di(){Oi(hd,fd),np.lineEnd(),Ud(ip)>Od&&(sd=-(ud=180)),gd[0]=sd,gd[1]=ud,dd=null}function ki(t,e){return(e-=t)<0?e+360:e}function Fi(t,e){return t[0]-e[0]}function zi(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Bi(t,e){t*=Bd;var n=jd(e*=Bd);Ui(n*jd(t),n*Wd(t),Wd(e))}function Ui(t,e,n){vd+=(t-vd)/++md,_d+=(e-_d)/md,bd+=(n-bd)/md}function Gi(){op.point=qi}function qi(t,e){t*=Bd;var n=jd(e*=Bd);Pd=n*jd(t),Td=n*Wd(t),Md=Wd(e),op.point=ji,Ui(Pd,Td,Md)}function ji(t,e){t*=Bd;var n=jd(e*=Bd),i=n*jd(t),r=n*Wd(t),o=Wd(e),s=qd(Kd((s=Td*o-Md*r)*s+(s=Md*i-Pd*o)*s+(s=Pd*r-Td*i)*s),Pd*i+Td*r+Md*o);yd+=s,xd+=s*(Pd+(Pd=i)),wd+=s*(Td+(Td=r)),Ld+=s*(Md+(Md=o)),Ui(Pd,Td,Md)}function Vi(){op.point=Bi}function Hi(){op.point=Xi}function Yi(){Wi(Id,Nd),op.point=Bi}function Xi(t,e){Id=t,Nd=e,t*=Bd,e*=Bd,op.point=Wi;var n=jd(e);Pd=n*jd(t),Td=n*Wd(t),Md=Wd(e),Ui(Pd,Td,Md)}function Wi(t,e){t*=Bd;var n=jd(e*=Bd),i=n*jd(t),r=n*Wd(t),o=Wd(e),s=Td*o-Md*r,a=Md*i-Pd*o,u=Pd*r-Td*i,c=Kd(s*s+a*a+u*u),l=hi(c),h=c&&-l/c;Ed+=h*s,Cd+=h*a,Sd+=h*u,yd+=l,xd+=l*(Pd+(Pd=i)),wd+=l*(Td+(Td=r)),Ld+=l*(Md+(Md=o)),Ui(Pd,Td,Md)}function Zi(t){return function(){return t}}function Ki(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Ji(t,e){return[t>Rd?t-Fd:t<-Rd?t+Fd:t,e]}function Qi(t,e,n){return(t%=Fd)?e||n?Ki(tr(t),er(e,n)):tr(t):e||n?er(e,n):Ji}function $i(t){return function(e,n){return[(e+=t)>Rd?e-Fd:e<-Rd?e+Fd:e,n]}}function tr(t){var e=$i(t);return e.invert=$i(-t),e}function er(t,e){function n(t,e){var n=jd(e),a=jd(t)*n,u=Wd(t)*n,c=Wd(e),l=c*i+a*r;return[qd(u*o-l*s,a*i-c*r),hi(l*o+u*s)]}var i=jd(t),r=Wd(t),o=jd(e),s=Wd(e);return n.invert=function(t,e){var n=jd(e),a=jd(t)*n,u=Wd(t)*n,c=Wd(e),l=c*o-u*s;return[qd(u*o+c*s,a*i+l*r),hi(l*i-a*r)]},n}function nr(t){function e(e){return(e=t(e[0]*Bd,e[1]*Bd))[0]*=zd,e[1]*=zd,e}return t=Qi(t[0]*Bd,t[1]*Bd,t.length>2?t[2]*Bd:0),e.invert=function(e){return(e=t.invert(e[0]*Bd,e[1]*Bd))[0]*=zd,e[1]*=zd,e},e}function ir(t,e,n,i,r,o){if(n){var s=jd(e),a=Wd(e),u=i*n;null==r?(r=e+i*Fd,o=e-u/2):(r=rr(s,r),o=rr(s,o),(i>0?r<o:r>o)&&(r+=i*Fd));for(var c,l=r;i>0?l>o:l<o;l-=u)c=wi([s,-a*jd(l),-a*Wd(l)]),t.point(c[0],c[1])}}function rr(t,e){(e=Li(e))[0]-=t,Ni(e);var n=li(-e[1]);return((-e[2]<0?-n:n)+Fd-Od)%Fd}function or(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:di,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function sr(t,e){return Ud(t[0]-e[0])<Od&&Ud(t[1]-e[1])<Od}function ar(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ur(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(sr(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new ar(i,t,null,!0)),u.push(n.o=new ar(i,null,n,!1)),a.push(n=new ar(s,t,null,!1)),u.push(n.o=new ar(s,null,n,!0))}}),a.length){for(u.sort(e),cr(a),cr(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var c,l,h=a[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,s=c.length;o<s;++o)r.point((l=c[o])[0],l[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(o=(c=f.p.z).length-1;o>=0;--o)r.point((l=c[o])[0],l[1]);else i(f.x,f.p.x,-1,r);f=f.p}c=(f=f.o).z,d=!d}while(!f.v);r.lineEnd()}}}function cr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function lr(t,e){var n=e[0],i=e[1],r=Wd(i),o=[Wd(n),-jd(n),0],s=0,a=0;yp.reset(),1===r?i=Dd+Od:-1===r&&(i=-Dd-Od);for(var u=0,c=t.length;u<c;++u)if(h=(l=t[u]).length)for(var l,h,f=l[h-1],d=f[0],p=f[1]/2+kd,g=Wd(p),m=jd(p),y=0;y<h;++y,d=_,g=x,m=w,f=v){var v=l[y],_=v[0],b=v[1]/2+kd,x=Wd(b),w=jd(b),L=_-d,E=L>=0?1:-1,C=E*L,S=C>Rd,I=g*x;if(yp.add(qd(I*E*Wd(C),m*w+I*jd(C))),s+=S?L+E*Fd:L,S^d>=n^_>=n){var N=Ci(Li(f),Li(v));Ni(N);var P=Ci(o,N);Ni(P);var T=(S^L>=0?-1:1)*hi(P[2]);(i>T||i===T&&(N[0]||N[1]))&&(a+=S^L>=0?1:-1)}}return(s<-Od||s<Od&&yp<-Od)^1&a}function hr(t,e,n,i){return function(r){function o(e,n){t(e,n)&&r.point(e,n)}function s(t,e){g.point(t,e)}function a(){b.point=s,g.lineStart()}function u(){b.point=o,g.lineEnd()}function c(t,e){p.push([t,e]),v.point(t,e)}function l(){v.lineStart(),p=[]}function h(){c(p[0][0],p[0][1]),v.lineEnd();var t,e,n,i,o=v.clean(),s=m.result(),a=s.length;if(p.pop(),f.push(p),p=null,a)if(1&o){if((e=(n=s[0]).length-1)>0){for(_||(r.polygonStart(),_=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else a>1&&2&o&&s.push(s.pop().concat(s.shift())),d.push(s.filter(fr))}var f,d,p,g=e(r),m=or(),v=e(m),_=!1,b={point:o,lineStart:a,lineEnd:u,polygonStart:function(){b.point=c,b.lineStart=l,b.lineEnd=h,d=[],f=[]},polygonEnd:function(){b.point=o,b.lineStart=a,b.lineEnd=u,d=y(d);var t=lr(f,i);d.length?(_||(r.polygonStart(),_=!0),ur(d,dr,t,n,r)):t&&(_||(r.polygonStart(),_=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),_&&(r.polygonEnd(),_=!1),d=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return b}}function fr(t){return t.length>1}function dr(t,e){return((t=t.x)[0]<0?t[1]-Dd-Od:Dd-t[1])-((e=e.x)[0]<0?e[1]-Dd-Od:Dd-e[1])}function pr(t){function e(t,e){return jd(t)*jd(e)>r}function n(t,e,n){var i=[1,0,0],o=Ci(Li(t),Li(e)),s=Ei(o,o),a=o[0],u=s-a*a;if(!u)return!n&&t;var c=r*s/u,l=-r*a/u,h=Ci(i,o),f=Ii(i,c);Si(f,Ii(o,l));var d=h,p=Ei(f,d),g=Ei(d,d),m=p*p-g*(Ei(f,f)-1);if(!(m<0)){var y=Kd(m),v=Ii(d,(-p-y)/g);if(Si(v,f),v=wi(v),!n)return v;var _,b=t[0],x=e[0],w=t[1],L=e[1];x<b&&(_=b,b=x,x=_);var E=x-b,C=Ud(E-Rd)<Od;if(!C&&L<w&&(_=w,w=L,L=_),C||E<Od?C?w+L>0^v[1]<(Ud(v[0]-b)<Od?w:L):w<=v[1]&&v[1]<=L:E>Rd^(b<=v[0]&&v[0]<=x)){var S=Ii(d,(-p+y)/g);return Si(S,f),[v,wi(S)]}}}function i(e,n){var i=s?t:Rd-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var r=jd(t),o=6*Bd,s=r>0,a=Ud(r)>Od;return hr(e,function(t){var r,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var d,p=[h,f],g=e(h,f),m=s?g?0:i(h,f):g?i(h+(h<0?Rd:-Rd),f):0;if(!r&&(c=u=g)&&t.lineStart(),g!==u&&(!(d=n(r,p))||sr(r,d)||sr(p,d))&&(p[0]+=Od,p[1]+=Od,g=e(p[0],p[1])),g!==u)l=0,g?(t.lineStart(),d=n(p,r),t.point(d[0],d[1])):(d=n(r,p),t.point(d[0],d[1]),t.lineEnd()),r=d;else if(a&&r&&s^g){var y;m&o||!(y=n(p,r,!0))||(l=0,s?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||r&&sr(r,p)||t.point(p[0],p[1]),r=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),r=null},clean:function(){return l|(c&&u)<<1}}},function(e,n,i,r){ir(r,t,o,i,e,n)},s?[0,-t]:[-Rd,t-Rd])}function gr(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,c){var l=0,h=0;if(null==r||(l=s(r,a))!==(h=s(o,a))||u(r,o)<0^a>0)do{c.point(0===l||3===l?t:n,l>1?i:e)}while((l=(l+a+4)%4)!==h);else c.point(o[0],o[1])}function s(i,r){return Ud(i[0]-t)<Od?r>0?0:3:Ud(i[0]-n)<Od?r>0?2:1:Ud(i[1]-e)<Od?r>0?1:0:r>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){r(t,e)&&w.point(t,e)}function c(o,s){var a=r(o,s);if(h&&f.push([o,s]),b)d=o,p=s,g=a,b=!1,a&&(w.lineStart(),w.point(o,s));else if(a&&_)w.point(o,s);else{var u=[m=Math.max(bp,Math.min(_p,m)),v=Math.max(bp,Math.min(_p,v))],c=[o=Math.max(bp,Math.min(_p,o)),s=Math.max(bp,Math.min(_p,s))];!function(t,e,n,i,r,o){var s,a=t[0],u=t[1],c=0,l=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<l&&(l=s)}else if(h>0){if(s>l)return;s>c&&(c=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>l)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<l&&(l=s)}if(s=i-u,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>c&&(c=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<l&&(l=s)}return c>0&&(t[0]=a+c*h,t[1]=u+c*f),l<1&&(e[0]=a+l*h,e[1]=u+l*f),!0}}}}}(u,c,t,e,n,i)?a&&(w.lineStart(),w.point(o,s),x=!1):(_||(w.lineStart(),w.point(u[0],u[1])),w.point(c[0],c[1]),a||w.lineEnd(),x=!1)}m=o,v=s,_=a}var l,h,f,d,p,g,m,v,_,b,x,w=s,L=or(),E={point:u,lineStart:function(){E.point=c,h&&h.push(f=[]),b=!0,_=!1,m=v=NaN},lineEnd:function(){l&&(c(d,p),g&&_&&L.rejoin(),l.push(L.result())),E.point=u,_&&w.lineEnd()},polygonStart:function(){w=L,l=[],h=[],x=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=h.length;n<r;++n)for(var o,s,a=h[n],u=1,c=a.length,l=a[0],f=l[0],d=l[1];u<c;++u)o=f,s=d,f=(l=a[u])[0],d=l[1],s<=i?d>i&&(f-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(f-o)*(i-s)<(d-s)*(t-o)&&--e;return e}(),n=x&&e,r=(l=y(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&ur(l,a,e,o,s),s.polygonEnd()),w=s,l=h=f=null}};return E}}function mr(){wp.point=wp.lineEnd=di}function yr(t,e){sp=t*=Bd,ap=Wd(e*=Bd),up=jd(e),wp.point=vr}function vr(t,e){t*=Bd;var n=Wd(e*=Bd),i=jd(e),r=Ud(t-sp),o=jd(r),s=i*Wd(r),a=up*n-ap*i*o,u=ap*n+up*i*o;xp.add(qd(Kd(s*s+a*a),u)),sp=t,ap=n,up=i}function _r(t){return xp.reset(),yi(t,wp),+xp}function br(t,e){return Lp[0]=t,Lp[1]=e,_r(Ep)}function xr(t,e){return!(!t||!Sp.hasOwnProperty(t.type))&&Sp[t.type](t,e)}function wr(t,e){return 0===br(t,e)}function Lr(t,e){var n=br(t[0],t[1]);return br(t[0],e)+br(e,t[1])<=n+Od}function Er(t,e){return!!lr(t.map(Cr),Sr(e))}function Cr(t){return(t=t.map(Sr)).pop(),t}function Sr(t){return[t[0]*Bd,t[1]*Bd]}function Ir(t,e,n){var i=l(t,e-Od,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Nr(t,e,n){var i=l(t,e-Od,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Pr(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return l(Vd(o/y)*y,r,y).map(d).concat(l(Vd(c/v)*v,u,v).map(p)).concat(l(Vd(i/g)*g,n,g).filter(function(t){return Ud(t%y)>Od}).map(h)).concat(l(Vd(a/m)*m,s,m).filter(function(t){return Ud(t%v)>Od}).map(f))}var n,i,r,o,s,a,u,c,h,f,d,p,g=10,m=g,y=90,v=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(p(u).slice(1),d(r).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(c=+e[0][1],u=+e[1][1],(o=+e[0][0])>(r=+e[1][0])&&(e=o,o=r,r=e),c>u&&(e=c,c=u,u=e),t.precision(_)):[[o,c],[r,u]]},t.extentMinor=function(e){return arguments.length?(a=+e[0][1],s=+e[1][1],(i=+e[0][0])>(n=+e[1][0])&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(_)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.stepMinor=function(e){return arguments.length?(g=+e[0],m=+e[1],t):[g,m]},t.precision=function(e){return arguments.length?(_=+e,h=Ir(a,s,90),f=Nr(i,n,_),d=Ir(c,u,90),p=Nr(o,r,_),t):_},t.extentMajor([[-180,-90+Od],[180,90-Od]]).extentMinor([[-180,-80-Od],[180,80+Od]])}function Tr(t){return t}function Mr(){Pp.point=Ar}function Ar(t,e){Pp.point=Or,cp=hp=t,lp=fp=e}function Or(t,e){Np.add(fp*t-hp*e),hp=t,fp=e}function Rr(){Or(cp,lp)}function Dr(t,e){Dp+=t,kp+=e,++Fp}function kr(){Vp.point=Fr}function Fr(t,e){Vp.point=zr,Dr(gp=t,mp=e)}function zr(t,e){var n=t-gp,i=e-mp,r=Kd(n*n+i*i);zp+=r*(gp+t)/2,Bp+=r*(mp+e)/2,Up+=r,Dr(gp=t,mp=e)}function Br(){Vp.point=Dr}function Ur(){Vp.point=qr}function Gr(){jr(dp,pp)}function qr(t,e){Vp.point=jr,Dr(dp=gp=t,pp=mp=e)}function jr(t,e){var n=t-gp,i=e-mp,r=Kd(n*n+i*i);zp+=r*(gp+t)/2,Bp+=r*(mp+e)/2,Up+=r,Gp+=(r=mp*t-gp*e)*(gp+t),qp+=r*(mp+e),jp+=3*r,Dr(gp=t,mp=e)}function Vr(t){this._context=t}function Hr(t,e){Jp.point=Yr,Yp=Wp=t,Xp=Zp=e}function Yr(t,e){Kp.add(Kd((Wp-=t)*Wp+(Zp-=e)*Zp)),Wp=t,Zp=e}function Xr(){this._string=[]}function Wr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Zr(t){return function(e){var n=new Kr;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Kr(){}function Jr(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),yi(n,t.stream(Rp)),e(Rp.result()),null!=i&&t.clipExtent(i),t}function Qr(t,e,n){return Jr(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function $r(t,e,n){return Qr(t,[[0,0],e],n)}function to(t,e,n){return Jr(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])},n)}function eo(t,e,n){return Jr(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])},n)}function no(t,e){return+e?function(t,e){function n(i,r,o,s,a,u,c,l,h,f,d,p,g,m){var y=c-i,v=l-r,_=y*y+v*v;if(_>4*e&&g--){var b=s+f,x=a+d,w=u+p,L=Kd(b*b+x*x+w*w),E=hi(w/=L),C=Ud(Ud(w)-1)<Od||Ud(o-h)<Od?(o+h)/2:qd(x,b),S=t(C,E),I=S[0],N=S[1],P=I-i,T=N-r,M=v*P-y*T;(M*M/_>e||Ud((y*P+v*T)/_-.5)>.3||s*f+a*d+u*p<$p)&&(n(i,r,o,s,a,u,I,N,C,b/=L,x/=L,w,g,m),m.point(I,N),n(I,N,C,b,x,w,c,l,h,f,d,p,g,m))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){y=NaN,w.point=o,e.lineStart()}function o(i,r){var o=Li([i,r]),s=t(i,r);n(y,v,m,_,b,x,y=s[0],v=s[1],m=i,_=o[0],b=o[1],x=o[2],Qp,e),e.point(y,v)}function s(){w.point=i,e.lineEnd()}function a(){r(),w.point=u,w.lineEnd=c}function u(t,e){o(l=t,e),h=y,f=v,d=_,p=b,g=x,w.point=o}function c(){n(y,v,m,_,b,x,h,f,l,d,p,g,Qp,e),w.lineEnd=s,s()}var l,h,f,d,p,g,m,y,v,_,b,x,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}(t,e):function(t){return Zr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}function io(t,e,n,i){function r(t,i){return[a*t-u*i+e,n-u*t-a*i]}var o=jd(i),s=Wd(i),a=o*t,u=s*t,c=o/t,l=s/t,h=(s*n-o*e)/t,f=(s*e+o*n)/t;return r.invert=function(t,e){return[c*t-l*e+h,f-l*t-c*e]},r}function ro(t){return oo(function(){return t})()}function oo(t){function e(t){return h(t[0]*Bd,t[1]*Bd)}function n(){var t=io(p,0,0,w).apply(null,r(y,v)),e=(w?io:function(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i})(p,g-t[0],m-t[1],w);return o=Qi(_,b,x),l=Ki(r,e),h=Ki(o,l),c=no(l,I),i()}function i(){return f=d=null,e}var r,o,s,a,u,c,l,h,f,d,p=150,g=480,m=250,y=0,v=0,_=0,b=0,x=0,w=0,L=null,E=vp,C=null,S=Tr,I=.5;return e.stream=function(t){return f&&d===t?f:f=tg(function(t){return Zr({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(o)(E(c(S(d=t)))))},e.preclip=function(t){return arguments.length?(E=t,L=void 0,i()):E},e.postclip=function(t){return arguments.length?(S=t,C=s=a=u=null,i()):S},e.clipAngle=function(t){return arguments.length?(E=+t?pr(L=t*Bd):(L=null,vp),i()):L*zd},e.clipExtent=function(t){return arguments.length?(S=null==t?(C=s=a=u=null,Tr):gr(C=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),i()):null==C?null:[[C,s],[a,u]]},e.scale=function(t){return arguments.length?(p=+t,n()):p},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],n()):[g,m]},e.center=function(t){return arguments.length?(y=t[0]%360*Bd,v=t[1]%360*Bd,n()):[y*zd,v*zd]},e.rotate=function(t){return arguments.length?(_=t[0]%360*Bd,b=t[1]%360*Bd,x=t.length>2?t[2]%360*Bd:0,n()):[_*zd,b*zd,x*zd]},e.angle=function(t){return arguments.length?(w=t%360*Bd,n()):w*zd},e.precision=function(t){return arguments.length?(c=no(l,I=t*t),i()):Kd(I)},e.fitExtent=function(t,n){return Qr(e,t,n)},e.fitSize=function(t,n){return $r(e,t,n)},e.fitWidth=function(t,n){return to(e,t,n)},e.fitHeight=function(t,n){return eo(e,t,n)},function(){return r=t.apply(this,arguments),e.invert=r.invert&&function(t){return(t=h.invert(t[0],t[1]))&&[t[0]*zd,t[1]*zd]},n()}}function so(t){var e=0,n=Rd/3,i=oo(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Bd,n=t[1]*Bd):[e*zd,n*zd]},r}function ao(t,e){function n(t,e){var n=Kd(o-2*r*Wd(e))/r;return[n*Wd(t*=r),s-n*jd(t)]}var i=Wd(t),r=(i+Wd(e))/2;if(Ud(r)<Od)return function(t){function e(t,e){return[t*n,Wd(e)/n]}var n=jd(t);return e.invert=function(t,e){return[t/n,hi(e*n)]},e}(t);var o=1+i*(2*r-i),s=Kd(o)/r;return n.invert=function(t,e){var n=s-e;return[qd(t,Ud(n))/r*Zd(n),hi((o-(t*t+n*n)*r*r)/(2*r))]},n}function uo(){return so(ao).scale(155.424).center([0,33.6442])}function co(){return uo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function lo(t){return function(e,n){var i=jd(e),r=jd(n),o=t(i*r);return[o*r*Wd(e),o*Wd(n)]}}function ho(t){return function(e,n){var i=Kd(e*e+n*n),r=t(i),o=Wd(r),s=jd(r);return[qd(e*o,i*s),hi(i&&n*o/i)]}}function fo(t,e){return[t,Yd(Jd((Dd+e)/2))]}function po(t){function e(){var e=Rd*a(),s=o(nr(o.rotate()).invert([0,0]));return c(null==l?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===fo?[[Math.max(s[0]-e,l),n],[Math.min(s[0]+e,i),r]]:[[l,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,r)]])}var n,i,r,o=ro(t),s=o.center,a=o.scale,u=o.translate,c=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=i=r=null:(l=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==l?null:[[l,n],[i,r]]},e()}function go(t){return Jd((Dd+t)/2)}function mo(t,e){function n(t,e){o>0?e<-Dd+Od&&(e=-Dd+Od):e>Dd-Od&&(e=Dd-Od);var n=o/Xd(go(e),r);return[n*Wd(r*t),o-n*jd(r*t)]}var i=jd(t),r=t===e?Wd(t):Yd(i/jd(e))/Yd(go(e)/go(t)),o=i*Xd(go(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=Zd(r)*Kd(t*t+n*n);return[qd(t,Ud(n))/r*Zd(n),2*Gd(Xd(o/i,1/r))-Dd]},n):fo}function yo(t,e){return[t,e]}function vo(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Wd(i),o-n*jd(i)]}var i=jd(t),r=t===e?Wd(t):(i-jd(e))/(e-t),o=i/r+t;return Ud(r)<Od?yo:(n.invert=function(t,e){var n=o-e;return[qd(t,Ud(n))/r*Zd(n),o-Zd(r)*Kd(t*t+n*n)]},n)}function _o(t,e){var n=jd(e),i=jd(t)*n;return[n*Wd(t)/i,Wd(e)/i]}function bo(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Tr:Zr({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}function xo(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function wo(t,e){return[jd(e)*Wd(t),Wd(e)]}function Lo(t,e){var n=jd(e),i=1+jd(t)*n;return[n*Wd(t)/i,Wd(e)/i]}function Eo(t,e){return[Yd(Jd((Dd+e)/2)),-t]}function Co(t,e){return t.parent===e.parent?1:2}function So(t,e){return t+e.x}function Io(t,e){return Math.max(t,e.y)}function No(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Po(t,e){var n,i,r,o,s,a=new Oo(t),u=+t.value&&(a.value=t.value),c=[a];for(null==e&&(e=To);n=c.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)c.push(i=n.children[o]=new Oo(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Ao)}function To(t){return t.children}function Mo(t){t.data=t.data.data}function Ao(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Oo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Ro(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(ig.call(t))).length,o=[];i<r;)e=t[i],n&&ko(n,e)?++i:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return zo(t[0],t[1]);case 3:return Bo(t[0],t[1],t[2])}}(o=function(t,e){var n,i;if(Fo(e,t))return[e];for(n=0;n<t.length;++n)if(Do(e,t[n])&&Fo(zo(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Do(zo(t[n],t[i]),e)&&Do(zo(t[n],e),t[i])&&Do(zo(t[i],e),t[n])&&Fo(Bo(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}(o,e)),i=0);return n}function Do(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function ko(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Fo(t,e){for(var n=0;n<e.length;++n)if(!ko(t,e[n]))return!1;return!0}function zo(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,u=o-n,c=s-i,l=a-r,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(i+s+c/h*l)/2,r:(h+r+a)/2}}function Bo(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=i-s,d=i-c,p=r-a,g=r-l,m=u-o,y=h-o,v=i*i+r*r-o*o,_=v-s*s-a*a+u*u,b=v-c*c-l*l+h*h,x=d*p-f*g,w=(p*b-g*_)/(2*x)-i,L=(g*m-p*y)/x,E=(d*_-f*b)/(2*x)-r,C=(f*y-d*m)/x,S=L*L+C*C-1,I=2*(o+w*L+E*C),N=w*w+E*E-o*o,P=-(S?(I+Math.sqrt(I*I-4*S*N))/(2*S):N/I);return{x:i+w+L*P,y:r+E+C*P,r:P}}function Uo(t,e,n){var i,r,o,s,a=t.x-e.x,u=t.y-e.y,c=a*a+u*u;c?(r=e.r+n.r,s=t.r+n.r,(r*=r)>(s*=s)?(i=(c+s-r)/(2*c),o=Math.sqrt(Math.max(0,s/c-i*i)),n.x=t.x-i*a-o*u,n.y=t.y-i*u+o*a):(i=(c+r-s)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*a-o*u,n.y=e.y+i*u+o*a)):(n.x=e.x+n.r,n.y=e.y)}function Go(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function qo(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function jo(t){this._=t,this.next=null,this.previous=null}function Vo(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,u,c,l,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(e.x=-(n=t[1]).r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Uo(n,e,i=t[2]),e=new jo(e),n=new jo(n),i=new jo(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){Uo(e._,n._,i=t[a]),i=new jo(i),u=n.next,c=e.previous,l=n._.r,h=e._.r;do{if(l<=h){if(Go(u._,i._)){e.next=n=u,n.previous=e,--a;continue t}l+=u._.r,u=u.next}else{if(Go(c._,i._)){(e=c).next=n,n.previous=e,--a;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=qo(e);(i=i.next)!==n;)(s=qo(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Ro(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}function Ho(t){if("function"!=typeof t)throw new Error;return t}function Yo(){return 0}function Xo(t){return function(){return t}}function Wo(t){return Math.sqrt(t.value)}function Zo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ko(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=Vo(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function Jo(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Qo(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function $o(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(i-e)/t.value;++a<u;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c}function ts(t){return t.id}function es(t){return t.parentId}function ns(t,e){return t.parent===e.parent?1:2}function is(t){var e=t.children;return e?e[0]:t.t}function rs(t){var e=t.children;return e?e[e.length-1]:t.t}function os(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function ss(t,e,n){return t.a.parent===e.parent?t.a:n}function as(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function us(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(r-n)/t.value;++a<u;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c}function cs(t,e,n,i,r,o){for(var s,a,u,c,l,h,f,d,p,g,m,y=[],v=e.children,_=0,b=0,x=v.length,w=e.value;_<x;){u=r-n,c=o-i;do{l=v[b++].value}while(!l&&b<x);for(h=f=l,m=l*l*(g=Math.max(c/u,u/c)/(w*t)),p=Math.max(f/m,m/h);b<x;++b){if(l+=a=v[b].value,a<h&&(h=a),a>f&&(f=a),m=l*l*g,(d=Math.max(f/m,m/h))>p){l-=a;break}p=d}y.push(s={value:l,dice:u<c,children:v.slice(_,b)}),s.dice?$o(s,n,i,r,w?i+=c*l/w:o):us(s,n,i,w?n+=u*l/w:r,o),w-=l,_=b}return y}function ls(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function hs(t,e){return t[0]-e[0]||t[1]-e[1]}function fs(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&ls(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ds(){return Math.random()}function ps(t){function e(e){var o=e+"",s=n.get(o);if(!s){if(r!==_g)return r;n.set(o,s=i.push(e))}return t[(s-1)%t.length]}var n=ln(),i=[],r=_g;return t=null==t?[]:vg.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],n=ln();for(var r,o,s=-1,a=t.length;++s<a;)n.has(o=(r=t[s])+"")||n.set(o,i.push(r));return e},e.range=function(n){return arguments.length?(t=vg.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return ps().domain(i).range(t).unknown(r)},e}function gs(){function t(){var t=r().length,i=s[1]<s[0],f=s[i-0],d=s[1-i];e=(d-f)/Math.max(1,t-u+2*c),a&&(e=Math.floor(e)),f+=(d-f-e*(t-u))*h,n=e*(1-u),a&&(f=Math.round(f),n=Math.round(n));var p=l(t).map(function(t){return f+e*t});return o(i?p.reverse():p)}var e,n,i=ps().unknown(void 0),r=i.domain,o=i.range,s=[0,1],a=!1,u=0,c=0,h=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],a=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(a=!!e,t()):a},i.padding=function(e){return arguments.length?(u=c=Math.max(0,Math.min(1,e)),t()):u},i.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},i.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.copy=function(){return gs().domain(r()).range(s).round(a).paddingInner(u).paddingOuter(c).align(h)},t()}function ms(t){return function(){return t}}function ys(t){return+t}function vs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ms(e)}function _s(t,e,n,i){var r=t[0],o=t[1],s=e[0],a=e[1];return o<r?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(t){return s(r(t))}}function bs(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=n(t[a],t[a+1]),s[a]=i(e[a],e[a+1]);return function(e){var n=Gc(t,e,1,r)-1;return s[n](o[n](e))}}function xs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ws(t,e){function n(){return r=Math.min(a.length,u.length)>2?bs:_s,o=s=null,i}function i(e){return(o||(o=r(a,u,l?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,c)))(+e)}var r,o,s,a=bg,u=bg,c=le,l=!1;return i.invert=function(t){return(s||(s=r(u,a,vs,l?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},i.domain=function(t){return arguments.length?(a=yg.call(t,ys),n()):a.slice()},i.range=function(t){return arguments.length?(u=vg.call(t),n()):u.slice()},i.rangeRound=function(t){return u=vg.call(t),c=he,n()},i.clamp=function(t){return arguments.length?(l=!!t,n()):l},i.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function Ls(e){var n=e.domain;return e.ticks=function(t){var e=n();return h(e[0],e[e.length-1],null==t?10:t)},e.tickFormat=function(e,i){return function(e,n,i){var r,o=e[0],s=e[e.length-1],a=d(o,s,null==n?10:n);switch((i=$n(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(s));return null!=i.precision||isNaN(r=oi(a,u))||(i.precision=r),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=si(a,Math.max(Math.abs(o),Math.abs(s))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=ri(a))||(i.precision=r-2*("%"===i.type))}return t.format(i)}(n(),e,i)},e.nice=function(t){null==t&&(t=10);var i,r=n(),o=0,s=r.length-1,a=r[o],u=r[s];return u<a&&(i=a,a=u,u=i,i=o,o=s,s=i),(i=f(a,u,t))>0?i=f(a=Math.floor(a/i)*i,u=Math.ceil(u/i)*i,t):i<0&&(i=f(a=Math.ceil(a*i)/i,u=Math.floor(u*i)/i,t)),i>0?(r[o]=Math.floor(a/i)*i,r[s]=Math.ceil(u/i)*i,n(r)):i<0&&(r[o]=Math.ceil(a*i)/i,r[s]=Math.floor(u*i)/i,n(r)),e},e}function Es(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function Cs(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:ms(e)}function Ss(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Is(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ns(t){return 10===t?Is:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Ps(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ts(t){return function(e){return-t(-e)}}function Ms(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function As(){var t=1,e=ws(function(e,n){return(n=Ms(n,t)-(e=Ms(e,t)))?function(i){return(Ms(i,t)-e)/n}:ms(n)},function(e,n){return n=Ms(n,t)-(e=Ms(e,t)),function(i){return Ms(e+n*i,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return xs(e,As().exponent(t))},Ls(e)}function Os(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return Os(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return xg.setTime(+e),wg.setTime(+i),t(xg),t(wg),Math.floor(n(xg,wg))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}function Rs(t){return Os(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cg)/Sg})}function Ds(t){return Os(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Sg})}function ks(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zs(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Bs(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=Em[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function n(t,e){return function(n){var r,o,s=zs(1900);if(i(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(o=(r=Fs(zs(s.y))).getUTCDay())>4||0===o?sm.ceil(r):sm(r),r=im.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=(o=(r=e(zs(s.y))).getDay())>4||0===o?kg.ceil(r):kg(r),r=Og.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),o="Z"in s?Fs(zs(s.y)).getUTCDay():e(zs(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(o+5)%7:s.w+7*s.U-(o+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Fs(s)):e(s)}}function i(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;s<a;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=E[r in Em?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}var r=t.dateTime,o=t.date,s=t.time,a=t.periods,u=t.days,c=t.shortDays,l=t.months,h=t.shortMonths,f=qs(a),d=js(a),p=qs(u),g=js(u),m=qs(c),y=js(c),v=qs(l),_=js(l),b=qs(h),x=js(h),w={a:function(t){return c[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:ca,e:ca,f:pa,H:la,I:ha,j:fa,L:da,m:ga,M:ma,p:function(t){return a[+(t.getHours()>=12)]},Q:Va,s:Ha,S:ya,u:va,U:_a,V:ba,w:xa,W:wa,x:null,X:null,y:La,Y:Ea,Z:Ca,"%":ja},L={a:function(t){return c[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Sa,e:Sa,f:Ma,H:Ia,I:Na,j:Pa,L:Ta,m:Aa,M:Oa,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Va,s:Ha,S:Ra,u:Da,U:ka,V:Fa,w:za,W:Ba,x:null,X:null,y:Ua,Y:Ga,Z:qa,"%":ja},E={a:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.w=y[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=g[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=b.exec(e.slice(n));return i?(t.m=x[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return i(t,r,e,n)},d:$s,e:$s,f:oa,H:ea,I:ea,j:ta,L:ra,m:Qs,M:na,p:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.p=d[i[0].toLowerCase()],n+i[0].length):-1},Q:aa,s:ua,S:ia,u:Hs,U:Ys,V:Xs,w:Vs,W:Ws,x:function(t,e,n){return i(t,o,e,n)},X:function(t,e,n){return i(t,s,e,n)},y:Ks,Y:Zs,Z:Js,"%":sa};return w.x=e(o,w),w.X=e(s,w),w.c=e(r,w),L.x=e(o,L),L.X=e(s,L),L.c=e(r,L),{format:function(t){var n=e(t+="",w);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",ks);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",L);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Fs);return e.toString=function(){return t},e}}}function Us(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Gs(t){return t.replace(Im,"\\$&")}function qs(t){return new RegExp("^(?:"+t.map(Gs).join("|")+")","i")}function js(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Vs(t,e,n){var i=Cm.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Hs(t,e,n){var i=Cm.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Ys(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Xs(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Ws(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Zs(t,e,n){var i=Cm.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ks(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Js(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Qs(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function $s(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ta(t,e,n){var i=Cm.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function ea(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function na(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ia(t,e,n){var i=Cm.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ra(t,e,n){var i=Cm.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function oa(t,e,n){var i=Cm.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function sa(t,e,n){var i=Sm.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function aa(t,e,n){var i=Cm.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function ua(t,e,n){var i=Cm.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function ca(t,e){return Us(t.getDate(),e,2)}function la(t,e){return Us(t.getHours(),e,2)}function ha(t,e){return Us(t.getHours()%12||12,e,2)}function fa(t,e){return Us(1+Og.count(Jg(t),t),e,3)}function da(t,e){return Us(t.getMilliseconds(),e,3)}function pa(t,e){return da(t,e)+"000"}function ga(t,e){return Us(t.getMonth()+1,e,2)}function ma(t,e){return Us(t.getMinutes(),e,2)}function ya(t,e){return Us(t.getSeconds(),e,2)}function va(t){var e=t.getDay();return 0===e?7:e}function _a(t,e){return Us(Dg.count(Jg(t),t),e,2)}function ba(t,e){var n=t.getDay();return t=n>=4||0===n?Bg(t):Bg.ceil(t),Us(Bg.count(Jg(t),t)+(4===Jg(t).getDay()),e,2)}function xa(t){return t.getDay()}function wa(t,e){return Us(kg.count(Jg(t),t),e,2)}function La(t,e){return Us(t.getFullYear()%100,e,2)}function Ea(t,e){return Us(t.getFullYear()%1e4,e,4)}function Ca(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Us(e/60|0,"0",2)+Us(e%60,"0",2)}function Sa(t,e){return Us(t.getUTCDate(),e,2)}function Ia(t,e){return Us(t.getUTCHours(),e,2)}function Na(t,e){return Us(t.getUTCHours()%12||12,e,2)}function Pa(t,e){return Us(1+im.count(xm(t),t),e,3)}function Ta(t,e){return Us(t.getUTCMilliseconds(),e,3)}function Ma(t,e){return Ta(t,e)+"000"}function Aa(t,e){return Us(t.getUTCMonth()+1,e,2)}function Oa(t,e){return Us(t.getUTCMinutes(),e,2)}function Ra(t,e){return Us(t.getUTCSeconds(),e,2)}function Da(t){var e=t.getUTCDay();return 0===e?7:e}function ka(t,e){return Us(om.count(xm(t),t),e,2)}function Fa(t,e){var n=t.getUTCDay();return t=n>=4||0===n?cm(t):cm.ceil(t),Us(cm.count(xm(t),t)+(4===xm(t).getUTCDay()),e,2)}function za(t){return t.getUTCDay()}function Ba(t,e){return Us(sm.count(xm(t),t),e,2)}function Ua(t,e){return Us(t.getUTCFullYear()%100,e,2)}function Ga(t,e){return Us(t.getUTCFullYear()%1e4,e,4)}function qa(){return"+0000"}function ja(){return"%"}function Va(t){return+t}function Ha(t){return Math.floor(+t/1e3)}function Ya(e){return wm=Bs(e),t.timeFormat=wm.format,t.timeParse=wm.parse,t.utcFormat=wm.utcFormat,t.utcParse=wm.utcParse,wm}function Xa(t){return new Date(t)}function Wa(t){return t instanceof Date?+t:+new Date(+t)}function Za(t,e,i,r,o,s,a,u,c){function l(n){return(a(n)<n?m:s(n)<n?y:o(n)<n?v:r(n)<n?_:e(n)<n?i(n)<n?b:x:t(n)<n?w:L)(n)}function h(e,i,r,o){if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(r-i)/e,a=n(function(t){return t[2]}).right(E,s);a===E.length?(o=d(i/Fm,r/Fm,e),e=t):a?(o=(a=E[s/E[a-1][2]<E[a][2]/s?a-1:a])[1],e=a[0]):(o=Math.max(d(i,r,e),1),e=u)}return null==o?e:e.every(o)}var f=ws(vs,ae),p=f.invert,g=f.domain,m=c(".%L"),y=c(":%S"),v=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),L=c("%Y"),E=[[a,1,Mm],[a,5,5*Mm],[a,15,15*Mm],[a,30,30*Mm],[s,1,Am],[s,5,5*Am],[s,15,15*Am],[s,30,30*Am],[o,1,Om],[o,3,3*Om],[o,6,6*Om],[o,12,12*Om],[r,1,Rm],[r,2,2*Rm],[i,1,Dm],[e,1,km],[e,3,3*km],[t,1,Fm]];return f.invert=function(t){return new Date(p(t))},f.domain=function(t){return arguments.length?g(yg.call(t,Wa)):g().map(Xa)},f.ticks=function(t,e){var n,i=g(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=h(t,r,o,e))?n.range(r,o+1):[],s?n.reverse():n},f.tickFormat=function(t,e){return null==e?l:c(e)},f.nice=function(t,e){var n=g();return(t=h(t,n[0],n[n.length-1],e))?g(Es(n,t)):f},f.copy=function(){return xs(f,Za(t,e,i,r,o,s,a,u,c))},f}function Ka(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}function Ja(t){return Yl(t[t.length-1])}function Qa(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function $a(t){return function(){return t}}function tu(t){return t>=1?lv:t<=-1?-lv:Math.asin(t)}function eu(t){return t.innerRadius}function nu(t){return t.outerRadius}function iu(t){return t.startAngle}function ru(t){return t.endAngle}function ou(t){return t&&t.padAngle}function su(t,e,n,i,r,o,s){var a=t-n,u=e-i,c=(s?o:-o)/av(a*a+u*u),l=c*u,h=-c*a,f=t+l,d=e+h,p=n+l,g=i+h,m=(f+p)/2,y=(d+g)/2,v=p-f,_=g-d,b=v*v+_*_,x=r-o,w=f*g-p*d,L=(_<0?-1:1)*av(rv(0,x*x*b-w*w)),E=(w*_-v*L)/b,C=(-w*v-_*L)/b,S=(w*_+v*L)/b,I=(-w*v+_*L)/b,N=E-m,P=C-y,T=S-m,M=I-y;return N*N+P*P>T*T+M*M&&(E=S,C=I),{cx:E,cy:C,x01:-l,y01:-h,x11:E*(r/x-1),y11:C*(r/x-1)}}function au(t){this._context=t}function uu(t){return new au(t)}function cu(t){return t[0]}function lu(t){return t[1]}function hu(){function t(t){var a,u,c,l=t.length,h=!1;for(null==r&&(s=o(c=nn())),a=0;a<=l;++a)!(a<l&&i(u=t[a],a,t))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(u,a,t),+n(u,a,t));if(c)return s=null,c+""||null}var e=cu,n=lu,i=$a(!0),r=null,o=uu,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:$a(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:$a(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:$a(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(s=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=s=null:s=o(r=e),t):r},t}function fu(){function t(t){var e,l,h,f,d,p=t.length,g=!1,m=new Array(p),y=new Array(p);for(null==a&&(c=u(d=nn())),e=0;e<=p;++e){if(!(e<p&&s(f=t[e],e,t))===g)if(g=!g)l=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=e-1;h>=l;--h)c.point(m[h],y[h]);c.lineEnd(),c.areaEnd()}g&&(m[e]=+n(f,e,t),y[e]=+r(f,e,t),c.point(i?+i(f,e,t):m[e],o?+o(f,e,t):y[e]))}if(d)return c=null,d+""||null}function e(){return hu().defined(s).curve(u).context(a)}var n=cu,i=null,r=$a(0),o=lu,s=$a(!0),a=null,u=uu,c=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:$a(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:$a(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:$a(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:$a(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:$a(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:$a(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:$a(!!e),t):s},t.curve=function(e){return arguments.length?(u=e,null!=a&&(c=u(a)),t):u},t.context=function(e){return arguments.length?(null==e?a=c=null:c=u(a=e),t):a},t}function du(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function pu(t){return t}function gu(t){this._curve=t}function mu(t){function e(e){return new gu(t(e))}return e._curve=t,e}function yu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t}function vu(){return yu(hu().curve(fv))}function _u(){var t=fu().curve(fv),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return yu(n())},delete t.lineX0,t.lineEndAngle=function(){return yu(i())},delete t.lineX1,t.lineInnerRadius=function(){return yu(r())},delete t.lineY0,t.lineOuterRadius=function(){return yu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t}function bu(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function xu(t){return t.source}function wu(t){return t.target}function Lu(t){function e(){var e,a=dv.call(arguments),u=n.apply(this,a),c=i.apply(this,a);if(s||(s=e=nn()),t(s,+r.apply(this,(a[0]=u,a)),+o.apply(this,a),+r.apply(this,(a[0]=c,a)),+o.apply(this,a)),e)return s=null,e+""||null}var n=xu,i=wu,r=cu,o=lu,s=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(i=t,e):i},e.x=function(t){return arguments.length?(r="function"==typeof t?t:$a(+t),e):r},e.y=function(t){return arguments.length?(o="function"==typeof t?t:$a(+t),e):o},e.context=function(t){return arguments.length?(s=null==t?null:t,e):s},e}function Eu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Cu(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Su(t,e,n,i,r){var o=bu(e,n),s=bu(e,n=(n+r)/2),a=bu(i,n),u=bu(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],u[0],u[1])}function Iu(){}function Nu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pu(t){this._context=t}function Tu(t){this._context=t}function Mu(t){this._context=t}function Au(t,e){this._basis=new Pu(t),this._beta=e}function Ou(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ru(t,e){this._context=t,this._k=(1-e)/6}function Du(t,e){this._context=t,this._k=(1-e)/6}function ku(t,e){this._context=t,this._k=(1-e)/6}function Fu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>uv){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>uv){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function zu(t,e){this._context=t,this._alpha=e}function Bu(t,e){this._context=t,this._alpha=e}function Uu(t,e){this._context=t,this._alpha=e}function Gu(t){this._context=t}function qu(t){return t<0?-1:1}function ju(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(qu(o)+qu(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Vu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hu(t,e,n){var i=t._x0,r=t._x1,o=t._y1,s=(r-i)/3;t._context.bezierCurveTo(i+s,t._y0+s*e,r-s,o-s*n,r,o)}function Yu(t){this._context=t}function Xu(t){this._context=new Wu(t)}function Wu(t){this._context=t}function Zu(t){this._context=t}function Ku(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)o[e]-=n=r[e]/o[e-1],s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Ju(t,e){this._context=t,this._t=e}function Qu(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $u(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tc(t,e){return t[e]}function ec(t){var e=t.map(nc);return $u(t).sort(function(t,n){return e[t]-e[n]})}function nc(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function ic(t){return function(){return t}}function rc(t){return t[0]}function oc(t){return t[1]}function sc(){this._=null}function ac(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function uc(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function cc(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function lc(t){for(;t.L;)t=t.L;return t}function hc(t,e,n,i){var r=[null,null],o=qv.push(r)-1;return r.left=t,r.right=e,n&&dc(r,t,e,n),i&&dc(r,e,t,i),Uv[t.index].halfedges.push(o),Uv[e.index].halfedges.push(o),r}function fc(t,e,n){var i=[e,n];return i.left=t,i}function dc(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function pc(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],c=s[1],l=0,h=1,f=a[0]-u,d=a[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*d]),h<1&&(t[1]=[u+h*f,c+h*d]),!0)}}}}}function gc(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],d=l[0],p=l[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||g>=i)return;if(h>d){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=m-(s=(h-d)/(p-f))*g,s<-1||s>1)if(h>d){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<p){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function mc(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function yc(t,e){return e[+(e.left!==t.site)]}function vc(t,e){return e[+(e.left===t.site)]}function _c(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,c=i[1]-a,l=o[0]-s,h=o[1]-a,f=2*(u*h-c*l);if(!(f>=-Yv)){var d=u*u+c*c,p=l*l+h*h,g=(h*d-c*p)/f,m=(u*p-l*d)/f,y=jv.pop()||new function(){ac(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=r,y.x=g+s,y.y=(y.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,_=Gv._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}Gv.insert(v,y),v||(zv=y)}}}}function bc(t){var e=t.circle;e&&(e.P||(zv=e.N),Gv.remove(e),jv.push(e),ac(e),t.circle=null)}function xc(t){var e=Vv.pop()||new function(){ac(this),this.edge=this.site=this.circle=null};return e.site=t,e}function wc(t){bc(t),Bv.remove(t),Vv.push(t),ac(t)}function Lc(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];wc(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Hv&&Math.abs(i-u.circle.cy)<Hv;)o=u.P,a.unshift(u),wc(u),u=o;a.unshift(u),bc(u);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<Hv&&Math.abs(i-c.circle.cy)<Hv;)s=c.N,a.push(c),wc(c),c=s;a.push(c),bc(c);var l,h=a.length;for(l=1;l<h;++l)dc((c=a[l]).edge,(u=a[l-1]).site,c.site,r);(c=a[h-1]).edge=hc((u=a[0]).site,c.site,null,r),_c(u),_c(c)}function Ec(t){for(var e,n,i,r,o=t[0],s=t[1],a=Bv._;a;)if((i=Cc(a,s)-o)>Hv)a=a.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return Cc(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(a,s))>Hv)){i>-Hv?(e=a.P,n=a):r>-Hv?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Uv[t.index]={site:t,halfedges:[]}}(t);var u=xc(t);if(Bv.insert(e,u),e||n){if(e===n)return bc(e),n=xc(e.site),Bv.insert(u,n),u.edge=n.edge=hc(e.site,u.site),_c(e),void _c(n);if(n){bc(e),bc(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,d=t[1]-h,p=n.site,g=p[0]-l,m=p[1]-h,y=2*(f*m-d*g),v=f*f+d*d,_=g*g+m*m,b=[(m*v-d*_)/y+l,(f*_-g*v)/y+h];dc(n.edge,c,p,b),u.edge=hc(c,t,null,b),n.edge=hc(t,p,null,b),_c(e),_c(n)}else u.edge=hc(e.site,u.site)}}function Cc(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],c=u-e;if(!c)return a;var l=a-i,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+r-o/2)))/h+i:(i+a)/2}function Sc(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Ic(t,e){return e[1]-t[1]||e[0]-t[0]}function Nc(t,e){var n,i,r,o=t.sort(Ic).pop();for(qv=[],Uv=new Array(t.length),Bv=new sc,Gv=new sc;;)if(r=zv,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Ec(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Lc(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Uv.length;r<o;++r)if((t=Uv[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=mc(t,qv[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],c=+e[1][1];(function(t,e,n,i){for(var r,o=qv.length;o--;)gc(r=qv[o],t,e,n,i)&&pc(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Hv||Math.abs(r[0][1]-r[1][1])>Hv)||delete qv[o]})(s,a,u,c),function(t,e,n,i){var r,o,s,a,u,c,l,h,f,d,p,g,m=Uv.length,y=!0;for(r=0;r<m;++r)if(o=Uv[r]){for(s=o.site,a=(u=o.halfedges).length;a--;)qv[u[a]]||u.splice(a,1);for(a=0,c=u.length;a<c;)p=(d=vc(o,qv[u[a]]))[0],g=d[1],h=(l=yc(o,qv[u[++a%c]]))[0],f=l[1],(Math.abs(p-h)>Hv||Math.abs(g-f)>Hv)&&(u.splice(a,0,qv.push(fc(s,d,Math.abs(p-t)<Hv&&i-g>Hv?[t,Math.abs(h-t)<Hv?f:i]:Math.abs(g-i)<Hv&&n-p>Hv?[Math.abs(f-i)<Hv?h:n,i]:Math.abs(p-n)<Hv&&g-e>Hv?[n,Math.abs(h-n)<Hv?f:e]:Math.abs(g-e)<Hv&&p-t>Hv?[Math.abs(f-e)<Hv?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var v,_,b,x=1/0;for(r=0,y=null;r<m;++r)(o=Uv[r])&&(b=(v=(s=o.site)[0]-t)*v+(_=s[1]-e)*_)<x&&(x=b,y=o);if(y){var w=[t,e],L=[t,i],E=[n,i],C=[n,e];y.halfedges.push(qv.push(fc(s=y.site,w,L))-1,qv.push(fc(s,L,E))-1,qv.push(fc(s,E,C))-1,qv.push(fc(s,C,w))-1)}}for(r=0;r<m;++r)(o=Uv[r])&&(o.halfedges.length||delete Uv[r])}(s,a,u,c)}this.edges=qv,this.cells=Uv,Bv=Gv=qv=Uv=null}function Pc(t){return function(){return t}}function Tc(t,e,n){this.k=t,this.x=e,this.y=n}function Mc(t){return t.__zoom||Xv}function Ac(){t.event.stopImmediatePropagation()}function Oc(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Rc(){return!t.event.button}function Dc(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function kc(){return this.__zoom||Xv}function Fc(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function zc(){return"ontouchstart"in this}function Bc(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}var Uc=n(e),Gc=Uc.right,qc=Uc.left,jc=Array.prototype,Vc=jc.slice,Hc=jc.map,Yc=Math.sqrt(50),Xc=Math.sqrt(10),Wc=Math.sqrt(2),Zc=Array.prototype.slice,Kc=1,Jc=2,Qc=3,$c=4,tl=1e-6,el={value:function(){}};I.prototype=S.prototype={constructor:I,on:function(t,e){var n,i=this._,r=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=N(i[n],t.name,e);else if(null==e)for(n in i)i[n]=N(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=function(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new I(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var nl="http://www.w3.org/1999/xhtml",il={svg:"http://www.w3.org/2000/svg",xhtml:nl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rl=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ol=document.documentElement;if(!ol.matches){var sl=ol.webkitMatchesSelector||ol.msMatchesSelector||ol.mozMatchesSelector||ol.oMatchesSelector;rl=function(t){return function(){return sl.call(this,t)}}}}var al=rl;k.prototype={constructor:k,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ul="$";V.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var cl={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(cl={mouseenter:"mouseover",mouseleave:"mouseout"}));var ll=[null];at.prototype=ut.prototype={constructor:at,select:function(t){"function"!=typeof t&&(t=A(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,c=i[r]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),c[l]=s);return new at(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,c=0;c<u;++c)(s=a[c])&&(i.push(t.call(s,s.__data__,c,a)),r.push(s));return new at(i,r)},filter:function(t){"function"!=typeof t&&(t=al(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new at(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?z:F,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=i[c],h=r[c],f=h.length,d=t.call(l,l&&l.__data__,c,i),p=d.length,g=a[c]=new Array(p),m=s[c]=new Array(p);n(l,h,g,m,u[c]=new Array(f),d,e);for(var y,v,_=0,b=0;_<p;++_)if(y=g[_]){for(_>=b&&(b=_+1);!(v=m[b])&&++b<p;);y._next=v||null}}return(s=new at(s,i))._enter=a,s._exit=u,s},enter:function(){return new at(this._enter||this._groups.map(D),this._parents)},exit:function(){return new at(this._exit||this._groups.map(D),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,u=e[s],c=n[s],l=u.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=u[f]||c[f])&&(h[f]=a);for(;s<i;++s)o[s]=e[s];return new at(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=B);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],u=a.length,c=r[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(e)}return new at(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=P(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):G(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=q(t+"");if(arguments.length<2){for(var i=j(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?H:Y)(this,t)}}:e?function(t){return function(){H(this,t)}}:function(t){return function(){Y(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(K)},append:function(t){var e="function"==typeof t?t:T(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:T(t),i=null==e?J:"function"==typeof e?e:A(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?tt:$)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?rt:it,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(i=0,u=a[c];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return st(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return st(this,t,e)}})(t,e))}};var hl=0;ht.prototype=lt.prototype={constructor:ht,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var fl="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gl=/^#([0-9a-f]{3})$/,ml=/^#([0-9a-f]{6})$/,yl=new RegExp("^rgb\\("+[fl,fl,fl]+"\\)$"),vl=new RegExp("^rgb\\("+[pl,pl,pl]+"\\)$"),_l=new RegExp("^rgba\\("+[fl,fl,fl,dl]+"\\)$"),bl=new RegExp("^rgba\\("+[pl,pl,pl,dl]+"\\)$"),xl=new RegExp("^hsl\\("+[dl,pl,pl]+"\\)$"),wl=new RegExp("^hsla\\("+[dl,pl,pl,dl]+"\\)$"),Ll={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};St(Nt,Pt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),St(Rt,Ot,It(Nt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),St(Ft,kt,It(Nt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ft(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rt(zt(t>=240?t-240:t+120,r,i),zt(t,r,i),zt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var El=Math.PI/180,Cl=180/Math.PI,Sl=.96422,Il=1,Nl=.82521,Pl=4/29,Tl=6/29,Ml=3*Tl*Tl,Al=Tl*Tl*Tl;St(Gt,Ut,It(Nt,{brighter:function(t){return new Gt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Gt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rt(Vt(3.1338561*(e=Sl*jt(e))-1.6168667*(t=Il*jt(t))-.4906146*(n=Nl*jt(n))),Vt(-.9787684*e+1.9161415*t+.033454*n),Vt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),St(Wt,Xt,It(Nt,{brighter:function(t){return new Wt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Wt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Bt(this).rgb()}}));var Ol=-.29227,Rl=-.90649,Dl=1.97294,kl=Dl*Rl,Fl=1.78277*Dl,zl=1.78277*Ol- -.14861*Rl;St(Kt,Zt,It(Nt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*El,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rt(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Ol*i+Rl*r)),255*(e+n*(Dl*i)),this.opacity)}}));var Bl,Ul,Gl,ql,jl,Vl,Hl=function t(e){function n(t,e){var n=i((t=Ot(t)).r,(e=Ot(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=ie(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=function(t){return 1==(t=+t)?ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):te(isNaN(e)?n:e)}}(e);return n.gamma=t,n}(1),Yl=re(Qt),Xl=re($t),Wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=new RegExp(Wl.source,"g"),Kl=180/Math.PI,Jl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ql=de(function(t){return"none"===t?Jl:(Bl||(Bl=document.createElement("DIV"),Ul=document.documentElement,Gl=document.defaultView),Bl.style.transform=t,t=Gl.getComputedStyle(Ul.appendChild(Bl),null).getPropertyValue("transform"),Ul.removeChild(Bl),fe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),$l=de(function(t){return null==t?Jl:(ql||(ql=document.createElementNS("http://www.w3.org/2000/svg","g")),ql.setAttribute("transform",t),(t=ql.transform.baseVal.consolidate())?fe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Jl)},", ",")",")"),th=Math.SQRT2,eh=2,nh=4,ih=1e-12,rh=me(ne),oh=me(ie),sh=ye(ne),ah=ye(ie),uh=ve(ne),ch=ve(ie),lh=0,hh=0,fh=0,dh=1e3,ph=0,gh=0,mh=0,yh="object"==typeof performance&&performance.now?performance:Date,vh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};xe.prototype=we.prototype={constructor:xe,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_e():+n)+(null==e?0:+e),this._next||Vl===this||(Vl?Vl._next=this:jl=this,Vl=this),this._call=t,this._time=n,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var _h=S("start","end","interrupt"),bh=[],xh=0,wh=1,Lh=2,Eh=3,Ch=4,Sh=5,Ih=6,Nh=ut.prototype.constructor,Ph=0,Th=ut.prototype;De.prototype=ke.prototype={constructor:De,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=A(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,u,c=i[s],l=c.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=c[f])&&(u=t.call(a,a.__data__,f,c))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,Ne(h[f],e,n,f,h,Me(a,n)));return new De(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=R(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var u,c=i[a],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=Me(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&Ne(f,e,n,g,d,p);o.push(d),s.push(u)}return new De(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=al(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new De(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,u=e[s],c=n[s],l=u.length,h=o[s]=new Array(l),f=0;f<l;++f)(a=u[f]||c[f])&&(h[f]=a);for(;s<i;++s)o[s]=e[s];return new De(o,this._parents,this._name,this._id)},selection:function(){return new Nh(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Fe(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,c=0;c<u;++c)if(s=a[c]){var l=Me(s,e);Ne(s,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new De(i,this._parents,t,n)},call:Th.call,nodes:Th.nodes,node:Th.node,size:Th.size,empty:Th.empty,each:Th.each,on:function(t,e){var n=this._id;return arguments.length<2?Me(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?Pe:Te;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,e){var n=P(t),i="transform"===n?$l:Re;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var i,r,o;return function(){var s,a=n(this);if(null!=a)return(s=this.getAttributeNS(t.space,t.local))===a?null:s===i&&a===r?o:o=e(i=s,r=a);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var i,r,o;return function(){var s,a=n(this);if(null!=a)return(s=this.getAttribute(t))===a?null:s===i&&a===r?o:o=e(i=s,r=a);this.removeAttribute(t)}})(n,i,Oe(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}:function(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}})(n,i,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=P(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ql:Re;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=G(this,t),s=(this.style.removeProperty(t),G(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var i,r,o;return function(){var s=G(this,t),a=n(this);return null==a&&(this.style.removeProperty(t),a=G(this,t)),s===a?null:s===i&&a===r?o:o=e(i=s,r=a)}}(t,i,Oe(this,"style."+t,e)):function(t,e,n){var i,r;return function(){var o=G(this,t);return o===n?null:o===i?r:r=e(i=o,n)}}(t,i,e+""),n)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Oe(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Me(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var r=Te(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}:function(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Te(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=a;break}u===c&&r.push(a)}o.tween=r}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Pe(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Pe(this,t).delay=e}})(e,t)):Me(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Te(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Te(this,t).duration=e}})(e,t)):Me(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Te(this,t).ease=e}}(e,t)):Me(this.node(),e).ease}};var Mh=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ah=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Oh=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Rh=Math.PI,Dh=Rh/2,kh=4/11,Fh=6/11,zh=8/11,Bh=.75,Uh=9/11,Gh=10/11,qh=.9375,jh=21/22,Vh=63/64,Hh=1/kh/kh,Yh=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Xh=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Wh=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Zh=2*Math.PI,Kh=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zh);return i.amplitude=function(e){return t(e,n*Zh)},i.period=function(n){return t(e,n)},i}(1,.3),Jh=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zh);return i.amplitude=function(e){return t(e,n*Zh)},i.period=function(n){return t(e,n)},i}(1,.3),Qh=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zh);return i.amplitude=function(e){return t(e,n*Zh)},i.period=function(n){return t(e,n)},i}(1,.3),$h={time:null,delay:0,duration:250,ease:Be};ut.prototype.interrupt=function(t){return this.each(function(){Ae(this,t)})},ut.prototype.transition=function(t){var e,n;t instanceof De?(e=t._id,t=t._name):(e=Fe(),(n=$h).time=_e(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,c=0;c<u;++c)(s=a[c])&&Ne(s,t,e,c,a,n||Ve(s,e));return new De(i,this._parents,t,e)};var tf=[null],ef={name:"drag"},nf={name:"space"},rf={name:"handle"},of={name:"center"},sf={name:"x",handles:["e","w"].map(We),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},af={name:"y",handles:["n","s"].map(We),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},uf={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(We),input:function(t){return t},output:function(t){return t}},cf={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},hf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ff={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},df={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},pf=Math.cos,gf=Math.sin,mf=Math.PI,yf=mf/2,vf=2*mf,_f=Math.max,bf=Array.prototype.slice,xf=Math.PI,wf=2*xf,Lf=wf-1e-6;en.prototype=nn.prototype={constructor:en,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){var o=this._x1,s=this._y1,a=(n=+n)-(t=+t),u=(i=+i)-(e=+e),c=o-t,l=s-e,h=c*c+l*l;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*a-u*c)>1e-6&&r){var f=n-o,d=i-s,p=a*a+u*u,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),v=r*Math.tan((xf-Math.acos((p+h-g)/(2*m*y)))/2),_=v/y,b=v/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),u=t+s,c=e+a,l=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%wf+wf),h>Lf?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=xf)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},cn.prototype=ln.prototype={constructor:cn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ef=ln.prototype;gn.prototype=mn.prototype={constructor:gn,has:Ef.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ef.remove,clear:Ef.clear,values:Ef.keys,size:Ef.size,empty:Ef.empty,each:Ef.each};var Cf=Array.prototype.slice,Sf=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],If={},Nf={},Pf=34,Tf=10,Mf=13,Af=In(","),Of=Af.parse,Rf=Af.parseRows,Df=Af.format,kf=Af.formatRows,Ff=In("\t"),zf=Ff.parse,Bf=Ff.parseRows,Uf=Ff.format,Gf=Ff.formatRows,qf=An(Of),jf=An(zf),Vf=Rn("application/xml"),Hf=Rn("text/html"),Yf=Rn("image/svg+xml"),Xf=Gn.prototype=qn.prototype;Xf.copy=function(){var t,e,n=new qn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=jn(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=jn(e));return n},Xf.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Fn(this.cover(e,n),e,n,t)},Xf.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<u&&(u=i),i>l&&(l=i),r<c&&(c=r),r>h&&(h=r));for(l<u&&(u=this._x0,l=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(u,c).cover(l,h),n=0;n<o;++n)Fn(this,s[n],a[n],t[n]);return this},Xf.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var s,a,u=r-n,c=this._root;switch(a=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:do{(s=new Array(4))[a]=c,c=s}while(o=i+(u*=2),t>(r=n+u)||e>o);break;case 1:do{(s=new Array(4))[a]=c,c=s}while(o=i+(u*=2),(n=r-u)>t||e>o);break;case 2:do{(s=new Array(4))[a]=c,c=s}while(i=o-(u*=2),t>(r=n+u)||i>e);break;case 3:do{(s=new Array(4))[a]=c,c=s}while(i=o-(u*=2),(n=r-u)>t||i>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Xf.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Xf.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Xf.find=function(t,e,n){var i,r,o,s,a,u,c,l=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new zn(g,l,h,f,d)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(r=u.x0)>f||(o=u.y0)>d||(s=u.x1)<l||(a=u.y1)<h))if(g.length){var m=(r+s)/2,y=(o+a)/2;p.push(new zn(g[3],m,y,s,a),new zn(g[2],r,y,m,a),new zn(g[1],m,o,s,y),new zn(g[0],r,o,m,y)),(c=(e>=y)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var v=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),b=v*v+_*_;if(b<n){var x=Math.sqrt(n=b);l=t-x,h=e-x,f=t+x,d=e+x,i=g.data}}return i},Xf.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,c,l,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(p+m)/2))?p=a:m=a,(l=s>=(u=(g+y)/2))?g=u:y=u,e=d,!(d=d[h=l<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},Xf.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Xf.root=function(){return this._root},Xf.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Xf.visit=function(t){var e,n,i,r,o,s,a=[],u=this._root;for(u&&a.push(new zn(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&u.length){var c=(i+o)/2,l=(r+s)/2;(n=u[3])&&a.push(new zn(n,c,l,o,s)),(n=u[2])&&a.push(new zn(n,i,l,c,s)),(n=u[1])&&a.push(new zn(n,c,r,o,l)),(n=u[0])&&a.push(new zn(n,i,r,c,l))}return this},Xf.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new zn(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,u=e.x1,c=e.y1,l=(s+u)/2,h=(a+c)/2;(o=r[0])&&n.push(new zn(o,s,a,l,h)),(o=r[1])&&n.push(new zn(o,l,a,u,h)),(o=r[2])&&n.push(new zn(o,s,h,l,c)),(o=r[3])&&n.push(new zn(o,l,h,u,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Xf.x=function(t){return arguments.length?(this._x=t,this):this._x},Xf.y=function(t){return arguments.length?(this._y=t,this):this._y};var Wf,Zf=10,Kf=Math.PI*(3-Math.sqrt(5)),Jf={"":function(t,e){t:for(var n,i=(t=t.toPrecision(e)).length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Qn(100*t,e)},r:Qn,s:function(t,e){var n=Kn(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Wf=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Kn(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Qf=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;$n.prototype=ti.prototype,ti.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var $f,td=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];ii({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),ui.prototype={constructor:ui,reset:function(){this.s=this.t=0},add:function(t){ci(Ad,t,this.t),ci(this,Ad.s,this.s),this.s?this.t+=Ad.t:this.s=Ad.t},valueOf:function(){return this.s}};var ed,nd,id,rd,od,sd,ad,ud,cd,ld,hd,fd,dd,pd,gd,md,yd,vd,_d,bd,xd,wd,Ld,Ed,Cd,Sd,Id,Nd,Pd,Td,Md,Ad=new ui,Od=1e-6,Rd=Math.PI,Dd=Rd/2,kd=Rd/4,Fd=2*Rd,zd=180/Rd,Bd=Rd/180,Ud=Math.abs,Gd=Math.atan,qd=Math.atan2,jd=Math.cos,Vd=Math.ceil,Hd=Math.exp,Yd=Math.log,Xd=Math.pow,Wd=Math.sin,Zd=Math.sign||function(t){return t>0?1:t<0?-1:0},Kd=Math.sqrt,Jd=Math.tan,Qd={Feature:function(t,e){pi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)pi(n[i].geometry,e)}},$d={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){gi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)gi(n[i],e,0)},Polygon:function(t,e){mi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)mi(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)pi(n[i],e)}},tp=ai(),ep=ai(),np={point:di,lineStart:di,lineEnd:di,polygonStart:function(){tp.reset(),np.lineStart=vi,np.lineEnd=_i},polygonEnd:function(){var t=+tp;ep.add(t<0?Fd+t:t),this.lineStart=this.lineEnd=this.point=di},sphere:function(){ep.add(Fd)}},ip=ai(),rp={point:Pi,lineStart:Mi,lineEnd:Ai,polygonStart:function(){rp.point=Oi,rp.lineStart=Ri,rp.lineEnd=Di,ip.reset(),np.polygonStart()},polygonEnd:function(){np.polygonEnd(),rp.point=Pi,rp.lineStart=Mi,rp.lineEnd=Ai,tp<0?(sd=-(ud=180),ad=-(cd=90)):ip>Od?cd=90:ip<-Od&&(ad=-90),gd[0]=sd,gd[1]=ud}},op={sphere:di,point:Bi,lineStart:Gi,lineEnd:Vi,polygonStart:function(){op.lineStart=Hi,op.lineEnd=Yi},polygonEnd:function(){op.lineStart=Gi,op.lineEnd=Vi}};Ji.invert=Ji;var sp,ap,up,cp,lp,hp,fp,dp,pp,gp,mp,yp=ai(),vp=hr(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Rd:-Rd,u=Ud(o-n);Ud(u-Rd)<Od?(t.point(n,i=(i+s)/2>0?Dd:-Dd),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=Rd&&(Ud(n-r)<Od&&(n-=r*Od),Ud(o-a)<Od&&(o-=a*Od),i=function(t,e,n,i){var r,o,s=Wd(t-n);return Ud(s)>Od?Gd((Wd(e)*(o=jd(i))*Wd(n)-Wd(i)*(r=jd(e))*Wd(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)i.point(-Rd,r=n*Dd),i.point(0,r),i.point(Rd,r),i.point(Rd,0),i.point(Rd,-r),i.point(0,-r),i.point(-Rd,-r),i.point(-Rd,0),i.point(-Rd,r);else if(Ud(t[0]-e[0])>Od){var o=t[0]<e[0]?Rd:-Rd;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Rd,-Dd]),_p=1e9,bp=-_p,xp=ai(),wp={sphere:di,point:di,lineStart:function(){wp.point=yr,wp.lineEnd=mr},lineEnd:di,polygonStart:di,polygonEnd:di},Lp=[null,null],Ep={type:"LineString",coordinates:Lp},Cp={Feature:function(t,e){return xr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(xr(n[i].geometry,e))return!0;return!1}},Sp={Sphere:function(){return!0},Point:function(t,e){return wr(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(wr(n[i],e))return!0;return!1},LineString:function(t,e){return Lr(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Lr(n[i],e))return!0;return!1},Polygon:function(t,e){return Er(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Er(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(xr(n[i],e))return!0;return!1}},Ip=ai(),Np=ai(),Pp={point:di,lineStart:di,lineEnd:di,polygonStart:function(){Pp.lineStart=Mr,Pp.lineEnd=Rr},polygonEnd:function(){Pp.lineStart=Pp.lineEnd=Pp.point=di,Ip.add(Ud(Np)),Np.reset()},result:function(){var t=Ip/2;return Ip.reset(),t}},Tp=1/0,Mp=Tp,Ap=-Tp,Op=Ap,Rp={point:function(t,e){t<Tp&&(Tp=t),t>Ap&&(Ap=t),e<Mp&&(Mp=e),e>Op&&(Op=e)},lineStart:di,lineEnd:di,polygonStart:di,polygonEnd:di,result:function(){var t=[[Tp,Mp],[Ap,Op]];return Ap=Op=-(Mp=Tp=1/0),t}},Dp=0,kp=0,Fp=0,zp=0,Bp=0,Up=0,Gp=0,qp=0,jp=0,Vp={point:Dr,lineStart:kr,lineEnd:Br,polygonStart:function(){Vp.lineStart=Ur,Vp.lineEnd=Gr},polygonEnd:function(){Vp.point=Dr,Vp.lineStart=kr,Vp.lineEnd=Br},result:function(){var t=jp?[Gp/jp,qp/jp]:Up?[zp/Up,Bp/Up]:Fp?[Dp/Fp,kp/Fp]:[NaN,NaN];return Dp=kp=Fp=zp=Bp=Up=Gp=qp=jp=0,t}};Vr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fd)}},result:di};var Hp,Yp,Xp,Wp,Zp,Kp=ai(),Jp={point:di,lineStart:function(){Jp.point=Hr},lineEnd:function(){Hp&&Yr(Yp,Xp),Jp.point=di},polygonStart:function(){Hp=!0},polygonEnd:function(){Hp=null},result:function(){var t=+Kp;return Kp.reset(),t}};Xr.prototype={_radius:4.5,_circle:Wr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Wr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Kr.prototype={constructor:Kr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qp=16,$p=jd(30*Bd),tg=Zr({point:function(t,e){this.stream.point(t*Bd,e*Bd)}}),eg=lo(function(t){return Kd(2/(1+t))});eg.invert=ho(function(t){return 2*hi(t/2)});var ng=lo(function(t){return(t=li(t))&&t/Wd(t)});ng.invert=ho(function(t){return t}),fo.invert=function(t,e){return[t,2*Gd(Hd(e))-Dd]},yo.invert=yo,_o.invert=ho(Gd),xo.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Ud(n)>Od&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},wo.invert=ho(hi),Lo.invert=ho(function(t){return 2*Gd(t)}),Eo.invert=function(t,e){return[-e,2*Gd(Hd(t))-Dd]},Oo.prototype=Po.prototype={constructor:Oo,count:function(){return this.eachAfter(No)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Po(this).eachBefore(Mo)}};var ig=Array.prototype.slice,rg="$",og={depth:-1},sg={};as.prototype=Object.create(Oo.prototype);var ag=(1+Math.sqrt(5))/2,ug=function t(e){function n(t,n,i,r,o){cs(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ag),cg=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,u,c,l,h=-1,f=s.length,d=t.value;++h<f;){for(u=(a=s[h]).children,c=a.value=0,l=u.length;c<l;++c)a.value+=u[c].value;a.dice?$o(a,n,i,r,i+=(o-i)*a.value/d):us(a,n,i,n+=(r-n)*a.value/d,o),d-=a.value}else t._squarify=s=cs(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ag),lg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(ds),hg=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(ds),fg=function t(e){function n(){var t=hg.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(ds),dg=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(ds),pg=function t(e){function n(t){var n=dg.source(e)(t);return function(){return n()/t}}return n.source=t,n}(ds),gg=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(ds),mg=Array.prototype,yg=mg.map,vg=mg.slice,_g={name:"implicit"},bg=[0,1],xg=new Date,wg=new Date,Lg=Os(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Lg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Os(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Lg:null};var Eg=Lg.range,Cg=6e4,Sg=6048e5,Ig=Os(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ng=Ig.range,Pg=Os(function(t){t.setTime(Math.floor(t/Cg)*Cg)},function(t,e){t.setTime(+t+e*Cg)},function(t,e){return(e-t)/Cg},function(t){return t.getMinutes()}),Tg=Pg.range,Mg=Os(function(t){var e=t.getTimezoneOffset()*Cg%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Ag=Mg.range,Og=Os(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cg)/864e5},function(t){return t.getDate()-1}),Rg=Og.range,Dg=Rs(0),kg=Rs(1),Fg=Rs(2),zg=Rs(3),Bg=Rs(4),Ug=Rs(5),Gg=Rs(6),qg=Dg.range,jg=kg.range,Vg=Fg.range,Hg=zg.range,Yg=Bg.range,Xg=Ug.range,Wg=Gg.range,Zg=Os(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Kg=Zg.range,Jg=Os(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Jg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Os(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Qg=Jg.range,$g=Os(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Cg)},function(t,e){return(e-t)/Cg},function(t){return t.getUTCMinutes()}),tm=$g.range,em=Os(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),nm=em.range,im=Os(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),rm=im.range,om=Ds(0),sm=Ds(1),am=Ds(2),um=Ds(3),cm=Ds(4),lm=Ds(5),hm=Ds(6),fm=om.range,dm=sm.range,pm=am.range,gm=um.range,mm=cm.range,ym=lm.range,vm=hm.range,_m=Os(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),bm=_m.range,xm=Os(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Os(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var wm,Lm=xm.range,Em={"-":"",_:" ",0:"0"},Cm=/^\s*\d+/,Sm=/^%/,Im=/[\\^$*+?|[\]().{}]/g;Ya({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Nm="%Y-%m-%dT%H:%M:%S.%LZ",Pm=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Nm),Tm=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(Nm),Mm=1e3,Am=60*Mm,Om=60*Am,Rm=24*Om,Dm=7*Rm,km=30*Rm,Fm=365*Rm,zm=Ka("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Bm=Ka("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Um=Ka("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gm=Ka("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qm=Ka("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),jm=Ka("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Vm=Ka("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Hm=Ka("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ym=Ka("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Xm=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ka),Wm=Ja(Xm),Zm=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ka),Km=Ja(Zm),Jm=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ka),Qm=Ja(Jm),$m=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ka),ty=Ja($m),ey=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ka),ny=Ja(ey),iy=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ka),ry=Ja(iy),oy=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ka),sy=Ja(oy),ay=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ka),uy=Ja(ay),cy=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ka),ly=Ja(cy),hy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ka),fy=Ja(hy),dy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ka),py=Ja(dy),gy=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ka),my=Ja(gy),yy=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ka),vy=Ja(yy),_y=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ka),by=Ja(_y),xy=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ka),wy=Ja(xy),Ly=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ka),Ey=Ja(Ly),Cy=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ka),Sy=Ja(Cy),Iy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ka),Ny=Ja(Iy),Py=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ka),Ty=Ja(Py),My=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ka),Ay=Ja(My),Oy=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ka),Ry=Ja(Oy),Dy=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ka),ky=Ja(Dy),Fy=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ka),zy=Ja(Fy),By=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ka),Uy=Ja(By),Gy=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ka),qy=Ja(Gy),jy=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ka),Vy=Ja(jy),Hy=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ka),Yy=Ja(Hy),Xy=ch(Zt(300,.5,0),Zt(-240,.5,1)),Wy=ch(Zt(-100,.75,.35),Zt(80,1.5,.8)),Zy=ch(Zt(260,.75,.35),Zt(80,1.5,.8)),Ky=Zt(),Jy=Qa(Ka("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Qy=Qa(Ka("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$y=Qa(Ka("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tv=Qa(Ka("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ev=Math.abs,nv=Math.atan2,iv=Math.cos,rv=Math.max,ov=Math.min,sv=Math.sin,av=Math.sqrt,uv=1e-12,cv=Math.PI,lv=cv/2,hv=2*cv;au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var fv=mu(uu);gu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var dv=Array.prototype.slice,pv={draw:function(t,e){var n=Math.sqrt(e/cv);t.moveTo(n,0),t.arc(0,0,n,0,hv)}},gv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mv=Math.sqrt(1/3),yv=2*mv,vv={draw:function(t,e){var n=Math.sqrt(e/yv),i=n*mv;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},_v=Math.sin(cv/10)/Math.sin(7*cv/10),bv=Math.sin(hv/10)*_v,xv=-Math.cos(hv/10)*_v,wv={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=bv*n,r=xv*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=hv*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*n,-a*n),t.lineTo(a*i-u*r,u*i+a*r)}t.closePath()}},Lv={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Ev=Math.sqrt(3),Cv={draw:function(t,e){var n=-Math.sqrt(e/(3*Ev));t.moveTo(0,2*n),t.lineTo(-Ev*n,-n),t.lineTo(Ev*n,-n),t.closePath()}},Sv=Math.sqrt(3)/2,Iv=1/Math.sqrt(12),Nv=3*(Iv/2+1),Pv={draw:function(t,e){var n=Math.sqrt(e/Nv),i=n/2,r=n*Iv,o=i,s=n*Iv+n,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(-.5*i-Sv*r,Sv*i+-.5*r),t.lineTo(-.5*o-Sv*s,Sv*o+-.5*s),t.lineTo(-.5*a-Sv*u,Sv*a+-.5*u),t.lineTo(-.5*i+Sv*r,-.5*r-Sv*i),t.lineTo(-.5*o+Sv*s,-.5*s-Sv*o),t.lineTo(-.5*a+Sv*u,-.5*u-Sv*a),t.closePath()}},Tv=[pv,gv,vv,Lv,wv,Cv,Pv];Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Tu.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Nu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Au.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)this._basis.point(this._beta*t[u]+(1-this._beta)*(r+(i=u/n)*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Mv=function t(e){function n(t){return 1===e?new Pu(t):new Au(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ou(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ou(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Av=function t(e){function n(t){return new Ru(t,e)}return n.tension=function(e){return t(+e)},n}(0);Du.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ou(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ov=function t(e){function n(t){return new Du(t,e)}return n.tension=function(e){return t(+e)},n}(0);ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ou(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rv=function t(e){function n(t){return new ku(t,e)}return n.tension=function(e){return t(+e)},n}(0);zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Fu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dv=function t(e){function n(t){return e?new zu(t,e):new Ru(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Bu.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kv=function t(e){function n(t){return e?new Bu(t,e):new Du(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fv=function t(e){function n(t){return e?new Uu(t,e):new ku(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Gu.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hu(this,this._t0,Vu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hu(this,Vu(this,n=ju(this,t,e)),n);break;default:Hu(this,this._t0,n=ju(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Xu.prototype=Object.create(Yu.prototype)).point=function(t,e){Yu.prototype.point.call(this,e,t)},Wu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Ku(t),r=Ku(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},sc.prototype={constructor:sc,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=lc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(uc(this,n),n=(t=n).U),n.C=!1,i.C=!0,cc(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(cc(this,n),n=(t=n).U),n.C=!1,i.C=!0,uc(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?lc(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,uc(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,cc(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,uc(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,cc(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,uc(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,cc(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var zv,Bv,Uv,Gv,qv,jv=[],Vv=[],Hv=1e-6,Yv=1e-12;Nc.prototype={constructor:Nc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return yc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,u=-1,c=e[r[o-1]],l=c.left===a?c.right:c.left;++u<o;)s=l,l=(c=e[r[u]]).left===a?c.right:c.left,s&&l&&i<s.index&&i<l.index&&Sc(a,s,l)<0&&t.push([a.data,s.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var u=t-r.site[0],c=e-r.site[1],l=u*u+c*c;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var u=t-a[0],c=e-a[1],h=u*u+c*c;h<l&&(l=h,s=a.index)}})}while(null!==s);return o._found=i,null==n||l<=n*n?r.site:null}},Tc.prototype={constructor:Tc,scale:function(t){return 1===t?this:new Tc(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Tc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xv=new Tc(1,0,0);Mc.prototype=Tc.prototype,t.version="5.1.0",t.bisect=Gc,t.bisectRight=Gc,t.bisectLeft=qc,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var r,o,s,a,u=t.length,c=e.length,l=new Array(u*c);for(null==n&&(n=i),r=s=0;r<u;++r)for(a=t[r],o=0;o<c;++o,++s)l[s]=n(a,e[o]);return l},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=s,t.extent=a,t.histogram=function(){function t(t){var r,o,s=t.length,a=new Array(s);for(r=0;r<s;++r)a[r]=e(t[r],r,t);var u=n(a),c=u[0],h=u[1],f=i(a,c,h);Array.isArray(f)||(f=d(c,h,f),f=l(Math.ceil(c/f)*f,Math.floor(h/f)*f,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var g,m=new Array(p+1);for(r=0;r<=p;++r)(g=m[r]=[]).x0=r>0?f[r-1]:c,g.x1=r<p?f[r]:h;for(r=0;r<s;++r)c<=(o=a[r])&&o<=h&&m[Gc(f,o,0,p)].push(t[r]);return m}var e=c,n=a,i=p;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:u(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:u([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Array.isArray(e)?u(Vc.call(e)):u(e),t):i},t},t.thresholdFreedmanDiaconis=function(t,n,i){return t=Hc.call(t,r).sort(e),Math.ceil((i-n)/(2*(g(t,.75)-g(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*s(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=p,t.max=m,t.mean=function(t,e){var n,i=t.length,o=i,s=-1,a=0;if(null==e)for(;++s<i;)isNaN(n=r(t[s]))?--o:a+=n;else for(;++s<i;)isNaN(n=r(e(t[s],s,t)))?--o:a+=n;if(o)return a/o},t.median=function(t,n){var i,o=t.length,s=-1,a=[];if(null==n)for(;++s<o;)isNaN(i=r(t[s]))||a.push(i);else for(;++s<o;)isNaN(i=r(n(t[s],s,t)))||a.push(i);return g(a.sort(e),.5)},t.merge=y,t.min=v,t.pairs=function(t,e){null==e&&(e=i);for(var n=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(o,o=t[++n]);return s},t.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},t.quantile=g,t.range=l,t.scan=function(t,n){if(i=t.length){var i,r,o=0,s=0,a=t[s];for(null==n&&(n=e);++o<i;)(n(r=t[o],a)<0||0!==n(a,a))&&(a=r,s=o);return 0===n(a,a)?s:void 0}},t.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},t.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},t.ticks=h,t.tickIncrement=f,t.tickStep=d,t.transpose=_,t.variance=o,t.zip=function(){return _(arguments)},t.axisTop=function(t){return C(Kc,t)},t.axisRight=function(t){return C(Jc,t)},t.axisBottom=function(t){return C(Qc,t)},t.axisLeft=function(t){return C($c,t)},t.brush=function(){return $e(uf)},t.brushX=function(){return $e(sf)},t.brushY=function(){return $e(af)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.chord=function(){function t(t){var o,s,a,u,c,h,f=t.length,d=[],p=l(f),g=[],m=[],y=m.groups=new Array(f),v=new Array(f*f);for(o=0,c=-1;++c<f;){for(s=0,h=-1;++h<f;)s+=t[c][h];d.push(s),g.push(l(f)),o+=s}for(n&&p.sort(function(t,e){return n(d[t],d[e])}),i&&g.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),u=(o=_f(0,vf-e*f)/o)?e:vf/f,s=0,c=-1;++c<f;){for(a=s,h=-1;++h<f;){var _=p[c],b=g[_][h],x=t[_][b],w=s,L=s+=x*o;v[b*f+_]={index:_,subindex:b,startAngle:w,endAngle:L,value:x}}y[_]={index:_,startAngle:a,endAngle:s,value:d[_]},s+=u}for(c=-1;++c<f;)for(h=c-1;++h<f;){var E=v[h*f+c],C=v[c*f+h];(E.value||C.value)&&m.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return r?m.sort(r):m}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=_f(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=function(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}(e))._=e,t):r&&r._},t},t.ribbon=function(){function t(){var t,a=bf.call(arguments),u=e.apply(this,a),c=n.apply(this,a),l=+i.apply(this,(a[0]=u,a)),h=r.apply(this,a)-yf,f=o.apply(this,a)-yf,d=l*pf(h),p=l*gf(h),g=+i.apply(this,(a[0]=c,a)),m=r.apply(this,a)-yf,y=o.apply(this,a)-yf;if(s||(s=t=nn()),s.moveTo(d,p),s.arc(0,0,l,h,f),h===m&&f===y||(s.quadraticCurveTo(0,0,g*pf(m),g*gf(m)),s.arc(0,0,g,m,y)),s.quadraticCurveTo(0,0,d,p),s.closePath(),t)return s=null,t+""||null}var e=rn,n=on,i=sn,r=an,o=un,s=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:tn(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:tn(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:tn(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t},t.nest=function(){function t(i,o,s,a){if(o>=r.length)return null!=e&&i.sort(e),null!=n?n(i):i;for(var u,c,l,h=-1,f=i.length,d=r[o++],p=ln(),g=s();++h<f;)(l=p.get(u=d(c=i[h])+""))?l.push(c):p.set(u,[c]);return p.each(function(e,n){a(g,n,t(e,o,s,a))}),g}var e,n,i,r=[],o=[];return i={object:function(e){return t(e,0,hn,fn)},map:function(e){return t(e,0,dn,pn)},entries:function(e){return function t(e,i){if(++i>r.length)return e;var s,a=o[i-1];return null!=n&&i>=r.length?s=e.entries():(s=[],e.each(function(e,n){s.push({key:n,values:t(e,i)})})),null!=a?s.sort(function(t,e){return a(t.key,e.key)}):s}(t(e,0,dn,pn),0)},key:function(t){return r.push(t),i},sortKeys:function(t){return o[r.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return n=t,i}}},t.set=mn,t.map=ln,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.color=Pt,t.rgb=Ot,t.hsl=kt,t.lab=Ut,t.hcl=Xt,t.lch=function(t,e,n,i){return 1===arguments.length?Yt(t):new Wt(n,e,t,null==i?1:i)},t.gray=function(t,e){return new Gt(t,0,0,null==e?1:e)},t.cubehelix=Zt,t.contours=xn,t.contourDensity=function(){function t(t){var n=new Float32Array(g*y),i=new Float32Array(g*y);t.forEach(function(t,e,i){var r=s(t,e,i)+p>>f,o=a(t,e,i)+p>>f;r>=0&&r<g&&o>=0&&o<y&&++n[r+o*g]}),wn({width:g,height:y,data:n},{width:g,height:y,data:i},h>>f),Ln({width:g,height:y,data:i},{width:g,height:y,data:n},h>>f),wn({width:g,height:y,data:n},{width:g,height:y,data:i},h>>f),Ln({width:g,height:y,data:i},{width:g,height:y,data:n},h>>f),wn({width:g,height:y,data:n},{width:g,height:y,data:i},h>>f),Ln({width:g,height:y,data:i},{width:g,height:y,data:n},h>>f);var r=v(n);if(!Array.isArray(r)){var o=m(n);r=d(0,o,r),(r=l(0,Math.floor(o/r)*r,r)).shift()}return xn().thresholds(r).size([g,y])(n).map(e)}function e(t){return t.value*=Math.pow(2,-2*f),t.coordinates.forEach(n),t}function n(t){t.forEach(i)}function i(t){t.forEach(r)}function r(t){t[0]=t[0]*Math.pow(2,f)-p,t[1]=t[1]*Math.pow(2,f)-p}function o(){return g=u+2*(p=3*h)>>f,y=c+2*p>>f,t}var s=En,a=Cn,u=960,c=500,h=20,f=2,p=3*h,g=u+2*p>>f,y=c+2*p>>f,v=vn(20);return t.x=function(e){return arguments.length?(s="function"==typeof e?e:vn(+e),t):s},t.y=function(e){return arguments.length?(a="function"==typeof e?e:vn(+e),t):a},t.size=function(t){if(!arguments.length)return[u,c];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return u=e,c=n,o()},t.cellSize=function(t){if(!arguments.length)return 1<<f;if(!((t=+t)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(t)/Math.LN2),o()},t.thresholds=function(e){return arguments.length?(v="function"==typeof e?e:Array.isArray(e)?vn(Cf.call(e)):vn(e),t):v},t.bandwidth=function(t){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return h=Math.round((Math.sqrt(4*t*t+1)-1)/2),o()},t},t.dispatch=S,t.drag=function(){function e(t){t.on("mousedown.drag",n).filter(m).on("touchstart.drag",o).on("touchmove.drag",s).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!f&&d.apply(this,arguments)){var e=u("mouse",p.apply(this,arguments),pt,this,arguments);e&&(ct(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),vt(t.event.view),mt(),h=!1,c=t.event.clientX,l=t.event.clientY,e("start"))}}function i(){if(yt(),!h){var e=t.event.clientX-c,n=t.event.clientY-l;h=e*e+n*n>b}y.mouse("drag")}function r(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),_t(t.event.view,h),yt(),y.mouse("end")}function o(){if(d.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=p.apply(this,arguments),o=i.length;for(e=0;e<o;++e)(n=u(i[e].identifier,r,gt,this,arguments))&&(mt(),n("start"))}}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;e<r;++e)(n=y[i[e].identifier])&&(yt(),n("drag"))}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),e=0;e<r;++e)(n=y[i[e].identifier])&&(mt(),n("end"))}function u(n,i,r,o,s){var a,u,c,l=r(i,n),h=v.copy();if(ot(new xt(e,"beforestart",a,n,_,l[0],l[1],0,0,h),function(){return null!=(t.event.subject=a=g.apply(o,s))&&(u=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function t(f){var d,p=l;switch(f){case"start":y[n]=t,d=_++;break;case"end":delete y[n],--_;case"drag":l=r(i,n),d=_}ot(new xt(e,f,a,n,d,l[0]+u,l[1]+c,l[0]-p[0],l[1]-p[1],h),h.apply,h,[f,o,s])}}var c,l,h,f,d=wt,p=Lt,g=Et,m=Ct,y={},v=S("start","drag","end"),_=0,b=0;return e.filter=function(t){return arguments.length?(d="function"==typeof t?t:bt(!!t),e):d},e.container=function(t){return arguments.length?(p="function"==typeof t?t:bt(t),e):p},e.subject=function(t){return arguments.length?(g="function"==typeof t?t:bt(t),e):g},e.touchable=function(t){return arguments.length?(m="function"==typeof t?t:bt(!!t),e):m},e.on=function(){var t=v.on.apply(v,arguments);return t===v?e:t},e.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,e):Math.sqrt(b)},e},t.dragDisable=vt,t.dragEnable=_t,t.dsvFormat=In,t.csvParse=Of,t.csvParseRows=Rf,t.csvFormat=Df,t.csvFormatRows=kf,t.tsvParse=zf,t.tsvParseRows=Bf,t.tsvFormat=Uf,t.tsvFormatRows=Gf,t.easeLinear=function(t){return+t},t.easeQuad=ze,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=ze,t.easeCubic=Be,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Be,t.easePoly=Oh,t.easePolyIn=Mh,t.easePolyOut=Ah,t.easePolyInOut=Oh,t.easeSin=Ue,t.easeSinIn=function(t){return 1-Math.cos(t*Dh)},t.easeSinOut=function(t){return Math.sin(t*Dh)},t.easeSinInOut=Ue,t.easeExp=Ge,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Ge,t.easeCircle=qe,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=qe,t.easeBounce=je,t.easeBounceIn=function(t){return 1-je(1-t)},t.easeBounceOut=je,t.easeBounceInOut=function(t){return((t*=2)<=1?1-je(1-t):je(t-1)+1)/2},t.easeBack=Wh,t.easeBackIn=Yh,t.easeBackOut=Xh,t.easeBackInOut=Wh,t.easeElastic=Jh,t.easeElasticIn=Kh,t.easeElasticOut=Jh,t.easeElasticInOut=Qh,t.blob=function(t,e){return fetch(t,e).then(Nn)},t.buffer=function(t,e){return fetch(t,e).then(Pn)},t.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=In(t);return Mn(e,n).then(function(t){return r.parse(t,i)})},t.csv=qf,t.tsv=jf,t.image=function(t,e){return new Promise(function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t})},t.json=function(t,e){return fetch(t,e).then(On)},t.text=Mn,t.xml=Vf,t.html=Hf,t.svg=Yf,t.forceCenter=function(t,e){function n(){var n,r,o=i.length,s=0,a=0;for(n=0;n<o;++n)s+=(r=i[n]).x,a+=r.y;for(s=s/o-t,a=a/o-e,n=0;n<o;++n)(r=i[n]).x-=s,r.y-=a}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},t.forceCollide=function(t){function e(){for(var t,e,i,u,c,l,h,f=r.length,d=0;d<a;++d)for(e=Gn(r,Vn,Hn).visitAfter(n),t=0;t<f;++t)h=(l=o[(i=r[t]).index])*l,u=i.x+i.vx,c=i.y+i.vy,e.visit(function(t,e,n,r,o){var a=t.data,f=t.r,d=l+f;if(!a)return e>u+d||r<u-d||n>c+d||o<c-d;if(a.index>i.index){var p=u-a.x-a.vx,g=c-a.y-a.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=kn())*p),0===g&&(m+=(g=kn())*g),m=(d-(m=Math.sqrt(m)))/m*s,i.vx+=(p*=m)*(d=(f*=f)/(h+f)),i.vy+=(g*=m)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}})}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(r){var e,n,i=r.length;for(o=new Array(i),e=0;e<i;++e)o[(n=r[e]).index]=+t(n,e,r)}}var r,o,s=1,a=1;return"function"!=typeof t&&(t=Dn(null==t?1:+t)),e.initialize=function(t){r=t,i()},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(s=+t,e):s},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Dn(+n),i(),e):t},e},t.forceLink=function(t){function e(e){for(var n=0,i=t.length;n<d;++n)for(var r,a,u,l,h,f,p,g=0;g<i;++g)a=(r=t[g]).source,l=(u=r.target).x+u.vx-a.x-a.vx||kn(),h=u.y+u.vy-a.y-a.vy||kn(),l*=f=((f=Math.sqrt(l*l+h*h))-s[g])/f*e*o[g],h*=f,u.vx-=l*(p=c[g]),u.vy-=h*p,a.vx+=l*(p=1-p),a.vy+=h*p}function n(){if(a){var e,n,h=a.length,f=t.length,d=ln(a,l);for(e=0,u=new Array(h);e<f;++e)(n=t[e]).index=e,"object"!=typeof n.source&&(n.source=Xn(d,n.source)),"object"!=typeof n.target&&(n.target=Xn(d,n.target)),u[n.source.index]=(u[n.source.index]||0)+1,u[n.target.index]=(u[n.target.index]||0)+1;for(e=0,c=new Array(f);e<f;++e)c[e]=u[(n=t[e]).source.index]/(u[n.source.index]+u[n.target.index]);o=new Array(f),i(),s=new Array(f),r()}}function i(){if(a)for(var e=0,n=t.length;e<n;++e)o[e]=+h(t[e],e,t)}function r(){if(a)for(var e=0,n=t.length;e<n;++e)s[e]=+f(t[e],e,t)}var o,s,a,u,c,l=Yn,h=function(t){return 1/Math.min(u[t.source.index],u[t.target.index])},f=Dn(30),d=1;return null==t&&(t=[]),e.initialize=function(t){a=t,n()},e.links=function(i){return arguments.length?(t=i,n(),e):t},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(h="function"==typeof t?t:Dn(+t),i(),e):h},e.distance=function(t){return arguments.length?(f="function"==typeof t?t:Dn(+t),r(),e):f},e},t.forceManyBody=function(){function t(t){var e,a=r.length,u=Gn(r,Wn,Zn).visitAfter(n);for(s=t,e=0;e<a;++e)o=r[e],u.visit(i)}function e(){if(r){var t,e,n=r.length;for(a=new Array(n),t=0;t<n;++t)a[(e=r[t]).index]=+u(e,t,r)}}function n(t){var e,n,i,r,o,s=0,u=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,r+=n*e.y);t.x=i/u,t.y=r/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=a[e.data.index]}while(e=e.next)}t.value=s}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,u=t.y-o.y,f=i-e,d=r*r+u*u;if(f*f/h<d)return d<l&&(0===r&&(d+=(r=kn())*r),0===u&&(d+=(u=kn())*u),d<c&&(d=Math.sqrt(c*d)),o.vx+=r*t.value*s/d,o.vy+=u*t.value*s/d),!0;if(!(t.length||d>=l)){(t.data!==o||t.next)&&(0===r&&(d+=(r=kn())*r),0===u&&(d+=(u=kn())*u),d<c&&(d=Math.sqrt(c*d)));do{t.data!==o&&(o.vx+=r*(f=a[t.data.index]*s/d),o.vy+=u*f)}while(t=t.next)}}var r,o,s,a,u=Dn(-30),c=1,l=1/0,h=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:Dn(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.distanceMax=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},t.forceRadial=function(t,e,n){function i(t){for(var i=0,r=o.length;i<r;++i){var u=o[i],c=u.x-e||1e-6,l=u.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(a[i]-h)*s[i]*t/h;u.vx+=c*f,u.vy+=l*f}}function r(){if(o){var e,n=o.length;for(s=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(o[e],e,o),s[e]=isNaN(a[e])?0:+u(o[e],e,o)}}var o,s,a,u=Dn(.1);return"function"!=typeof t&&(t=Dn(+t)),null==e&&(e=0),null==n&&(n=0),i.initialize=function(t){o=t,r()},i.strength=function(t){return arguments.length?(u="function"==typeof t?t:Dn(+t),r(),i):u},i.radius=function(e){return arguments.length?(t="function"==typeof e?e:Dn(+e),r(),i):t},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(t){return arguments.length?(n=+t,i):n},i},t.forceSimulation=function(t){function e(){n(),d.call("tick",o),s<a&&(f.stop(),d.call("end",o))}function n(){var e,n,i=t.length;for(s+=(c-s)*u,h.each(function(t){t(s)}),e=0;e<i;++e)null==(n=t[e]).fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0)}function i(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var r=Zf*Math.sqrt(n),o=n*Kf;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var o,s=1,a=.001,u=1-Math.pow(a,1/300),c=0,l=.6,h=ln(),f=we(e),d=S("tick","end");return null==t&&(t=[]),i(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,i(),h.each(r),o):t},alpha:function(t){return arguments.length?(s=+t,o):s},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(c=+t,o):c},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,r(e)),o):h.get(t)},find:function(e,n,i){var r,o,s,a,u,c=0,l=t.length;for(null==i?i=1/0:i*=i,c=0;c<l;++c)(s=(r=e-(a=t[c]).x)*r+(o=n-a.y)*o)<i&&(u=a,i=s);return u},on:function(t,e){return arguments.length>1?(d.on(t,e),o):d.on(t)}}},t.forceX=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)(e=i[n]).vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=Dn(.1);return"function"!=typeof t&&(t=Dn(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Dn(+t),n(),e):s},e.x=function(i){return arguments.length?(t="function"==typeof i?i:Dn(+i),n(),e):t},e},t.forceY=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)(e=i[n]).vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=Dn(.1);return"function"!=typeof t&&(t=Dn(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Dn(+t),n(),e):s},e.y=function(i){return arguments.length?(t="function"==typeof i?i:Dn(+i),n(),e):t},e},t.formatDefaultLocale=ii,t.formatLocale=ni,t.formatSpecifier=$n,t.precisionFixed=ri,t.precisionPrefix=oi,t.precisionRound=si,t.geoArea=function(t){return ep.reset(),yi(t,np),2*ep},t.geoBounds=function(t){var e,n,i,r,o,s,a;if(cd=ud=-(sd=ad=1/0),pd=[],yi(t,rp),n=pd.length){for(pd.sort(Fi),e=1,o=[i=pd[0]];e<n;++e)zi(i,(r=pd[e])[0])||zi(i,r[1])?(ki(i[0],r[1])>ki(i[0],i[1])&&(i[1]=r[1]),ki(r[0],i[1])>ki(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)(a=ki(i[1],(r=o[e])[0]))>s&&(s=a,sd=r[0],ud=i[1])}return pd=gd=null,sd===1/0||ad===1/0?[[NaN,NaN],[NaN,NaN]]:[[sd,ad],[ud,cd]]},t.geoCentroid=function(t){md=yd=vd=_d=bd=xd=wd=Ld=Ed=Cd=Sd=0,yi(t,op);var e=Ed,n=Cd,i=Sd,r=e*e+n*n+i*i;return r<1e-12&&(e=xd,n=wd,i=Ld,yd<Od&&(e=vd,n=_d,i=bd),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[qd(n,e)*zd,hi(i/Kd(r))*zd]},t.geoCircle=function(){function t(){var t=i.apply(this,arguments),a=r.apply(this,arguments)*Bd,u=o.apply(this,arguments)*Bd;return e=[],n=Qi(-t[0]*Bd,-t[1]*Bd,0).invert,ir(s,a,u,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,i=Zi([0,0]),r=Zi(90),o=Zi(6),s={point:function(t,i){e.push(t=n(t,i)),t[0]*=zd,t[1]*=zd}};return t.center=function(e){return arguments.length?(i="function"==typeof e?e:Zi([+e[0],+e[1]]),t):i},t.radius=function(e){return arguments.length?(r="function"==typeof e?e:Zi(+e),t):r},t.precision=function(e){return arguments.length?(o="function"==typeof e?e:Zi(+e),t):o},t},t.geoClipAntimeridian=vp,t.geoClipCircle=pr,t.geoClipExtent=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=gr(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},t.geoClipRectangle=gr,t.geoContains=function(t,e){return(t&&Cp.hasOwnProperty(t.type)?Cp[t.type]:xr)(t,e)},t.geoDistance=br,t.geoGraticule=Pr,t.geoGraticule10=function(){return Pr()()},t.geoInterpolate=function(t,e){var n=t[0]*Bd,i=t[1]*Bd,r=e[0]*Bd,o=e[1]*Bd,s=jd(i),a=Wd(i),u=jd(o),c=Wd(o),l=s*jd(n),h=s*Wd(n),f=u*jd(r),d=u*Wd(r),p=2*hi(Kd(fi(o-i)+s*u*fi(r-n))),g=Wd(p),m=p?function(t){var e=Wd(t*=p)/g,n=Wd(p-t)/g,i=n*l+e*f,r=n*h+e*d,o=n*a+e*c;return[qd(r,i)*zd,qd(o,Kd(i*i+r*r))*zd]}:function(){return[n*zd,i*zd]};return m.distance=p,m},t.geoLength=_r,t.geoPath=function(t,e){function n(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),yi(t,i(r))),r.result()}var i,r,o=4.5;return n.area=function(t){return yi(t,i(Pp)),Pp.result()},n.measure=function(t){return yi(t,i(Jp)),Jp.result()},n.bounds=function(t){return yi(t,i(Rp)),Rp.result()},n.centroid=function(t){return yi(t,i(Vp)),Vp.result()},n.projection=function(e){return arguments.length?(i=null==e?(t=null,Tr):(t=e).stream,n):t},n.context=function(t){return arguments.length?(r=null==t?(e=null,new Xr):new Vr(e=t),"function"!=typeof o&&r.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),n):o},n.projection(t).context(e)},t.geoAlbers=co,t.geoAlbersUsa=function(){function t(t){var e=t[0],n=t[1];return a=null,r.point(e,n),a||(o.point(e,n),a)||(s.point(e,n),a)}function e(){return n=i=null,t}var n,i,r,o,s,a,u=co(),c=uo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=uo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?c:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:u).invert(t)},t.stream=function(t){return n&&i===t?n:n=function(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([u.stream(i=t),c.stream(t),l.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),c.scale(.35*e),l.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),i=+t[0],a=+t[1];return r=u.translate(t).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(h),o=c.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+Od,a+.12*n+Od],[i-.214*n-Od,a+.234*n-Od]]).stream(h),s=l.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+Od,a+.166*n+Od],[i-.115*n-Od,a+.234*n-Od]]).stream(h),e()},t.fitExtent=function(e,n){return Qr(t,e,n)},t.fitSize=function(e,n){return $r(t,e,n)},t.fitWidth=function(e,n){return to(t,e,n)},t.fitHeight=function(e,n){return eo(t,e,n)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return ro(eg).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=eg,t.geoAzimuthalEquidistant=function(){return ro(ng).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=ng,t.geoConicConformal=function(){return so(mo).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=mo,t.geoConicEqualArea=uo,t.geoConicEqualAreaRaw=ao,t.geoConicEquidistant=function(){return so(vo).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=vo,t.geoEquirectangular=function(){return ro(yo).scale(152.63)},t.geoEquirectangularRaw=yo,t.geoGnomonic=function(){return ro(_o).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=_o,t.geoIdentity=function(){function t(){return r=o=null,s}var e,n,i,r,o,s,a=1,u=0,c=0,l=1,h=1,f=Tr,d=null,p=Tr;return s={stream:function(t){return r&&o===t?r:r=f(p(o=t))},postclip:function(r){return arguments.length?(p=r,d=e=n=i=null,t()):p},clipExtent:function(r){return arguments.length?(p=null==r?(d=e=n=i=null,Tr):gr(d=+r[0][0],e=+r[0][1],n=+r[1][0],i=+r[1][1]),t()):null==d?null:[[d,e],[n,i]]},scale:function(e){return arguments.length?(f=bo((a=+e)*l,a*h,u,c),t()):a},translate:function(e){return arguments.length?(f=bo(a*l,a*h,u=+e[0],c=+e[1]),t()):[u,c]},reflectX:function(e){return arguments.length?(f=bo(a*(l=e?-1:1),a*h,u,c),t()):l<0},reflectY:function(e){return arguments.length?(f=bo(a*l,a*(h=e?-1:1),u,c),t()):h<0},fitExtent:function(t,e){return Qr(s,t,e)},fitSize:function(t,e){return $r(s,t,e)},fitWidth:function(t,e){return to(s,t,e)},fitHeight:function(t,e){return eo(s,t,e)}}},t.geoProjection=ro,t.geoProjectionMutator=oo,t.geoMercator=function(){return po(fo).scale(961/Fd)},t.geoMercatorRaw=fo,t.geoNaturalEarth1=function(){return ro(xo).scale(175.295)},t.geoNaturalEarth1Raw=xo,t.geoOrthographic=function(){return ro(wo).scale(249.5).clipAngle(90+Od)},t.geoOrthographicRaw=wo,t.geoStereographic=function(){return ro(Lo).scale(250).clipAngle(142)},t.geoStereographicRaw=Lo,t.geoTransverseMercator=function(){var t=po(Eo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Eo,t.geoRotation=nr,t.geoStream=yi,t.geoTransform=function(t){return{stream:Zr(t)}},t.cluster=function(){function t(t){var o,s=0;t.eachAfter(function(t){var n=t.children;n?(t.x=function(t){return t.reduce(So,0)/t.length}(n),t.y=1+n.reduce(Io,0)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)});var a=function(t){for(var e;e=t.children;)t=e[0];return t}(t),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(t),c=a.x-e(a,u)/2,l=u.x+e(u,a)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-c)/(l-c)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=Co,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t},t.hierarchy=Po,t.pack=function(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(Zo(e)).eachAfter(Ko(r,.5)).eachBefore(Jo(1)):t.eachBefore(Zo(Wo)).eachAfter(Ko(Yo,1)).eachAfter(Ko(r,t.r/Math.min(n,i))).eachBefore(Jo(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Yo;return t.radius=function(n){return arguments.length?(e=null==n?null:Ho(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:Xo(+e),t):r},t},t.packSiblings=function(t){return Vo(t),t},t.packEnclose=Ro,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=i,t.x1=e,t.y1=n/o,t.eachBefore(function(t,e){return function(n){n.children&&$o(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,s=n.x1-i,a=n.y1-i;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),n.x0=r,n.y0=o,n.x1=s,n.y1=a}}(n,o)),r&&t.eachBefore(Qo),t}var e=1,n=1,i=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(i){return arguments.length?(e=+i[0],n=+i[1],t):[e,n]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},t.stratify=function(){function t(t){var i,r,o,s,a,u,c,l=t.length,h=new Array(l),f={};for(r=0;r<l;++r)a=h[r]=new Oo(i=t[r]),null!=(u=e(i,r,t))&&(u+="")&&(f[c=rg+(a.id=u)]=c in f?sg:a);for(r=0;r<l;++r)if(a=h[r],null!=(u=n(t[r],r,t))&&(u+="")){if(!(s=f[rg+u]))throw new Error("missing: "+u);if(s===sg)throw new Error("ambiguous: "+u);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=og,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Ao),o.parent=null,l>0)throw new Error("cycle");return o}var e=ts,n=es;return t.id=function(n){return arguments.length?(e=Ho(n),t):e},t.parentId=function(e){return arguments.length?(n=Ho(e),t):n},t},t.tree=function(){function t(t){var u=function(t){for(var e,n,i,r,o,s=new as(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new as(i[r],r)),n.parent=e;return(s.parent=new as(null,0)).children=[s],s}(t);if(u.eachAfter(e),u.parent.m=-u.z,u.eachBefore(n),a)t.eachBefore(i);else{var c=t,l=t,h=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)});var f=c===l?1:r(c,l)/2,d=f-c.x,p=o/(l.x+f+d),g=s/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+r(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,o=t,s=t,a=e,u=o.parent.children[0],c=o.m,l=s.m,h=a.m,f=u.m;a=rs(a),o=is(o),a&&o;)u=is(u),(s=rs(s)).a=t,(i=a.z+h-o.z-c+r(a._,o._))>0&&(os(ss(a,t,n),t,i),c+=i,l+=i),h+=a.m,c+=o.m,f+=u.m,l+=s.m;a&&!rs(s)&&(s.t=a,s.m+=h-l),o&&!is(u)&&(u.t=o,u.m+=c-f,n=t)}return n}(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t){t.x*=o,t.y=t.depth*s}var r=ns,o=1,s=1,a=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(a=!1,o=+e[0],s=+e[1],t):a?null:[o,s]},t.nodeSize=function(e){return arguments.length?(a=!0,o=+e[0],s=+e[1],t):a?[o,s]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),s=[0],i&&t.eachBefore(Qo),t}function e(t){var e=s[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,f=t.y1-e;o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=f,t.children&&(e=s[t.depth+1]=a(t)/2,i+=h(t)-e,r+=u(t)-e,o-=c(t)-e,f-=l(t)-e,o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),n(t,i,r,o,f))}var n=ug,i=!1,r=1,o=1,s=[0],a=Yo,u=Yo,c=Yo,l=Yo,h=Yo;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=Ho(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:Xo(+e),t):a},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Xo(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:Xo(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Xo(+e),t):l},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:Xo(+e),t):h},t},t.treemapBinary=function(t,e,n,i,r){var o,s,a=t.children,u=a.length,c=new Array(u+1);for(c[0]=s=o=0;o<u;++o)c[o+1]=s+=a[o].value;!function t(e,n,i,r,o,s,u){if(e>=n-1){var l=a[e];return l.x0=r,l.y0=o,l.x1=s,void(l.y1=u)}for(var h=c[e],f=i/2+h,d=e+1,p=n-1;d<p;){var g=d+p>>>1;c[g]<f?d=g+1:p=g}f-c[d-1]<c[d]-f&&e+1<d&&--d;var m=c[d]-h,y=i-m;if(s-r>u-o){var v=(r*y+s*m)/i;t(e,d,m,r,o,v,u),t(d,n,y,v,o,s,u)}else{var _=(o*y+u*m)/i;t(e,d,m,r,o,s,_),t(d,n,y,r,_,s,u)}}(0,u,t.value,e,n,i,r)},t.treemapDice=$o,t.treemapSlice=us,t.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?us:$o)(t,e,n,i,r)},t.treemapSquarify=ug,t.treemapResquarify=cg,t.interpolate=le,t.interpolateArray=oe,t.interpolateBasis=Qt,t.interpolateBasisClosed=$t,t.interpolateDate=se,t.interpolateNumber=ae,t.interpolateObject=ue,t.interpolateRound=he,t.interpolateString=ce,t.interpolateTransformCss=Ql,t.interpolateTransformSvg=$l,t.interpolateZoom=ge,t.interpolateRgb=Hl,t.interpolateRgbBasis=Yl,t.interpolateRgbBasisClosed=Xl,t.interpolateHsl=rh,t.interpolateHslLong=oh,t.interpolateLab=function(t,e){var n=ie((t=Ut(t)).l,(e=Ut(e)).l),i=ie(t.a,e.a),r=ie(t.b,e.b),o=ie(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}},t.interpolateHcl=sh,t.interpolateHclLong=ah,t.interpolateCubehelix=uh,t.interpolateCubehelixLong=ch,t.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},t.path=nn,t.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)o+=(e=r)[1]*(r=t[n])[0]-e[0]*r[1];return o/2},t.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],u=0;++i<r;)u+=n=(e=a)[0]*(a=t[i])[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(u*=3),s/u]},t.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(hs),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=fs(i),s=fs(r),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+a;e<s.length-u;++e)c.push(t[i[s[e]][2]]);return c},t.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],u=o[0],c=o[1],l=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=c>a&&s<(u-n)*(a-i)/(c-i)+n&&(l=!l),u=n,c=i;return l},t.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],u=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],u+=Math.sqrt(e*e+n*n);return u},t.quadtree=Gn,t.randomUniform=lg,t.randomNormal=hg,t.randomLogNormal=fg,t.randomBates=pg,t.randomIrwinHall=dg,t.randomExponential=gg,t.scaleBand=gs,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(gs().paddingInner(1))},t.scaleIdentity=function t(){function e(t){return+t}var n=[0,1];return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=yg.call(t,ys),e):n.slice()},e.copy=function(){return t().domain(n)},Ls(e)},t.scaleLinear=function t(){var e=ws(vs,ae);return e.copy=function(){return xs(e,t())},Ls(e)},t.scaleLog=function e(){function n(){return s=Ps(o),a=Ns(o),r()[0]<0&&(s=Ts(s),a=Ts(a)),i}var i=ws(Cs,Ss).domain([1,10]),r=i.domain,o=10,s=Ps(10),a=Ns(10);return i.base=function(t){return arguments.length?(o=+t,n()):o},i.domain=function(t){return arguments.length?(r(t),n()):r()},i.ticks=function(t){var e,n=r(),i=n[0],u=n[n.length-1];(e=u<i)&&(d=i,i=u,u=d);var c,l,f,d=s(i),p=s(u),g=null==t?10:+t,m=[];if(!(o%1)&&p-d<g){if(d=Math.round(d)-1,p=Math.round(p)+1,i>0){for(;d<p;++d)for(l=1,c=a(d);l<o;++l)if(!((f=c*l)<i)){if(f>u)break;m.push(f)}}else for(;d<p;++d)for(l=o-1,c=a(d);l>=1;--l)if(!((f=c*l)<i)){if(f>u)break;m.push(f)}}else m=h(d,p,Math.min(p-d,g)).map(a);return e?m.reverse():m},i.tickFormat=function(e,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=t.format(n)),e===1/0)return n;null==e&&(e=10);var r=Math.max(1,o*e/i.ticks().length);return function(t){var e=t/a(Math.round(s(t)));return e*o<o-.5&&(e*=o),e<=r?n(t):""}},i.nice=function(){return r(Es(r(),{floor:function(t){return a(Math.floor(s(t)))},ceil:function(t){return a(Math.ceil(s(t)))}}))},i.copy=function(){return xs(i,e().base(o))},i},t.scaleOrdinal=ps,t.scaleImplicit=_g,t.scalePow=As,t.scaleSqrt=function(){return As().exponent(.5)},t.scaleQuantile=function t(){function n(){var t=0,e=Math.max(1,o.length);for(s=new Array(e-1);++t<e;)s[t-1]=g(r,t/e);return i}function i(t){if(!isNaN(t=+t))return o[Gc(s,t)]}var r=[],o=[],s=[];return i.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:[e>0?s[e-1]:r[0],e<s.length?s[e]:r[r.length-1]]},i.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var i,o=0,s=t.length;o<s;++o)null==(i=t[o])||isNaN(i=+i)||r.push(i);return r.sort(e),n()},i.range=function(t){return arguments.length?(o=vg.call(t),n()):o.slice()},i.quantiles=function(){return s.slice()},i.copy=function(){return t().domain(r).range(o)},i},t.scaleQuantize=function t(){function e(t){if(t<=t)return a[Gc(s,t,0,o)]}function n(){var t=-1;for(s=new Array(o);++t<o;)s[t]=((t+1)*r-(t-o)*i)/(o+1);return e}var i=0,r=1,o=1,s=[.5],a=[0,1];return e.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],n()):[i,r]},e.range=function(t){return arguments.length?(o=(a=vg.call(t)).length-1,n()):a.slice()},e.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,s[0]]:e>=o?[s[o-1],r]:[s[e-1],s[e]]},e.copy=function(){return t().domain([i,r]).range(a)},Ls(e)},t.scaleThreshold=function t(){function e(t){if(t<=t)return i[Gc(n,t,0,r)]}var n=[.5],i=[0,1],r=1;return e.domain=function(t){return arguments.length?(n=vg.call(t),r=Math.min(n.length,i.length-1),e):n.slice()},e.range=function(t){return arguments.length?(i=vg.call(t),r=Math.min(n.length,i.length-1),e):i.slice()},e.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return t().domain(n).range(i)},e},t.scaleTime=function(){return Za(Jg,Zg,Dg,Og,Mg,Pg,Ig,Lg,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Za(xm,_m,om,im,em,$g,Ig,Lg,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(e){function n(t){var n=(t-i)/(r-i);return e(o?Math.max(0,Math.min(1,n)):n)}var i=0,r=1,o=!1;return n.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],n):[i,r]},n.clamp=function(t){return arguments.length?(o=!!t,n):o},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return t(e).domain([i,r]).clamp(o)},Ls(n)},t.schemeCategory10=zm,t.schemeAccent=Bm,t.schemeDark2=Um,t.schemePaired=Gm,t.schemePastel1=qm,t.schemePastel2=jm,t.schemeSet1=Vm,t.schemeSet2=Hm,t.schemeSet3=Ym,t.interpolateBrBG=Wm,t.schemeBrBG=Xm,t.interpolatePRGn=Km,t.schemePRGn=Zm,t.interpolatePiYG=Qm,t.schemePiYG=Jm,t.interpolatePuOr=ty,t.schemePuOr=$m,t.interpolateRdBu=ny,t.schemeRdBu=ey,t.interpolateRdGy=ry,t.schemeRdGy=iy,t.interpolateRdYlBu=sy,t.schemeRdYlBu=oy,t.interpolateRdYlGn=uy,t.schemeRdYlGn=ay,t.interpolateSpectral=ly,t.schemeSpectral=cy,t.interpolateBuGn=fy,t.schemeBuGn=hy,t.interpolateBuPu=py,t.schemeBuPu=dy,t.interpolateGnBu=my,t.schemeGnBu=gy,t.interpolateOrRd=vy,t.schemeOrRd=yy,t.interpolatePuBuGn=by,t.schemePuBuGn=_y,t.interpolatePuBu=wy,t.schemePuBu=xy,t.interpolatePuRd=Ey,t.schemePuRd=Ly,t.interpolateRdPu=Sy,t.schemeRdPu=Cy,t.interpolateYlGnBu=Ny,t.schemeYlGnBu=Iy,t.interpolateYlGn=Ty,t.schemeYlGn=Py,t.interpolateYlOrBr=Ay,t.schemeYlOrBr=My,t.interpolateYlOrRd=Ry,t.schemeYlOrRd=Oy,t.interpolateBlues=ky,t.schemeBlues=Dy,t.interpolateGreens=zy,t.schemeGreens=Fy,t.interpolateGreys=Uy,t.schemeGreys=By,t.interpolatePurples=qy,t.schemePurples=Gy,t.interpolateReds=Vy,t.schemeReds=jy,t.interpolateOranges=Yy,t.schemeOranges=Hy,t.interpolateCubehelixDefault=Xy,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ky.h=360*t-100,Ky.s=1.5-1.5*e,Ky.l=.8-.9*e,Ky+""},t.interpolateWarm=Wy,t.interpolateCool=Zy,t.interpolateViridis=Jy,t.interpolateMagma=Qy,t.interpolateInferno=$y,t.interpolatePlasma=tv,t.create=function(t){return ct(T(t).call(document.documentElement))},t.creator=T,t.local=lt,t.matcher=al,t.mouse=pt,t.namespace=P,t.namespaces=il,t.clientPoint=dt,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new at([document.querySelectorAll(t)],[document.documentElement]):new at([null==t?[]:t],ll)},t.selection=ut,t.selector=A,t.selectorAll=R,t.style=G,t.touch=gt,t.touches=function(t,e){null==e&&(e=ft().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=dt(t,e[n]);return r},t.window=U,t.customEvent=ot,t.arc=function(){function t(){var t,c,l=+e.apply(this,arguments),h=+n.apply(this,arguments),f=o.apply(this,arguments)-lv,d=s.apply(this,arguments)-lv,p=ev(d-f),g=d>f;if(u||(u=t=nn()),h<l&&(c=h,h=l,l=c),h>uv)if(p>hv-uv)u.moveTo(h*iv(f),h*sv(f)),u.arc(0,0,h,f,d,!g),l>uv&&(u.moveTo(l*iv(d),l*sv(d)),u.arc(0,0,l,d,f,g));else{var m,y,v=f,_=d,b=f,x=d,w=p,L=p,E=a.apply(this,arguments)/2,C=E>uv&&(r?+r.apply(this,arguments):av(l*l+h*h)),S=ov(ev(h-l)/2,+i.apply(this,arguments)),I=S,N=S;if(C>uv){var P=tu(C/l*sv(E)),T=tu(C/h*sv(E));(w-=2*P)>uv?(b+=P*=g?1:-1,x-=P):(w=0,b=x=(f+d)/2),(L-=2*T)>uv?(v+=T*=g?1:-1,_-=T):(L=0,v=_=(f+d)/2)}var M=h*iv(v),A=h*sv(v),O=l*iv(x),R=l*sv(x);if(S>uv){var D=h*iv(_),k=h*sv(_),F=l*iv(b),z=l*sv(b);if(p<cv){var B=w>uv?function(t,e,n,i,r,o,s,a){var u=F-M,c=z-A,l=O-D,h=R-k,f=(l*(A-k)-h*(M-D))/(h*u-l*c);return[M+f*u,A+f*c]}():[O,R],U=M-B[0],G=A-B[1],q=D-B[0],j=k-B[1],V=1/sv(function(t){return t>1?0:t<-1?cv:Math.acos(t)}((U*q+G*j)/(av(U*U+G*G)*av(q*q+j*j)))/2),H=av(B[0]*B[0]+B[1]*B[1]);I=ov(S,(l-H)/(V-1)),N=ov(S,(h-H)/(V+1))}}L>uv?N>uv?(m=su(F,z,M,A,h,N,g),y=su(D,k,O,R,h,N,g),u.moveTo(m.cx+m.x01,m.cy+m.y01),N<S?u.arc(m.cx,m.cy,N,nv(m.y01,m.x01),nv(y.y01,y.x01),!g):(u.arc(m.cx,m.cy,N,nv(m.y01,m.x01),nv(m.y11,m.x11),!g),u.arc(0,0,h,nv(m.cy+m.y11,m.cx+m.x11),nv(y.cy+y.y11,y.cx+y.x11),!g),u.arc(y.cx,y.cy,N,nv(y.y11,y.x11),nv(y.y01,y.x01),!g))):(u.moveTo(M,A),u.arc(0,0,h,v,_,!g)):u.moveTo(M,A),l>uv&&w>uv?I>uv?(m=su(O,R,D,k,l,-I,g),y=su(M,A,F,z,l,-I,g),u.lineTo(m.cx+m.x01,m.cy+m.y01),I<S?u.arc(m.cx,m.cy,I,nv(m.y01,m.x01),nv(y.y01,y.x01),!g):(u.arc(m.cx,m.cy,I,nv(m.y01,m.x01),nv(m.y11,m.x11),!g),u.arc(0,0,l,nv(m.cy+m.y11,m.cx+m.x11),nv(y.cy+y.y11,y.cx+y.x11),g),u.arc(y.cx,y.cy,I,nv(y.y11,y.x11),nv(y.y01,y.x01),!g))):u.arc(0,0,l,x,b,g):u.lineTo(O,R)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=eu,n=nu,i=$a(0),r=null,o=iu,s=ru,a=ou,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-cv/2;return[iv(i)*t,sv(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:$a(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:$a(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:$a(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:$a(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:$a(+e),t):o},t.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:$a(+e),t):s},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:$a(+e),t):a},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t},t.area=fu,t.line=hu,t.pie=function(){function t(t){var a,u,c,l,h,f=t.length,d=0,p=new Array(f),g=new Array(f),m=+r.apply(this,arguments),y=Math.min(hv,Math.max(-hv,o.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/f,s.apply(this,arguments)),_=v*(y<0?-1:1);for(a=0;a<f;++a)(h=g[p[a]=a]=+e(t[a],a,t))>0&&(d+=h);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=i&&p.sort(function(e,n){return i(t[e],t[n])}),a=0,c=d?(y-f*_)/d:0;a<f;++a,m=l)l=m+((h=g[u=p[a]])>0?h*c:0)+_,g[u]={data:t[u],index:a,value:h,startAngle:m,endAngle:l,padAngle:v};return g}var e=pu,n=du,i=null,r=$a(0),o=$a(hv),s=$a(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:$a(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:$a(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:$a(+e),t):o},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:$a(+e),t):s},t},t.areaRadial=_u,t.radialArea=_u,t.lineRadial=vu,t.radialLine=vu,t.pointRadial=bu,t.linkHorizontal=function(){return Lu(Eu)},t.linkVertical=function(){return Lu(Cu)},t.linkRadial=function(){var t=Lu(Su);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(i||(i=t=nn()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}var e=$a(pv),n=$a(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:$a(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:$a(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},t.symbols=Tv,t.symbolCircle=pv,t.symbolCross=gv,t.symbolDiamond=vv,t.symbolSquare=Lv,t.symbolStar=wv,t.symbolTriangle=Cv,t.symbolWye=Pv,t.curveBasisClosed=function(t){return new Tu(t)},t.curveBasisOpen=function(t){return new Mu(t)},t.curveBasis=function(t){return new Pu(t)},t.curveBundle=Mv,t.curveCardinalClosed=Ov,t.curveCardinalOpen=Rv,t.curveCardinal=Av,t.curveCatmullRomClosed=kv,t.curveCatmullRomOpen=Fv,t.curveCatmullRom=Dv,t.curveLinearClosed=function(t){return new Gu(t)},t.curveLinear=uu,t.curveMonotoneX=function(t){return new Yu(t)},t.curveMonotoneY=function(t){return new Xu(t)},t.curveNatural=function(t){return new Zu(t)},t.curveStep=function(t){return new Ju(t,.5)},t.curveStepAfter=function(t){return new Ju(t,1)},t.curveStepBefore=function(t){return new Ju(t,0)},t.stack=function(){function t(t){var o,s,a=e.apply(this,arguments),u=t.length,c=a.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=a[o],d=l[o]=new Array(u),p=0;p<u;++p)d[p]=h=[0,+r(t[p],f,p,t)],h.data=t[p];d.key=f}for(o=0,s=n(l);o<c;++o)l[s[o]].index=o;return i(l,s),l}var e=$a([]),n=$u,i=Qu,r=tc;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:$a(dv.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:$a(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?$u:"function"==typeof e?e:$a(dv.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?Qu:e,t):i},t},t.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}Qu(t,e)}},t.stackOffsetDiverging=function(t,e){if((a=t.length)>1)for(var n,i,r,o,s,a,u=0,c=t[e[0]].length;u<c;++u)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][u])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},t.stackOffsetNone=Qu,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Qu(t,e)}},t.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,u=0,c=0;a<r;++a){for(var l=t[e[a]],h=l[s][1]||0,f=(h-(l[s-1][1]||0))/2,d=0;d<a;++d){var p=t[e[d]];f+=(p[s][1]||0)-(p[s-1][1]||0)}u+=h,c+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=c/u)}n[s-1][1]+=n[s-1][0]=o,Qu(t,e)}},t.stackOrderAscending=ec,t.stackOrderDescending=function(t){return ec(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(nc),o=$u(t).sort(function(t,e){return r[e]-r[t]}),s=0,a=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],u.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(u)},t.stackOrderNone=$u,t.stackOrderReverse=function(t){return $u(t).reverse()},t.timeInterval=Os,t.timeMillisecond=Lg,t.timeMilliseconds=Eg,t.utcMillisecond=Lg,t.utcMilliseconds=Eg,t.timeSecond=Ig,t.timeSeconds=Ng,t.utcSecond=Ig,t.utcSeconds=Ng,t.timeMinute=Pg,t.timeMinutes=Tg,t.timeHour=Mg,t.timeHours=Ag,t.timeDay=Og,t.timeDays=Rg,t.timeWeek=Dg,t.timeWeeks=qg,t.timeSunday=Dg,t.timeSundays=qg,t.timeMonday=kg,t.timeMondays=jg,t.timeTuesday=Fg,t.timeTuesdays=Vg,t.timeWednesday=zg,t.timeWednesdays=Hg,t.timeThursday=Bg,t.timeThursdays=Yg,t.timeFriday=Ug,t.timeFridays=Xg,t.timeSaturday=Gg,t.timeSaturdays=Wg,t.timeMonth=Zg,t.timeMonths=Kg,t.timeYear=Jg,t.timeYears=Qg,t.utcMinute=$g,t.utcMinutes=tm,t.utcHour=em,t.utcHours=nm,t.utcDay=im,t.utcDays=rm,t.utcWeek=om,t.utcWeeks=fm,t.utcSunday=om,t.utcSundays=fm,t.utcMonday=sm,t.utcMondays=dm,t.utcTuesday=am,t.utcTuesdays=pm,t.utcWednesday=um,t.utcWednesdays=gm,t.utcThursday=cm,t.utcThursdays=mm,t.utcFriday=lm,t.utcFridays=ym,t.utcSaturday=hm,t.utcSaturdays=vm,t.utcMonth=_m,t.utcMonths=bm,t.utcYear=xm,t.utcYears=Lm,t.timeFormatDefaultLocale=Ya,t.timeFormatLocale=Bs,t.isoFormat=Pm,t.isoParse=Tm,t.now=_e,t.timer=we,t.timerFlush=Le,t.timeout=Ie,t.interval=function(t,e,n){var i=new xe,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?_e():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)},t.transition=ke,t.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>wh&&n.name===e)return new De([[t]],tf,e,+i);return null},t.interrupt=Ae,t.voronoi=function(){function t(t){return new Nc(t.map(function(i,r){var o=[Math.round(e(i,r,t)/Hv)*Hv,Math.round(n(i,r,t)/Hv)*Hv];return o.index=r,o.data=i,o}),i)}var e=rc,n=oc,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ic(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ic(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t},t.zoom=function(){function e(t){t.property("__zoom",kc).on("wheel.zoom",u).on("mousedown.zoom",c).on("dblclick.zoom",l).filter(b).on("touchstart.zoom",h).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(t,e){return(e=Math.max(x[0],Math.min(x[1],e)))===t.k?t:new Tc(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Tc(t.k,i,r)}function r(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=s(this,t),o=y.apply(this,t),a=n||r(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=this.__zoom,l="function"==typeof e?e.apply(this,t):e,h=E(c.invert(a).concat(u/c.k),l.invert(a).concat(u/l.k));return function(t){if(1===t)t=l;else{var e=h(t),n=u/e[2];t=new Tc(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function s(t,e){for(var n,i=0,r=C.length;i<r;++i)if((n=C[i]).that===t)return n;return new a(t,e)}function a(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function u(){if(m.apply(this,arguments)){var t=s(this,arguments),e=this.__zoom,r=Math.max(x[0],Math.min(x[1],e.k*Math.pow(2,_.apply(this,arguments)))),o=pt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],Ae(this),t.start()}Oc(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},P),t.zoom("mouse",v(i(n(e,r),t.mouse[0],t.mouse[1]),t.extent,w))}}function c(){if(!g&&m.apply(this,arguments)){var e=s(this,arguments),n=ct(t.event.view).on("mousemove.zoom",function(){if(Oc(),!e.moved){var n=t.event.clientX-o,r=t.event.clientY-a;e.moved=n*n+r*r>T}e.zoom("mouse",v(i(e.that.__zoom,e.mouse[0]=pt(e.that),e.mouse[1]),e.extent,w))},!0).on("mouseup.zoom",function(){n.on("mousemove.zoom mouseup.zoom",null),_t(t.event.view,e.moved),Oc(),e.end()},!0),r=pt(this),o=t.event.clientX,a=t.event.clientY;vt(t.event.view),Ac(),e.mouse=[r,this.__zoom.invert(r)],Ae(this),e.start()}}function l(){if(m.apply(this,arguments)){var r=this.__zoom,s=pt(this),a=r.invert(s),u=v(i(n(r,r.k*(t.event.shiftKey?.5:2)),s,a),y.apply(this,arguments),w);Oc(),L>0?ct(this).transition().duration(L).call(o,u,s):ct(this).call(e.transform,u)}}function h(){if(m.apply(this,arguments)){var e,n,i,r,o=s(this,arguments),a=t.event.changedTouches,u=a.length;for(Ac(),n=0;n<u;++n)r=[r=gt(this,a,(i=a[n]).identifier),this.__zoom.invert(r),i.identifier],o.touch0?o.touch1||(o.touch1=r):(o.touch0=r,e=!0);if(p&&(p=clearTimeout(p),!o.touch1))return o.end(),void((r=ct(this).on("dblclick.zoom"))&&r.apply(this,arguments));e&&(p=setTimeout(function(){p=null},N),Ae(this),o.start())}}function f(){var e,r,o,a,u=s(this,arguments),c=t.event.changedTouches,l=c.length;for(Oc(),p&&(p=clearTimeout(p)),e=0;e<l;++e)o=gt(this,c,(r=c[e]).identifier),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=o:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=o);if(r=u.that.__zoom,u.touch1){var h=u.touch0[0],f=u.touch0[1],d=u.touch1[0],g=u.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,y=(y=g[0]-f[0])*y+(y=g[1]-f[1])*y;r=n(r,Math.sqrt(m/y)),o=[(h[0]+d[0])/2,(h[1]+d[1])/2],a=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!u.touch0)return;o=u.touch0[0],a=u.touch0[1]}u.zoom("touch",v(i(r,o,a),u.extent,w))}function d(){var e,n,i=s(this,arguments),r=t.event.changedTouches,o=r.length;for(Ac(),g&&clearTimeout(g),g=setTimeout(function(){g=null},N),e=0;e<o;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}var p,g,m=Rc,y=Dc,v=Bc,_=Fc,b=zc,x=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],L=250,E=ge,C=[],I=S("start","zoom","end"),N=500,P=150,T=0;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",kc),t!==n?o(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(t,o){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,s=r(t),a=e.invert(s),u="function"==typeof o?o.apply(this,arguments):o;return v(i(n(e,u),s,a),t,w)})},e.translateBy=function(t,n,i){e.transform(t,function(){return v(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),y.apply(this,arguments),w)})},e.translateTo=function(t,n,i){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,o=r(t);return v(Xv.translate(o[0],o[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=C.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(C.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){ot(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(e,t,this.that.__zoom),I.apply,I,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Pc(+t),e):_},e.filter=function(t){return arguments.length?(m="function"==typeof t?t:Pc(!!t),e):m},e.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Pc(!!t),e):b},e.extent=function(t){return arguments.length?(y="function"==typeof t?t:Pc([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):y},e.scaleExtent=function(t){return arguments.length?(x[0]=+t[0],x[1]=+t[1],e):[x[0],x[1]]},e.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],e):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},e.constrain=function(t){return arguments.length?(v=t,e):v},e.duration=function(t){return arguments.length?(L=+t,e):L},e.interpolate=function(t){return arguments.length?(E=t,e):E},e.on=function(){var t=I.on.apply(I,arguments);return t===I?e:t},e.clickDistance=function(t){return arguments.length?(T=(t=+t)*t,e):Math.sqrt(T)},e},t.zoomTransform=Mc,t.zoomIdentity=Xv,Object.defineProperty(t,"__esModule",{value:!0})}),function(){"use strict";function t(e){return this instanceof t?(this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,e){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),r=this._r=t+e;return n.width=n.height=2*r,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(r-200,r-200,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=n.createLinearGradient(0,0,0,256);for(var r in e.width=1,e.height=256,t)i.addColorStop(r,t[r]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var n,i=0,r=this._data.length;r>i;i++)n=this._data[i],e.globalAlpha=Math.max(n[2]/this._max,t||.05),e.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var o=e.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),e.putImageData(o,0,0),this},_colorize:function(t,e){for(var n,i=3,r=t.length;r>i;i+=4)(n=4*t[i])&&(t[i-3]=e[n],t[i-2]=e[n+1],t[i-1]=e[n+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var n=this._map.getSize();t.width=n.x,t.height=n.y;var i=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(i?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,n,i,r,o,s,a,u,c=[],l=this._heat._r,h=this._map.getSize(),f=new L.Bounds(L.point([-l,-l]),h.add([l,l])),d=void 0===this.options.max?1:this.options.max,p=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,g=1/Math.pow(2,Math.max(0,Math.min(p-this._map.getZoom(),12))),m=l/2,y=[],v=this._map._getMapPanePos(),_=v.x%m,b=v.y%m;for(t=0,e=this._latlngs.length;e>t;t++)n=this._map.latLngToContainerPoint(this._latlngs[t]),f.contains(n)&&(r=Math.floor((n.x-_)/m)+2,o=Math.floor((n.y-b)/m)+2,u=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*g,y[o]=y[o]||[],(i=y[o][r])?(i[0]=(i[0]*i[2]+n.x*u)/(i[2]+u),i[1]=(i[1]*i[2]+n.y*u)/(i[2]+u),i[2]+=u):y[o][r]=[n.x,n.y,u]);for(t=0,e=y.length;e>t;t++)if(y[t])for(s=0,a=y[t].length;a>s;s++)(i=y[t][s])&&c.push([Math.round(i[0]),Math.round(i[1]),Math.min(i[2],d)]);this._heat.data(c).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function n(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=T.exec(t))?new u((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=M.exec(t))?r(parseInt(e[1],16)):(e=A.exec(t))?new u(e[1],e[2],e[3],1):(e=O.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=R.exec(t))?o(e[1],e[2],e[3],e[4]):(e=D.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=k.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=F.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):z.hasOwnProperty(t)?r(z[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function r(t){return new u(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,i){return i<=0&&(t=e=n=NaN),new u(t,e,n,i)}function s(t){return t instanceof n||(t=i(t)),t?new u((t=t.rgb()).r,t.g,t.b,t.opacity):new u}function a(t,e,n,i){return 1===arguments.length?s(t):new u(t,e,n,null==i?1:i)}function u(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function c(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new f(t,e,n,i)}function l(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=i(t)),!t)return new f;if(t instanceof f)return t;var e=(t=t.rgb()).r/255,r=t.g/255,o=t.b/255,s=Math.min(e,r,o),a=Math.max(e,r,o),u=NaN,c=a-s,l=(a+s)/2;return c?(u=e===a?(r-o)/c+6*(r<o):r===a?(o-e)/c+2:(e-r)/c+4,c/=l<.5?a+s:2-a-s,u*=60):c=l>0&&l<1?0:u,new f(u,c,l,t.opacity)}function h(t,e,n,i){return 1===arguments.length?l(t):new f(t,e,n,null==i?1:i)}function f(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function p(t){if(t instanceof m)return new m(t.l,t.a,t.b,t.opacity);if(t instanceof L){if(isNaN(t.h))return new m(t.l,0,0,t.opacity);var e=t.h*B;return new m(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=s(t));var n,i,r=b(t.r),o=b(t.g),a=b(t.b),c=y((.2225045*r+.7168786*o+.0606169*a)/q);return r===o&&o===a?n=i=c:(n=y((.4360747*r+.3850649*o+.1430804*a)/G),i=y((.0139322*r+.0971045*o+.7141733*a)/j)),new m(116*c-16,500*(n-c),200*(c-i),t.opacity)}function g(t,e,n,i){return 1===arguments.length?p(t):new m(t,e,n,null==i?1:i)}function m(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function y(t){return t>X?Math.pow(t,1/3):t/Y+V}function v(t){return t>H?t*t*t:Y*(t-V)}function _(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function b(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){if(t instanceof L)return new L(t.h,t.c,t.l,t.opacity);if(t instanceof m||(t=p(t)),0===t.a&&0===t.b)return new L(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*U;return new L(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function w(t,e,n,i){return 1===arguments.length?x(t):new L(t,e,n,null==i?1:i)}function L(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function E(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);t instanceof u||(t=s(t));var e=t.g/255,n=t.b/255,i=(et*n+$*(t.r/255)-tt*e)/(et+$-tt),r=n-i,o=(Q*(e-i)-K*r)/J,a=Math.sqrt(o*o+r*r)/(Q*i*(1-i)),c=a?Math.atan2(o,r)*U-120:NaN;return new C(c<0?c+360:c,a,i,t.opacity)}(t):new C(t,e,n,null==i?1:i)}function C(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}var S=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},I="\\s*([+-]?\\d+)\\s*",N="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T=/^#([0-9a-f]{3})$/,M=/^#([0-9a-f]{6})$/,A=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),O=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),R=new RegExp("^rgba\\("+[I,I,I,N]+"\\)$"),D=new RegExp("^rgba\\("+[P,P,P,N]+"\\)$"),k=new RegExp("^hsl\\("+[N,P,P]+"\\)$"),F=new RegExp("^hsla\\("+[N,P,P,N]+"\\)$"),z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S(n,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),S(u,a,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),S(f,h,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new u(d(t>=240?t-240:t+120,r,i),d(t,r,i),d(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var B=Math.PI/180,U=180/Math.PI,G=.96422,q=1,j=.82521,V=4/29,H=6/29,Y=3*H*H,X=H*H*H;S(m,g,e(n,{brighter:function(t){return new m(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new m(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new u(_(3.1338561*(e=G*v(e))-1.6168667*(t=q*v(t))-.4906146*(n=j*v(n))),_(-.9787684*e+1.9161415*t+.033454*n),_(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),S(L,w,e(n,{brighter:function(t){return new L(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new L(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return p(this).rgb()}}));var W=-.14861,Z=1.78277,K=-.29227,J=-.90649,Q=1.97294,$=Q*J,tt=Q*Z,et=Z*K-J*W;S(C,E,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*B,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new u(255*(e+n*(W*i+Z*r)),255*(e+n*(K*i+J*r)),255*(e+n*(Q*i)),this.opacity)}})),t.color=i,t.rgb=a,t.hsl=h,t.lab=g,t.hcl=w,t.lch=function(t,e,n,i){return 1===arguments.length?x(t):new L(n,e,t,null==i?1:i)},t.gray=function(t,e){return new m(t,0,0,null==e?1:e)},t.cubehelix=E,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";function n(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function i(t,e){return function(n){return t+n*e}}function r(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):v(isNaN(t)?e:t)}function o(t,e){var n=e-t;return n?i(t,n):v(isNaN(t)?e:t)}function s(t){return function(n){var i,r,o=n.length,s=new Array(o),a=new Array(o),u=new Array(o);for(i=0;i<o;++i)r=e.rgb(n[i]),s[i]=r.r||0,a[i]=r.g||0,u[i]=r.b||0;return s=t(s),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=s(t),r.g=a(t),r.b=u(t),r+""}}}function a(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:E(t,r)},{i:u-2,x:E(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:E(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:E(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:E(t,n)},{i:a-2,x:E(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function u(t){return((t=Math.exp(t))+1/t)/2}function c(t){return function(n,i){var r=t((n=e.hsl(n)).h,(i=e.hsl(i)).h),s=o(n.s,i.s),a=o(n.l,i.l),u=o(n.opacity,i.opacity);return function(t){return n.h=r(t),n.s=s(t),n.l=a(t),n.opacity=u(t),n+""}}}function l(t){return function(n,i){var r=t((n=e.hcl(n)).h,(i=e.hcl(i)).h),s=o(n.c,i.c),a=o(n.l,i.l),u=o(n.opacity,i.opacity);return function(t){return n.h=r(t),n.c=s(t),n.l=a(t),n.opacity=u(t),n+""}}}function h(t){return function n(i){function r(n,r){var s=t((n=e.cubehelix(n)).h,(r=e.cubehelix(r)).h),a=o(n.s,r.s),u=o(n.l,r.l),c=o(n.opacity,r.opacity);return function(t){return n.h=s(t),n.s=a(t),n.l=u(Math.pow(t,i)),n.opacity=c(t),n+""}}return i=+i,r.gamma=n,r}(1)}var f,d,p,g,m=function(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[r],s=t[r+1];return n((i-r/e)*e,r>0?t[r-1]:2*o-s,o,s,r<e-1?t[r+2]:2*s-o)}},y=function(t){var e=t.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*e);return n((i-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}},v=function(t){return function(){return t}},_=function t(n){function i(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),s=r(t.g,n.g),a=r(t.b,n.b),u=o(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=s(e),t.b=a(e),t.opacity=u(e),t+""}}var r=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):v(isNaN(e)?n:e)}}(n);return i.gamma=t,i}(1),b=s(m),x=s(y),w=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=P(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},L=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},E=function(t,e){return e-=t=+t,function(n){return t+e*n}},C=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=P(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I=new RegExp(S.source,"g"),N=function(t,e){var n,i,r,o=S.lastIndex=I.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=S.exec(t))&&(i=I.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:E(n,i)})),o=I.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},P=function(t,n){var i,r=typeof n;return null==n||"boolean"===r?v(n):("number"===r?E:"string"===r?(i=e.color(n))?(n=i,_):N:n instanceof e.color?_:n instanceof Date?L:Array.isArray(n)?w:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?C:E)(t,n)},T=180/Math.PI,M={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},A=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*T,skewX:Math.atan(u)*T,scaleX:s,scaleY:a}},O=a(function(t){return"none"===t?M:(f||(f=document.createElement("DIV"),d=document.documentElement,p=document.defaultView),f.style.transform=t,t=p.getComputedStyle(d.appendChild(f),null).getPropertyValue("transform"),d.removeChild(f),t=t.slice(7,-1).split(","),A(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),R=a(function(t){return null==t?M:(g||(g=document.createElementNS("http://www.w3.org/2000/svg","g")),g.setAttribute("transform",t),(t=g.transform.baseVal.consolidate())?A((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):M)},", ",")",")"),D=Math.SQRT2,k=c(r),F=c(o),z=l(r),B=l(o),U=h(r),G=h(o);t.interpolate=P,t.interpolateArray=w,t.interpolateBasis=m,t.interpolateBasisClosed=y,t.interpolateDate=L,t.interpolateNumber=E,t.interpolateObject=C,t.interpolateRound=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},t.interpolateString=N,t.interpolateTransformCss=O,t.interpolateTransformSvg=R,t.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[2],c=e[0]-r,l=e[1]-o,h=c*c+l*l;if(h<1e-12)i=Math.log(a/s)/D,n=function(t){return[r+t*c,o+t*l,s*Math.exp(D*t*i)]};else{var f=Math.sqrt(h),d=(a*a-s*s+4*h)/(2*s*2*f),p=(a*a-s*s-4*h)/(2*a*2*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p);i=(m-g)/D,n=function(t){var e=t*i,n=u(g),a=s/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(D*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[r+a*c,o+a*l,s*n/u(D*e+g)]}}return n.duration=1e3*i,n},t.interpolateRgb=_,t.interpolateRgbBasis=b,t.interpolateRgbBasisClosed=x,t.interpolateHsl=k,t.interpolateHslLong=F,t.interpolateLab=function(t,n){var i=o((t=e.lab(t)).l,(n=e.lab(n)).l),r=o(t.a,n.a),s=o(t.b,n.b),a=o(t.opacity,n.opacity);return function(e){return t.l=i(e),t.a=r(e),t.b=s(e),t.opacity=a(e),t+""}},t.interpolateHcl=z,t.interpolateHclLong=B,t.interpolateCubehelix=U,t.interpolateCubehelixLong=G,t.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate"),require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-color"],e):e(t.d3=t.d3||{},t.d3,t.d3)}(this,function(t,e,n){"use strict";function i(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}function r(t){return e.interpolateRgbBasis(t[t.length-1])}function o(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var s=i("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),a=i("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),u=i("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),c=i("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l=i("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),h=i("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),f=i("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d=i("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),p=i("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),g=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(i),m=r(g),y=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(i),v=r(y),_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(i),b=r(_),x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(i),w=r(x),L=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(i),E=r(L),C=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(i),S=r(C),I=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(i),N=r(I),P=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(i),T=r(P),M=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(i),A=r(M),O=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(i),R=r(O),D=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(i),k=r(D),F=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(i),z=r(F),B=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(i),U=r(B),G=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(i),q=r(G),j=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(i),V=r(j),H=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(i),Y=r(H),X=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(i),W=r(X),Z=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(i),K=r(Z),J=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(i),Q=r(J),$=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(i),tt=r($),et=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(i),nt=r(et),it=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(i),rt=r(it),ot=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(i),st=r(ot),at=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(i),ut=r(at),ct=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(i),lt=r(ct),ht=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(i),ft=r(ht),dt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(i),pt=r(dt),gt=e.interpolateCubehelixLong(n.cubehelix(300,.5,0),n.cubehelix(-240,.5,1)),mt=e.interpolateCubehelixLong(n.cubehelix(-100,.75,.35),n.cubehelix(80,1.5,.8)),yt=e.interpolateCubehelixLong(n.cubehelix(260,.75,.35),n.cubehelix(80,1.5,.8)),vt=n.cubehelix(),_t=o(i("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),bt=o(i("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),xt=o(i("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),wt=o(i("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.schemeCategory10=s,t.schemeAccent=a,t.schemeDark2=u,t.schemePaired=c,t.schemePastel1=l,t.schemePastel2=h,t.schemeSet1=f,t.schemeSet2=d,t.schemeSet3=p,t.interpolateBrBG=m,t.schemeBrBG=g,t.interpolatePRGn=v,t.schemePRGn=y,t.interpolatePiYG=b,t.schemePiYG=_,t.interpolatePuOr=w,t.schemePuOr=x,t.interpolateRdBu=E,t.schemeRdBu=L,t.interpolateRdGy=S,t.schemeRdGy=C,t.interpolateRdYlBu=N,t.schemeRdYlBu=I,t.interpolateRdYlGn=T,t.schemeRdYlGn=P,t.interpolateSpectral=A,t.schemeSpectral=M,t.interpolateBuGn=R,t.schemeBuGn=O,t.interpolateBuPu=k,t.schemeBuPu=D,t.interpolateGnBu=z,t.schemeGnBu=F,t.interpolateOrRd=U,t.schemeOrRd=B,t.interpolatePuBuGn=q,t.schemePuBuGn=G,t.interpolatePuBu=V,t.schemePuBu=j,t.interpolatePuRd=Y,t.schemePuRd=H,t.interpolateRdPu=W,t.schemeRdPu=X,t.interpolateYlGnBu=K,t.schemeYlGnBu=Z,t.interpolateYlGn=Q,t.schemeYlGn=J,t.interpolateYlOrBr=tt,t.schemeYlOrBr=$,t.interpolateYlOrRd=nt,t.schemeYlOrRd=et,t.interpolateBlues=rt,t.schemeBlues=it,t.interpolateGreens=st,t.schemeGreens=ot,t.interpolateGreys=ut,t.schemeGreys=at,t.interpolatePurples=lt,t.schemePurples=ct,t.interpolateReds=ft,t.schemeReds=ht,t.interpolateOranges=pt,t.schemeOranges=dt,t.interpolateCubehelixDefault=gt,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vt.h=360*t-100,vt.s=1.5-1.5*e,vt.l=.8-.9*e,vt+""},t.interpolateWarm=mt,t.interpolateCool=yt,t.interpolateViridis=_t,t.interpolateMagma=bt,t.interpolateInferno=xt,t.interpolatePlasma=wt,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n=[],i=t.document,r=Object.getPrototypeOf,o=n.slice,s=n.concat,a=n.push,u=n.indexOf,c={},l=c.toString,h=c.hasOwnProperty,f=h.toString,d=f.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},y={type:!0,src:!0,noModule:!0};function v(t,e,n){var r,o=(e=e||i).createElement("script");if(o.text=t,n)for(r in y)n[r]&&(o[r]=n[r]);e.head.appendChild(o).parentNode.removeChild(o)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[l.call(t)]||"object":typeof t}var b=function(t,e){return new b.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!g(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(c&&i&&(b.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&b.isPlainObject(n)?n:{},s[e]=b.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==l.call(t)||(e=r(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||f.call(n)!==d))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){v(t)},each:function(t,e){var n,i=0;if(w(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(w(Object(t))?b.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(w(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var L=function(t){var e,n,i,r,o,s,a,u,c,l,h,f,d,p,g,m,y,v,_,b="sizzle"+1*new Date,x=t.document,w=0,L=0,E=st(),C=st(),S=st(),I=function(t,e){return t===e&&(h=!0),0},N={}.hasOwnProperty,P=[],T=P.pop,M=P.push,A=P.push,O=P.slice,R=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+k+"*("+F+")(?:"+k+"*([*^$|!~]?=)"+k+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+k+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",U=new RegExp(k+"+","g"),G=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g"),q=new RegExp("^"+k+"*,"+k+"*"),j=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),V=new RegExp("="+k+"*([^\\]'\"]*?)"+k+"*\\]","g"),H=new RegExp(B),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+k+"?|("+k+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(P=O.call(x.childNodes),x.childNodes)}catch(t){A={apply:P.length?function(t,e){M.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,c,l,h,p,y,v=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==d&&f(e),e=e||d,g)){if(11!==w&&(h=J.exec(t)))if(o=h[1]){if(9===w){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(v&&(c=v.getElementById(o))&&_(e,c)&&c.id===o)return i.push(c),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!S[t+" "]&&(!m||!m.test(t))){if(1!==w)v=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=b),a=(p=s(t)).length;a--;)p[a]="#"+l+" "+yt(p[a]);y=p.join(","),v=Q.test(t)&&gt(e.parentNode)||e}if(y)try{return A.apply(i,v.querySelectorAll(y)),i}catch(t){}finally{l===b&&e.removeAttribute("id")}}}return u(t.replace(G,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[b]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),x!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],m=[],(n.qsa=K.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+k+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+k+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+k+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=K.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=K.test(p.compareDocumentPosition),_=e||K.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===x&&_(x,t)?-1:e===d||e.ownerDocument===x&&_(x,e)?1:l?R(l,t)-R(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:l?R(l,t)-R(l,e):0;if(r===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?lt(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(V,"='$1']"),n.matchesSelector&&g&&!S[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&N.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(I),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return l=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&H.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+k+")"+t+"("+k+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!u&&!a,_=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&v){for(_=(d=(c=(l=(h=(f=m)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(_=d=0)||p.pop();)if(1===f.nodeType&&++_&&f===e){l[t]=[w,d,_];break}}else if(v&&(_=d=(c=(l=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===_)for(;(f=++d&&f&&f[g]||(_=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++_||(v&&((l=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,_]),f!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=R(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(G,"$1"));return i[b]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function mt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function vt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=L++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var c,l,h,f=[w,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=l[o])&&c[0]===w&&c[1]===a)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function xt(t,e,n,i,r,o){return i&&!i[b]&&(i=xt(i)),r&&!r[b]&&(r=xt(r,o)),at(function(o,s,a,u){var c,l,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:bt(g,f,t,a,u),y=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,y,a,u),i)for(c=bt(y,d),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(y[d[l]]=!(m[d[l]]=h));if(o){if(r||t){if(r){for(c=[],l=y.length;l--;)(h=y[l])&&c.push(m[l]=h);r(null,y=[],c,u)}for(l=y.length;l--;)(h=y[l])&&(c=r?R(o,h):f[l])>-1&&(o[c]=!(s[c]=h))}}else y=bt(y===s?y.splice(p,y.length):y),r?r(null,s,y,u):A.apply(s,y)})}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,l=vt(function(t){return t===e},a,!0),h=vt(function(t){return R(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==c)||((e=n).nodeType?l(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[vt(_t(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[b]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return xt(u>1&&_t(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(G,"$1"),n,u<r&&wt(t.slice(u,r)),r<o&&wt(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return _t(f)}function Lt(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,l){var h,p,m,y=0,v="0",_=o&&[],b=[],x=c,L=o||r&&i.find.TAG("*",l),E=w+=null==x?1:Math.random()||.1,C=L.length;for(l&&(c=s===d||s||l);v!==C&&null!=(h=L[v]);v++){if(r&&h){for(p=0,s||h.ownerDocument===d||(f(h),a=!g);m=t[p++];)if(m(h,s||d,a)){u.push(h);break}l&&(w=E)}n&&((h=!m&&h)&&y--,o&&_.push(h))}if(y+=v,n&&v!==y){for(p=0;m=e[p++];)m(_,b,s,a);if(o){if(y>0)for(;v--;)_[v]||b[v]||(b[v]=T.call(u));b=bt(b)}A.apply(u,b),l&&!o&&b.length>0&&y+e.length>1&&ot.uniqueSort(u)}return l&&(w=E,c=x),_};return n?at(o):o}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,s=ot.tokenize=function(t,e){var n,r,o,s,a,u,c,l=C[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=i.preFilter;a;){for(s in n&&!(r=q.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=j.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(G," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):C(t,u).slice(0)},a=ot.compile=function(t,e){var n,i=[],r=[],o=S[t+" "];if(!o){for(e||(e=s(t)),n=e.length;n--;)(o=wt(e[n]))[b]?i.push(o):r.push(o);(o=S(t,Lt(r,i))).selector=t}return o},u=ot.select=function(t,e,n,r){var o,u,c,l,h,f="function"==typeof t&&t,d=!r&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(c.matches[0].replace($,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=X.needsContext.test(t)?0:u.length;o--&&!i.relative[l=(c=u[o]).type];)if((h=i.find[l])&&(r=h(c.matches[0].replace($,tt),Q.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&yt(u)))return A.apply(n,r),n;break}}return(f||a(t,d))(r,e,!g,n,!e||Q.test(t)&&gt(e.parentNode)||e),n},n.sortStable=b.split("").sort(I).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(D,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(t);b.find=L,b.expr=L.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=L.uniqueSort,b.text=L.getText,b.isXMLDoc=L.isXML,b.contains=L.contains,b.escapeSelector=L.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&b(t).is(n))break;i.push(t)}return i},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},S=b.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return g(e)?b.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?b.grep(t,function(t){return t===e!==n}):"string"!=typeof e?b.grep(t,function(t){return u.call(e,t)>-1!==n}):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,function(t){return 1===t.nodeType}))},b.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(b(t).filter(function(){for(e=0;e<i;e++)if(b.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,r[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&S.test(t)?b(t):t||[],!1).length}});var T,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||T,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(b.merge(this,b.parseHTML(r[1],(e=e instanceof b?e[0]:e)&&e.nodeType?e.ownerDocument||e:i,!0)),N.test(r[1])&&b.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,T=b(i);var A=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&b(t);if(!S.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(b(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return I(t,"iframe")?t.contentDocument:(I(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},function(t,e){b.fn[t]=function(n,i){var r=b.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=b.filter(i,r)),this.length>1&&(O[t]||b.uniqueSort(r),A.test(t)&&r.reverse()),this.pushStack(r)}});var D=/[^\x20\t\r\n\f]+/g;function k(t){return t}function F(t){throw t}function z(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return b.each(t.match(D)||[],function(t,n){e[n]=!0}),e}(t):b.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){b.each(n,function(n,i){g(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return b.each(arguments,function(t,e){for(var n;(n=b.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?b.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},b.extend({Deferred:function(e){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return b.Deferred(function(e){b.each(n,function(n,i){var r=g(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){var o=0;function s(e,n,i,r){return function(){var a=this,u=arguments,c=function(){var t,c;if(!(e<o)){if((t=i.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");g(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?r?c.call(t,s(o,n,k,r),s(o,n,F,r)):c.call(t,s(++o,n,k,r),s(o,n,F,r),s(o,n,k,n.notifyWith)):(i!==k&&(a=void 0,u=[t]),(r||n.resolveWith)(a,u))}},l=r?c:function(){try{c()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,l.stackTrace),e+1>=o&&(i!==F&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?l():(b.Deferred.getStackHook&&(l.stackTrace=b.Deferred.getStackHook()),t.setTimeout(l))}}return b.Deferred(function(t){n[0][3].add(s(0,t,g(r)?r:k,t.notifyWith)),n[1][3].add(s(0,t,g(e)?e:k)),n[2][3].add(s(0,t,g(i)?i:F))}).promise()},promise:function(t){return null!=t?b.extend(t,r):r}},o={};return b.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=o.call(arguments),s=b.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?o.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(z(t,s.done(a(n)).resolve,s.reject,!e),"pending"===s.state()||g(r[n]&&r[n].then)))return s.then();for(;n--;)z(r[n],a(n),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&B.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout(function(){throw e})};var U=b.Deferred();function G(){i.removeEventListener("DOMContentLoaded",G),t.removeEventListener("load",G),b.ready()}b.fn.ready=function(t){return U.then(t).catch(function(t){b.readyException(t)}),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||U.resolveWith(i,[b]))}}),b.ready.then=U.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(b.ready):(i.addEventListener("DOMContentLoaded",G),t.addEventListener("load",G));var q=function(t,e,n,i,r,o,s){var a=0,u=t.length,c=null==n;if("object"===_(n))for(a in r=!0,n)q(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,g(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(b(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):u?e(t[0],n):o},j=/^-ms-/,V=/-([a-z])/g;function H(t,e){return e.toUpperCase()}function Y(t){return t.replace(j,"ms-").replace(V,H)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function W(){this.expando=b.expando+W.uid++}W.uid=1,W.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Y(e)]=n;else for(i in e)r[Y(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(D)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Z=new W,K=new W,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function $(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(n)}catch(t){}K.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return K.hasData(t)||Z.hasData(t)},data:function(t,e,n){return K.access(t,e,n)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=K.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Y(i.slice(5)),$(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){K.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=K.get(o,t)))return n;if(void 0!==(n=$(o,t)))return n}else this.each(function(){K.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),b.extend({queue:function(t,e,n){var i;if(t)return i=Z.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=Z.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=b.queue(t,e=e||"fx"),i=n.length,r=n.shift(),o=b._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){b.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:b.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),b.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each(function(){var n=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&b.dequeue(this,t)})},dequeue:function(t){return this.each(function(){b.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=b.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&b.contains(t.ownerDocument,t)&&"none"===b.css(t,"display")},rt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ot(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,"")},u=a(),c=n&&n[3]||(b.cssNumber[e]?"":"px"),l=(b.cssNumber[e]||"px"!==c&&+u)&&et.exec(b.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)b.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;b.style(t,e,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}var st={};function at(t){var e,n=t.ownerDocument,i=t.nodeName,r=st[i];return r||(e=n.body.appendChild(n.createElement(i)),r=b.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),st[i]=r,r)}function ut(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Z.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&it(i)&&(r[o]=at(i))):"none"!==n&&(r[o]="none",Z.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}b.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){it(this)?b(this).show():b(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?b.merge([t],n):n}function pt(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}ft.optgroup=ft.option,ft.tbody=ft.tfoot=ft.colgroup=ft.caption=ft.thead,ft.th=ft.td;var gt=/<|&#?\w+;/;function mt(t,e,n,i,r){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===_(o))b.merge(f,o.nodeType?[o]:o);else if(gt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(lt.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(u=ft[a]||ft._default)[1]+b.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;b.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&b.inArray(o,i)>-1)r&&r.push(o);else if(c=b.contains(o.ownerDocument,o),s=dt(h.appendChild(o),"script"),c&&pt(s),n)for(l=0;o=s[l++];)ht.test(o.type||"")&&n.push(o);return h}!function(){var t=i.createDocumentFragment().appendChild(i.createElement("div")),e=i.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),p.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var yt=i.documentElement,vt=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function wt(){return!1}function Lt(){try{return i.activeElement}catch(t){}}function Et(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Et(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=wt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return b().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),t.each(function(){b.event.add(this,e,r,i,n)})}b.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,c,l,h,f,d,p,g,m=Z.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&b.find.matchesSelector(yt,r),n.guid||(n.guid=b.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(D)||[""]).length;c--;)d=g=(a=bt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=b.event.special[d]||{},h=b.event.special[d=(r?h.delegateType:h.bindType)||d]||{},l=b.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),b.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,c,l,h,f,d,p,g,m=Z.hasData(t)&&Z.get(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(D)||[""]).length;c--;)if(d=g=(a=bt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=b.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||b.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)b.event.remove(t,d+e[c],n,i,!0);b.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=b.event.fix(t),u=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],l=b.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=b.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?b(r,this).index(c)>-1:b.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Lt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Lt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&I(this,"input"))return this.click(),!1},_default:function(t){return I(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||b.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),b.fn.extend({on:function(t,e,n,i){return Et(this,t,e,n,i)},one:function(t,e,n,i){return Et(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=wt),this.each(function(){b.event.remove(this,t,n,e)})}});var Ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,St=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function Tt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function At(t,e){var n,i,r,o,s,a,u,c;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)b.event.add(e,r,c[r][n]);K.hasData(t)&&(a=K.access(t),u=b.extend({},a),K.set(e,u))}}function Ot(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ct.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Rt(t,e,n,i){e=s.apply([],e);var r,o,a,u,c,l,h=0,f=t.length,d=f-1,m=e[0],y=g(m);if(y||f>1&&"string"==typeof m&&!p.checkClone&&It.test(m))return t.each(function(r){var o=t.eq(r);y&&(e[0]=m.call(this,r,o.html())),Rt(o,e,n,i)});if(f&&(o=(r=mt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(u=(a=b.map(dt(r,"script"),Tt)).length;h<f;h++)c=r,h!==d&&(c=b.clone(c,!0,!0),u&&b.merge(a,dt(c,"script"))),n.call(t[h],c,h);if(u)for(l=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<u;h++)ht.test((c=a[h]).type||"")&&!Z.access(c,"globalEval")&&b.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(c.src):v(c.textContent.replace(Nt,""),l,c))}return t}function Dt(t,e,n){for(var i,r=e?b.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||b.cleanData(dt(i)),i.parentNode&&(n&&b.contains(i.ownerDocument,i)&&pt(dt(i,"script")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t.replace(Ct,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=b.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(s=dt(a),i=0,r=(o=dt(t)).length;i<r;i++)Ot(o[i],s[i]);if(e)if(n)for(o=o||dt(t),s=s||dt(a),i=0,r=o.length;i<r;i++)At(o[i],s[i]);else At(t,a);return(s=dt(a,"script")).length>0&&pt(s,!u&&dt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=b.event.special,o=0;void 0!==(n=t[o]);o++)if(X(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Dt(this,t,!0)},remove:function(t){return Dt(this,t)},text:function(t){return q(this,function(t){return void 0===t?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return b.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!ft[(lt.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(dt(this)),n&&n.replaceChild(e,this))},t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){b.fn[t]=function(t){for(var n,i=[],r=b(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),b(r[s])[e](n),a.apply(i,n.get());return this.pushStack(i)}});var kt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Ft=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},zt=new RegExp(nt.join("|"),"i");function Bt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Ft(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||b.contains(t.ownerDocument,t)||(s=b.style(t,e)),!p.pixelBoxStyles()&&kt.test(s)&&zt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(c).appendChild(l);var e=t.getComputedStyle(l);r="1%"!==e.top,u=12===n(e.marginLeft),l.style.right="60%",a=36===n(e.right),o=36===n(e.width),l.style.position="absolute",s=36===l.offsetWidth||"absolute",yt.removeChild(c),l=null}}function n(t){return Math.round(parseFloat(t))}var r,o,s,a,u,c=i.createElement("div"),l=i.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),s}}))}();var Gt=/^(none|table(?!-c[ea]).+)/,qt=/^--/,jt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Ht=["Webkit","Moz","ms"],Yt=i.createElement("div").style;function Xt(t){var e=b.cssProps[t];return e||(e=b.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Ht.length;n--;)if((t=Ht[n]+e)in Yt)return t}(t)||t),e}function Wt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Zt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=b.css(t,n+nt[s],!0,r)),i?("content"===n&&(u-=b.css(t,"padding"+nt[s],!0,r)),"margin"!==n&&(u-=b.css(t,"border"+nt[s]+"Width",!0,r))):(u+=b.css(t,"padding"+nt[s],!0,r),"padding"!==n?u+=b.css(t,"border"+nt[s]+"Width",!0,r):a+=b.css(t,"border"+nt[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function Kt(t,e,n){var i=Ft(t),r=Bt(t,e,i),o="border-box"===b.css(t,"boxSizing",!1,i),s=o;if(kt.test(r)){if(!n)return r;r="auto"}return s=s&&(p.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===b.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Zt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function Jt(t,e,n,i,r){return new Jt.prototype.init(t,e,n,i,r)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Bt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Y(e),u=qt.test(e),c=t.style;if(u||(e=Xt(a)),s=b.cssHooks[e]||b.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e];"string"==(o=typeof n)&&(r=et.exec(n))&&r[1]&&(n=ot(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(b.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,s,a=Y(e);return qt.test(e)||(e=Xt(a)),(s=b.cssHooks[e]||b.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Bt(t,e,i)),"normal"===r&&e in Vt&&(r=Vt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),b.each(["height","width"],function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Gt.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,e,i):rt(t,jt,function(){return Kt(t,e,i)})},set:function(t,n,i){var r,o=Ft(t),s="border-box"===b.css(t,"boxSizing",!1,o),a=i&&Zt(t,e,i,s,o);return s&&p.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Zt(t,e,"border",!1,o)-.5)),a&&(r=et.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=b.css(t,e)),Wt(0,n,a)}}}),b.cssHooks.marginLeft=Ut(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+nt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(b.cssHooks[t+e].set=Wt)}),b.fn.extend({css:function(t,e){return q(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Ft(t),r=e.length;s<r;s++)o[e[s]]=b.css(t,e[s],!1,i);return o}return void 0!==n?b.style(t,e,n):b.css(t,e)},t,e,arguments.length>1)}}),b.Tween=Jt,(Jt.prototype={constructor:Jt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var t=Jt.propHooks[this.prop];return t&&t.get?t.get(this):Jt.propHooks._default.get(this)},run:function(t){var e,n=Jt.propHooks[this.prop];return this.pos=e=this.options.duration?b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Jt.propHooks._default.set(this),this}}).init.prototype=Jt.prototype,(Jt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[b.cssProps[t.prop]]&&!b.cssHooks[t.prop]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Jt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},b.fx=Jt.prototype.init,b.fx.step={};var Qt,$t,te=/^(?:toggle|show|hide)$/,ee=/queueHooks$/;function ne(){$t&&(!1===i.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ne):t.setTimeout(ne,b.fx.interval),b.fx.tick())}function ie(){return t.setTimeout(function(){Qt=void 0}),Qt=Date.now()}function re(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function oe(t,e,n){for(var i,r=(se.tweeners[e]||[]).concat(se.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function se(t,e,n){var i,r,o=0,s=se.prefilters.length,a=b.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Qt||ie(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:Qt||ie(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=Y(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=b.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(l,c.opts.specialEasing);o<s;o++)if(i=se.prefilters[o].call(c,t,l,c.opts))return g(i.stop)&&(b._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return b.map(l,oe,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),b.fx.timer(b.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}b.Animation=b.extend(se,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ot(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(D);for(var n,i=0,r=t.length;i<r;i++)(se.tweeners[n=t[i]]=se.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,c,l,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&it(t),m=Z.get(t,"fxshow");for(i in n.queue||(null==(s=b._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,b.queue(t,"fx").length||s.empty.fire()})})),e)if(te.test(r=e[i])){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||b.style(t,i)}if((u=!b.isEmptyObject(e))||!b.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=Z.get(t,"display")),"none"===(l=b.css(t,"display"))&&(c?l=c:(ut([t],!0),c=t.style.display||c,l=b.css(t,"display"),ut([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===b.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(c="none"===(l=p.display)?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ut([t],!0),f.done(function(){for(i in g||ut([t]),Z.remove(t,"fxshow"),d)b.style(t,i,d[i])})),u=oe(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?se.prefilters.unshift(t):se.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&"object"==typeof t?b.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return b.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in b.fx.speeds?b.fx.speeds[i.duration]:b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(it).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=b.isEmptyObject(t),o=b.speed(e,n,i),s=function(){var e=se(this,b.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=b.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ee.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||b.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=b.timers,s=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),b.each(["toggle","show","hide"],function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(re(e,!0),t,i,r)}}),b.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(Qt=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),Qt=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){$t||($t=!0,ne())},b.fx.stop=function(){$t=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,this.queue(n=n||"fx",function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=i.createElement("input"),e=i.createElement("select").appendChild(i.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=i.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var ae,ue=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return q(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){b.removeAttr(this,t)})}}),b.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?b.prop(t,e,n):(1===o&&b.isXMLDoc(t)||(r=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ae:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&I(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(D);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ae={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||b.find.attr;ue[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=ue[s],ue[s]=r,r=null!=n(t,e,i)?s:null,ue[s]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,le=/^(?:a|area)$/i;function he(t){return(t.match(D)||[]).join(" ")}function fe(t){return t.getAttribute&&t.getAttribute("class")||""}function de(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(D)||[]}b.fn.extend({prop:function(t,e){return q(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[b.propFix[t]||t]})}}),b.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(t)||(r=b.propHooks[e=b.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||le.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(t){return null},set:function(t){}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){b(this).addClass(t.call(this,e,fe(this)))});if((e=de(t)).length)for(;n=this[u++];)if(r=fe(n),i=1===n.nodeType&&" "+he(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=he(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){b(this).removeClass(t.call(this,e,fe(this)))});if(!arguments.length)return this.attr("class","");if((e=de(t)).length)for(;n=this[u++];)if(r=fe(n),i=1===n.nodeType&&" "+he(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=he(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){b(this).toggleClass(t.call(this,n,fe(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=b(this),s=de(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=fe(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+he(fe(n))+" ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g;b.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,b(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,function(t){return null==t?"":t+""})),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(pe,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:he(b.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(e=b(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=b.makeArray(e),s=r.length;s--;)((i=r[s]).selected=b.inArray(b.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var ge=/^(?:focusinfocus|focusoutblur)$/,me=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,r,o){var s,a,u,c,l,f,d,p,y=[r||i],v=h.call(e,"type")?e.type:e,_=h.call(e,"namespace")?e.namespace.split("."):[];if(a=p=u=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!ge.test(v+b.event.triggered)&&(v.indexOf(".")>-1&&(v=(_=v.split(".")).shift(),_.sort()),l=v.indexOf(":")<0&&"on"+v,(e=e[b.expando]?e:new b.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:b.makeArray(n,[e]),d=b.event.special[v]||{},o||!d.trigger||!1!==d.trigger.apply(r,n))){if(!o&&!d.noBubble&&!m(r)){for(ge.test((c=d.delegateType||v)+v)||(a=a.parentNode);a;a=a.parentNode)y.push(a),u=a;u===(r.ownerDocument||i)&&y.push(u.defaultView||u.parentWindow||t)}for(s=0;(a=y[s++])&&!e.isPropagationStopped();)p=a,e.type=s>1?c:d.bindType||v,(f=(Z.get(a,"events")||{})[e.type]&&Z.get(a,"handle"))&&f.apply(a,n),(f=l&&a[l])&&f.apply&&X(a)&&(e.result=f.apply(a,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(y.pop(),n)||!X(r)||l&&g(r[v])&&!m(r)&&((u=r[l])&&(r[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,me),r[v](),e.isPropagationStopped()&&p.removeEventListener(v,me),b.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each(function(){b.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}});var ye=t.location,ve=Date.now(),_e=/\?/;b.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),n};var be=/\[\]$/,xe=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,n,i){var r;if(Array.isArray(e))b.each(e,function(e,r){n||be.test(t)?i(t,r):Ee(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==_(e))i(t,e);else for(r in e)Ee(t+"["+r+"]",e[r],n,i)}b.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,function(){r(this.name,this.value)});else for(n in t)Ee(n,t[n],e,r);return i.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Le.test(this.nodeName)&&!we.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,function(t){return{name:e.name,value:t.replace(xe,"\r\n")}}):{name:e.name,value:n.replace(xe,"\r\n")}}).get()}});var Ce=/%20/g,Se=/#.*$/,Ie=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Te=/^\/\//,Me={},Ae={},Oe="*/".concat("*"),Re=i.createElement("a");function De(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(D)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function ke(t,e,n,i){var r={},o=t===Ae;function s(a){var u;return r[a]=!0,b.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||r[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Fe(t,e){var n,i,r=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Re.href=ye.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,b.ajaxSettings),e):Fe(b.ajaxSettings,t)},ajaxPrefilter:De(Me),ajaxTransport:De(Ae),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0);var r,o,s,a,u,c,l,h,f,d,p=b.ajaxSetup({},n=n||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?b(g):b.event,y=b.Deferred(),v=b.Callbacks("once memory"),_=p.statusCode||{},x={},w={},L="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ne.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)E.always(t[E.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||L;return r&&r.abort(e),C(0,e),this}};if(y.promise(E),p.url=((e||p.url||ye.href)+"").replace(Te,ye.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(D)||[""],null==p.crossDomain){c=i.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Re.protocol+"//"+Re.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),ke(Me,p,n,E),l)return E;for(f in(h=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),o=p.url.replace(Se,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ce,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(_e.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ie,"$1"),d=(_e.test(o)?"&":"?")+"_="+ve+++d),p.url=o+d),p.ifModified&&(b.lastModified[o]&&E.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&E.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Oe+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,E,p)||l))return E.abort();if(L="abort",v.add(p.complete),E.done(p.success),E.fail(p.error),r=ke(Ae,p,n,E)){if(E.readyState=1,h&&m.trigger("ajaxSend",[E,p]),l)return E;p.async&&p.timeout>0&&(u=t.setTimeout(function(){E.abort("timeout")},p.timeout));try{l=!1,r.send(x,C)}catch(t){if(l)throw t;C(-1,t)}}else C(-1,"No Transport");function C(e,n,i,a){var c,f,d,x,w,L=n;l||(l=!0,u&&t.clearTimeout(u),r=void 0,s=a||"",E.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,E,i)),x=function(t,e,n,i){var r,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,x,E,c),c?(p.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=w),(w=E.getResponseHeader("etag"))&&(b.etag[o]=w)),204===e||"HEAD"===p.type?L="nocontent":304===e?L="notmodified":(L=x.state,f=x.data,c=!(d=x.error))):(d=L,!e&&L||(L="error",e<0&&(e=0))),E.status=e,E.statusText=(n||L)+"",c?y.resolveWith(g,[f,L,E]):y.rejectWith(g,[E,L,d]),E.statusCode(_),_=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[E,p,c?f:d]),v.fireWith(g,[E,L]),h&&(m.trigger("ajaxComplete",[E,p]),--b.active||b.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return b.get(t,e,n,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],function(t,e){b[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:r,data:n,success:i},b.isPlainObject(t)&&t))}}),b._evalUrl=function(t){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){b(this).wrapInner(t.call(this,e))}):this.each(function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){b(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Be=b.ajaxSettings.xhr();p.cors=!!Be&&"withCredentials"in Be,p.ajax=Be=!!Be,b.ajaxTransport(function(e){var n,i;if(p.cors||Be&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),b.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),b.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=b("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ue=[],Ge=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||b.expando+"_"+ve++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Ge.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,"$1"+r):!1!==e.jsonp&&(e.url+=(_e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||b.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?b(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ue.push(r)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=function(){var t=i.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),b.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((r=(e=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,e.head.appendChild(r)):e=i),o=N.exec(t),s=!n&&[],o?[e.createElement(o[1])]:(o=mt([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var r,o,s},b.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=he(t.slice(a)),t=t.slice(0,a)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&b.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?b("<div>").append(b.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){b.fn[e]=function(t){return this.on(e,t)}}),b.expr.pseudos.animated=function(t){return b.grep(b.timers,function(e){return t===e.elem}).length},b.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,c=b.css(t,"position"),l=b(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=b.css(t,"top"),u=b.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),g(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):l.css(h)}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){b.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===b.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),r.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-b.css(i,"marginTop",!0),left:e.left-r.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||yt})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;b.fn[t]=function(i){return q(this,function(t,i,r){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),b.each(["top","left"],function(t,e){b.cssHooks[e]=Ut(p.pixelPosition,function(t,n){if(n)return n=Bt(t,e),kt.test(n)?b(t).position()[e]+"px":n})}),b.each({Height:"height",Width:"width"},function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){b.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return q(this,function(e,n,r){var o;return m(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?b.css(e,n,a):b.style(e,n,r,a)},e,s?r:void 0,s)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),b.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),b.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,r},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=I,b.isFunction=g,b.isWindow=m,b.camelCase=Y,b.type=_,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var qe=t.jQuery,je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=je),e&&t.jQuery===b&&(t.jQuery=qe),b},e||(t.jQuery=t.$=b),b}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var s,a,u,c,l,h,f,d,p,g,m,y,v,_,b,x,w,L,E,C,S,I,N,P,T,M=function(t){var e=!1,n={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n,i=e.getAttribute("data-target");i&&"#"!==i||(i=e.getAttribute("href")||""),"#"===i.charAt(0)&&(n=i,i=n="function"==typeof t.escapeSelector?t.escapeSelector(n).substr(1):n.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return t(document).find(i).length>0?i:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],s=e[r],a=s&&n.isElement(s)?"element":{}.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}}};return e=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},t.fn.emulateTransitionEnd=function(e){var i=this,r=!1;return t(this).one(n.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||n.triggerTransitionEnd(i)},e),this},n.supportsTransitionEnd()&&(t.event.special[n.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),n}(e),A=(c="."+(u="bs.alert"),l=(s=e).fn[a="alert"],h={CLOSE:"close"+c,CLOSED:"closed"+c,CLICK_DATA_API:"click"+c+".data-api"},f="alert",d="fade",p="show",g=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._getRootElement(t=t||this._element);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){s.removeData(this._element,u),this._element=null},e._getRootElement=function(t){var e=M.getSelectorFromElement(t),n=!1;return e&&(n=s(e)[0]),n||(n=s(t).closest("."+f)[0]),n},e._triggerCloseEvent=function(t){var e=s.Event(h.CLOSE);return s(t).trigger(e),e},e._removeElement=function(t){var e=this;s(t).removeClass(p),M.supportsTransitionEnd()&&s(t).hasClass(d)?s(t).one(M.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(150):this._destroyElement(t)},e._destroyElement=function(t){s(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=s(this),i=n.data(u);i||(i=new t(this),n.data(u,i)),"close"===e&&i[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),s(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),s.fn[a]=g._jQueryInterface,s.fn[a].Constructor=g,s.fn[a].noConflict=function(){return s.fn[a]=l,g._jQueryInterface},g),O=(_="."+(v="bs.button"),x=(m=e).fn[y="button"],w="active",L="focus",E='[data-toggle^="button"]',C='[data-toggle="buttons"]',S="input",I=".active",N=".btn",P={CLICK_DATA_API:"click"+_+(b=".data-api"),FOCUS_BLUR_DATA_API:"focus"+_+b+" blur"+_+b},T=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=m(this._element).closest(C)[0];if(n){var i=m(this._element).find(S)[0];if(i){if("radio"===i.type)if(i.checked&&m(this._element).hasClass(w))t=!1;else{var r=m(n).find(I)[0];r&&m(r).removeClass(w)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!m(this._element).hasClass(w),m(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!m(this._element).hasClass(w)),t&&m(this._element).toggleClass(w)},e.dispose=function(){m.removeData(this._element,v),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var n=m(this).data(v);n||(n=new t(this),m(this).data(v,n)),"toggle"===e&&n[e]()})},r(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),m(document).on(P.CLICK_DATA_API,E,function(t){t.preventDefault();var e=t.target;m(e).hasClass("btn")||(e=m(e).closest(N)),T._jQueryInterface.call(m(e),"toggle")}).on(P.FOCUS_BLUR_DATA_API,E,function(t){var e=m(t.target).closest(N)[0];m(e).toggleClass(L,/^focus(in)?$/.test(t.type))}),m.fn[y]=T._jQueryInterface,m.fn[y].Constructor=T,m.fn[y].noConflict=function(){return m.fn[y]=x,T._jQueryInterface},T),R=function(t){var e="carousel",n="bs.carousel",i="."+n,s=t.fn[e],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c="next",l="prev",h={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load"+i+".data-api",CLICK_DATA_API:"click"+i+".data-api"},f="active",d={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},p=function(){function s(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(d.INDICATORS)[0],this._addEventListeners()}var p=s.prototype;return p.next=function(){this._isSliding||this._slide(c)},p.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},p.prev=function(){this._isSliding||this._slide(l)},p.pause=function(e){e||(this._isPaused=!0),t(this._element).find(d.NEXT_PREV)[0]&&M.supportsTransitionEnd()&&(M.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},p.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},p.to=function(e){var n=this;this._activeElement=t(this._element).find(d.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(h.SLID,function(){return n.to(e)});else{if(i===e)return this.pause(),void this.cycle();this._slide(e>i?c:l,this._items[e])}},p.dispose=function(){t(this._element).off(i),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},p._getConfig=function(t){return t=o({},a,t),M.typeCheckConfig(e,t,u),t},p._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(h.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(h.MOUSEENTER,function(t){return e.pause(t)}).on(h.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(h.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},p._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},p._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(d.ITEM)),this._items.indexOf(e)},p._getItemByDirection=function(t,e){var n=t===c,i=t===l,r=this._getItemIndex(e);if((i&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return e;var o=(r+(t===l?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},p._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),r=this._getItemIndex(t(this._element).find(d.ACTIVE_ITEM)[0]),o=t.Event(h.SLIDE,{relatedTarget:e,direction:n,from:r,to:i});return t(this._element).trigger(o),o},p._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(d.ACTIVE).removeClass(f);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(f)}},p._slide=function(e,n){var i,r,o,s=this,a=t(this._element).find(d.ACTIVE_ITEM)[0],u=this._getItemIndex(a),l=n||a&&this._getItemByDirection(e,a),p=this._getItemIndex(l),g=Boolean(this._interval);if(e===c?(i="carousel-item-left",r="carousel-item-next",o="left"):(i="carousel-item-right",r="carousel-item-prev",o="right"),l&&t(l).hasClass(f))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&a&&l){this._isSliding=!0,g&&this.pause(),this._setActiveIndicatorElement(l);var m=t.Event(h.SLID,{relatedTarget:l,direction:o,from:u,to:p});M.supportsTransitionEnd()&&t(this._element).hasClass("slide")?(t(l).addClass(r),M.reflow(l),t(a).addClass(i),t(l).addClass(i),t(a).one(M.TRANSITION_END,function(){t(l).removeClass(i+" "+r).addClass(f),t(a).removeClass(f+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return t(s._element).trigger(m)},0)}).emulateTransitionEnd(600)):(t(a).removeClass(f),t(l).addClass(f),this._isSliding=!1,t(this._element).trigger(m)),g&&this.cycle()}},s._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),r=o({},a,t(this).data());"object"==typeof e&&(r=o({},r,e));var u="string"==typeof e?e:r.slide;if(i||(i=new s(this,r),t(this).data(n,i)),"number"==typeof e)i.to(e);else if("string"==typeof u){if("undefined"==typeof i[u])throw new TypeError('No method named "'+u+'"');i[u]()}else r.interval&&(i.pause(),i.cycle())})},s._dataApiClickHandler=function(e){var i=M.getSelectorFromElement(this);if(i){var r=t(i)[0];if(r&&t(r).hasClass("carousel")){var a=o({},t(r).data(),t(this).data()),u=this.getAttribute("data-slide-to");u&&(a.interval=!1),s._jQueryInterface.call(t(r),a),u&&t(r).data(n).to(u),e.preventDefault()}}},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),s}();return t(document).on(h.CLICK_DATA_API,d.DATA_SLIDE,p._dataApiClickHandler),t(window).on(h.LOAD_DATA_API,function(){t(d.DATA_RIDE).each(function(){var e=t(this);p._jQueryInterface.call(e,e.data())})}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=s,p._jQueryInterface},p}(e),D=function(t){var e="collapse",n="bs.collapse",i="."+n,s=t.fn[e],a={toggle:!0,parent:""},u={toggle:"boolean",parent:"(string|element)"},c={SHOW:"show"+i,SHOWN:"shown"+i,HIDE:"hide"+i,HIDDEN:"hidden"+i,CLICK_DATA_API:"click"+i+".data-api"},l="show",h="collapse",f="collapsing",d="collapsed",p="width",g={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},m=function(){function i(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=t(g.DATA_TOGGLE),r=0;r<i.length;r++){var o=i[r],s=M.getSelectorFromElement(o);null!==s&&t(s).filter(e).length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var s=i.prototype;return s.toggle=function(){t(this._element).hasClass(l)?this.hide():this.show()},s.show=function(){var e,r,o=this;if(!(this._isTransitioning||t(this._element).hasClass(l)||(this._parent&&0===(e=t.makeArray(t(this._parent).find(g.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),e&&(r=t(e).not(this._selector).data(n))&&r._isTransitioning))){var s=t.Event(c.SHOW);if(t(this._element).trigger(s),!s.isDefaultPrevented()){e&&(i._jQueryInterface.call(t(e).not(this._selector),"hide"),r||t(e).data(n,null));var a=this._getDimension();t(this._element).removeClass(h).addClass(f),this._element.style[a]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass(d).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){t(o._element).removeClass(f).addClass(h).addClass(l),o._element.style[a]="",o.setTransitioning(!1),t(o._element).trigger(c.SHOWN)};if(M.supportsTransitionEnd()){var p="scroll"+(a[0].toUpperCase()+a.slice(1));t(this._element).one(M.TRANSITION_END,u).emulateTransitionEnd(600),this._element.style[a]=this._element[p]+"px"}else u()}}},s.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(l)){var n=t.Event(c.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",M.reflow(this._element),t(this._element).addClass(f).removeClass(h).removeClass(l),this._triggerArray.length>0)for(var r=0;r<this._triggerArray.length;r++){var o=this._triggerArray[r],s=M.getSelectorFromElement(o);null!==s&&(t(s).hasClass(l)||t(o).addClass(d).attr("aria-expanded",!1))}this.setTransitioning(!0);var a=function(){e.setTransitioning(!1),t(e._element).removeClass(f).addClass(h).trigger(c.HIDDEN)};this._element.style[i]="",M.supportsTransitionEnd()?t(this._element).one(M.TRANSITION_END,a).emulateTransitionEnd(600):a()}}},s.setTransitioning=function(t){this._isTransitioning=t},s.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},s._getConfig=function(t){return(t=o({},a,t)).toggle=Boolean(t.toggle),M.typeCheckConfig(e,t,u),t},s._getDimension=function(){return t(this._element).hasClass(p)?p:"height"},s._getParent=function(){var e=this,n=null;M.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each(function(t,n){e._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])}),n},s._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(l);n.length>0&&t(n).toggleClass(d,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(e){var n=M.getSelectorFromElement(e);return n?t(n)[0]:null},i._jQueryInterface=function(e){return this.each(function(){var r=t(this),s=r.data(n),u=o({},a,r.data(),"object"==typeof e&&e);if(!s&&u.toggle&&/show|hide/.test(e)&&(u.toggle=!1),s||(s=new i(this,u),r.data(n,s)),"string"==typeof e){if("undefined"==typeof s[e])throw new TypeError('No method named "'+e+'"');s[e]()}})},r(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),i}();return t(document).on(c.CLICK_DATA_API,g.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=t(this),r=M.getSelectorFromElement(this);t(r).each(function(){var e=t(this),r=e.data(n)?"toggle":i.data();m._jQueryInterface.call(e,r)})}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=s,m._jQueryInterface},m}(e),k=function(t){var e="dropdown",i="bs.dropdown",s="."+i,a=".data-api",u=t.fn[e],c=new RegExp("38|40|27"),l={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+a,KEYDOWN_DATA_API:"keydown"+s+a,KEYUP_DATA_API:"keyup"+s+a},h="disabled",f="show",d="dropup",p="dropdown-menu-right",g='[data-toggle="dropdown"]',m=".dropdown-menu",y={offset:0,flip:!0,boundary:"scrollParent"},v={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},_=function(){function a(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var u=a.prototype;return u.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(h)){var e=a._getParentFromElement(this._element),i=t(this._menu).hasClass(f);if(a._clearMenus(),!i){var r={relatedTarget:this._element},o=t.Event(l.SHOW,r);if(t(e).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;t(e).hasClass(d)&&(t(this._menu).hasClass("dropdown-menu-left")||t(this._menu).hasClass(p))&&(s=e),"scrollParent"!==this._config.boundary&&t(e).addClass("position-static"),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(".navbar-nav").length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(f),t(e).toggleClass(f).trigger(t.Event(l.SHOWN,r))}}}},u.dispose=function(){t.removeData(this._element,i),t(this._element).off(s),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},u.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},u._addEventListeners=function(){var e=this;t(this._element).on(l.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},u._getConfig=function(n){return n=o({},this.constructor.Default,t(this._element).data(),n),M.typeCheckConfig(e,n,this.constructor.DefaultType),n},u._getMenuElement=function(){if(!this._menu){var e=a._getParentFromElement(this._element);this._menu=t(e).find(m)[0]}return this._menu},u._getPlacement=function(){var e=t(this._element).parent(),n="bottom-start";return e.hasClass(d)?(n="top-start",t(this._menu).hasClass(p)&&(n="top-end")):e.hasClass("dropright")?n="right-start":e.hasClass("dropleft")?n="left-start":t(this._menu).hasClass(p)&&(n="bottom-end"),n},u._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},u._getPopperConfig=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(i);if(n||(n=new a(this,"object"==typeof e?e:null),t(this).data(i,n)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},a._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=t.makeArray(t(g)),r=0;r<n.length;r++){var o=a._getParentFromElement(n[r]),s=t(n[r]).data(i),u={relatedTarget:n[r]};if(s){var c=s._menu;if(t(o).hasClass(f)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(o,e.target))){var h=t.Event(l.HIDE,u);t(o).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),n[r].setAttribute("aria-expanded","false"),t(c).removeClass(f),t(o).removeClass(f).trigger(t.Event(l.HIDDEN,u)))}}}},a._getParentFromElement=function(e){var n,i=M.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},a._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(m).length)):c.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(h))){var n=a._getParentFromElement(this),i=t(n).hasClass(f);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var r=t(n).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(0!==r.length){var o=r.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===e.which){var s=t(n).find(g)[0];t(s).trigger("focus")}t(this).trigger("click")}}},r(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return y}},{key:"DefaultType",get:function(){return v}}]),a}();return t(document).on(l.KEYDOWN_DATA_API,g,_._dataApiKeydownHandler).on(l.KEYDOWN_DATA_API,m,_._dataApiKeydownHandler).on(l.CLICK_DATA_API+" "+l.KEYUP_DATA_API,_._clearMenus).on(l.CLICK_DATA_API,g,function(e){e.preventDefault(),e.stopPropagation(),_._jQueryInterface.call(t(this),"toggle")}).on(l.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=u,_._jQueryInterface},_}(e),F=function(t){var e="bs.modal",n="."+e,i=t.fn.modal,s={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,FOCUSIN:"focusin"+n,RESIZE:"resize"+n,CLICK_DISMISS:"click.dismiss"+n,KEYDOWN_DISMISS:"keydown.dismiss"+n,MOUSEUP_DISMISS:"mouseup.dismiss"+n,MOUSEDOWN_DISMISS:"mousedown.dismiss"+n,CLICK_DATA_API:"click"+n+".data-api"},c="modal-open",l="fade",h="show",f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},d=function(){function i(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(f.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var d=i.prototype;return d.toggle=function(t){return this._isShown?this.hide():this.show(t)},d.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){M.supportsTransitionEnd()&&t(this._element).hasClass(l)&&(this._isTransitioning=!0);var i=t.Event(u.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(c),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(u.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){t(n._element).one(u.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},d.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=t.Event(u.HIDE);if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=M.supportsTransitionEnd()&&t(this._element).hasClass(l);r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(u.FOCUSIN),t(this._element).removeClass(h),t(this._element).off(u.CLICK_DISMISS),t(this._dialog).off(u.MOUSEDOWN_DISMISS),r?t(this._element).one(M.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal()}}},d.dispose=function(){t.removeData(this._element,e),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},d.handleUpdate=function(){this._adjustDialog()},d._getConfig=function(t){return t=o({},s,t),M.typeCheckConfig("modal",t,a),t},d._showElement=function(e){var n=this,i=M.supportsTransitionEnd()&&t(this._element).hasClass(l);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&M.reflow(this._element),t(this._element).addClass(h),this._config.focus&&this._enforceFocus();var r=t.Event(u.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};i?t(this._dialog).one(M.TRANSITION_END,o).emulateTransitionEnd(300):o()},d._enforceFocus=function(){var e=this;t(document).off(u.FOCUSIN).on(u.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},d._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(u.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(u.KEYDOWN_DISMISS)},d._setResizeEvent=function(){var e=this;this._isShown?t(window).on(u.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(u.RESIZE)},d._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(c),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(u.HIDDEN)})},d._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},d._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(l)?l:"";if(this._isShown&&this._config.backdrop){var r=M.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(u.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),r&&M.reflow(this._backdrop),t(this._backdrop).addClass(h),!e)return;if(!r)return void e();t(this._backdrop).one(M.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(h);var o=function(){n._removeBackdrop(),e&&e()};M.supportsTransitionEnd()&&t(this._element).hasClass(l)?t(this._backdrop).one(M.TRANSITION_END,o).emulateTransitionEnd(150):o()}else e&&e()},d._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},d._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},d._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},d._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(f.FIXED_CONTENT).each(function(n,i){var r=t(i)[0].style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),t(f.STICKY_CONTENT).each(function(n,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}),t(f.NAVBAR_TOGGLER).each(function(n,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)+e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=t("body").css("padding-right");t("body").data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},d._resetScrollbar=function(){t(f.FIXED_CONTENT).each(function(e,n){var i=t(n).data("padding-right");"undefined"!=typeof i&&t(n).css("padding-right",i).removeData("padding-right")}),t(f.STICKY_CONTENT+", "+f.NAVBAR_TOGGLER).each(function(e,n){var i=t(n).data("margin-right");"undefined"!=typeof i&&t(n).css("margin-right",i).removeData("margin-right")});var e=t("body").data("padding-right");"undefined"!=typeof e&&t("body").css("padding-right",e).removeData("padding-right")},d._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},i._jQueryInterface=function(n,r){return this.each(function(){var s=t(this).data(e),a=o({},i.Default,t(this).data(),"object"==typeof n&&n);if(s||(s=new i(this,a),t(this).data(e,s)),"string"==typeof n){if("undefined"==typeof s[n])throw new TypeError('No method named "'+n+'"');s[n](r)}else a.show&&s.show(r)})},r(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return s}}]),i}();return t(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(n){var i,r=this,s=M.getSelectorFromElement(this);s&&(i=t(s)[0]);var a=t(i).data(e)?"toggle":o({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var c=t(i).one(u.SHOW,function(e){e.isDefaultPrevented()||c.one(u.HIDDEN,function(){t(r).is(":visible")&&r.focus()})});d._jQueryInterface.call(t(i),a,this)}),t.fn.modal=d._jQueryInterface,t.fn.modal.Constructor=d,t.fn.modal.noConflict=function(){return t.fn.modal=i,d._jQueryInterface},d}(e),z=function(t){var e="tooltip",i="bs.tooltip",s="."+i,a=t.fn[e],u=new RegExp("(^|\\s)bs-tooltip\\S+","g"),c={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},l={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},h={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},f="show",d="out",p={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},g="fade",m="show",y="hover",v="focus",_=function(){function a(t,e){if("undefined"==typeof n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var _=a.prototype;return _.enable=function(){this._isEnabled=!0},_.disable=function(){this._isEnabled=!1},_.toggleEnabled=function(){this._isEnabled=!this._isEnabled},_.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(m))return void this._leave(null,this);this._enter(null,this)}},_.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},_.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var o=this.getTipElement(),s=M.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(o).addClass(g);var u="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var l=!1===this.config.container?document.body:t(this.config.container);t(o).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(o).appendTo(l),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(o).addClass(m),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var h=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===d&&e._leave(null,e)};M.supportsTransitionEnd()&&t(this.tip).hasClass(g)?t(this.tip).one(M.TRANSITION_END,h).emulateTransitionEnd(a._TRANSITION_DURATION):h()}},_.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==f&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(r),r.isDefaultPrevented()||(t(i).removeClass(m),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger[v]=!1,this._activeTrigger[y]=!1,M.supportsTransitionEnd()&&t(this.tip).hasClass(g)?t(i).one(M.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},_.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},_.isWithContent=function(){return Boolean(this.getTitle())},_.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},_.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},_.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".tooltip-inner"),this.getTitle()),e.removeClass(g+" "+m)},_.setElementContent=function(e,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},_.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},_._getAttachment=function(t){return l[t.toUpperCase()]},_._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if("manual"!==n){var i=n===y?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===y?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},_._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},_._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?v:y]=!0),t(n.getTipElement()).hasClass(m)||n._hoverState===f?n._hoverState=f:(clearTimeout(n._timeout),n._hoverState=f,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===f&&n.show()},n.config.delay.show):n.show())},_._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?v:y]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===d&&n.hide()},n.config.delay.hide):n.hide())},_._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},_._getConfig=function(n){return"number"==typeof(n=o({},this.constructor.Default,t(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),M.typeCheckConfig(e,n,this.constructor.DefaultType),n},_._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},_._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(u);null!==n&&n.length>0&&e.removeClass(n.join(""))},_._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},_._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(g),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(i),r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new a(this,r),t(this).data(i,n)),"string"==typeof e)){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return c}}]),a}();return t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=a,_._jQueryInterface},_}(e),B=function(t){var e="popover",n="bs.popover",i="."+n,s=t.fn[e],a=new RegExp("(^|\\s)bs-popover\\S+","g"),u=o({},z.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),c=o({},z.DefaultType,{content:"(string|element|function)"}),l={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},h=function(o){var s,h;function f(){return o.apply(this,arguments)||this}h=o,(s=f).prototype=Object.create(h.prototype),s.prototype.constructor=s,s.__proto__=h;var d=f.prototype;return d.isWithContent=function(){return this.getTitle()||this._getContent()},d.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},d.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},d.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(".popover-body"),n),e.removeClass("fade show")},d._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},d._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length>0&&e.removeClass(n.join(""))},f._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),r="object"==typeof e?e:null;if((i||!/destroy|hide/.test(e))&&(i||(i=new f(this,r),t(this).data(n,i)),"string"==typeof e)){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(f,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return u}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return c}}]),f}(z);return t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=s,h._jQueryInterface},h}(e),U=function(t){var e="scrollspy",n="bs.scrollspy",i="."+n,s=t.fn[e],a={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},c={ACTIVATE:"activate"+i,SCROLL:"scroll"+i,LOAD_DATA_API:"load"+i+".data-api"},l="active",h={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},f="position",d=function(){function s(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+h.NAV_LINKS+","+this._config.target+" "+h.LIST_ITEMS+","+this._config.target+" "+h.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(c.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var d=s.prototype;return d.refresh=function(){var e=this,n="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":f:this._config.method,i=n===f?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var r,o=M.getSelectorFromElement(e);if(o&&(r=t(o)[0]),r){var s=r.getBoundingClientRect();if(s.width||s.height)return[t(r)[n]().top+i,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},d.dispose=function(){t.removeData(this._element,n),t(this._scrollElement).off(i),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},d._getConfig=function(n){if("string"!=typeof(n=o({},a,n)).target){var i=t(n.target).attr("id");i||(i=M.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return M.typeCheckConfig(e,n,u),n},d._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},d._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},d._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},d._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},d._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t(n.join(","));i.hasClass("dropdown-item")?(i.closest(h.DROPDOWN).find(h.DROPDOWN_TOGGLE).addClass(l),i.addClass(l)):(i.addClass(l),i.parents(h.NAV_LIST_GROUP).prev(h.NAV_LINKS+", "+h.LIST_ITEMS).addClass(l),i.parents(h.NAV_LIST_GROUP).prev(h.NAV_ITEMS).children(h.NAV_LINKS).addClass(l)),t(this._scrollElement).trigger(c.ACTIVATE,{relatedTarget:e})},d._clear=function(){t(this._selector).filter(h.ACTIVE).removeClass(l)},s._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n);if(i||(i=new s(this,"object"==typeof e&&e),t(this).data(n,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),s}();return t(window).on(c.LOAD_DATA_API,function(){for(var e=t.makeArray(t(h.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);d._jQueryInterface.call(i,i.data())}}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=s,d._jQueryInterface},d}(e),G=function(t){var e="bs.tab",n="."+e,i=t.fn.tab,o={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK_DATA_API:"click.bs.tab.data-api"},s="active",a="show",u=".active",c="> li > .active",l=function(){function n(t){this._element=t}var i=n.prototype;return i.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(s)||t(this._element).hasClass("disabled"))){var n,i,r=t(this._element).closest(".nav, .list-group")[0],a=M.getSelectorFromElement(this._element);if(r){var l="UL"===r.nodeName?c:u;i=(i=t.makeArray(t(r).find(l)))[i.length-1]}var h=t.Event(o.HIDE,{relatedTarget:this._element}),f=t.Event(o.SHOW,{relatedTarget:i});if(i&&t(i).trigger(h),t(this._element).trigger(f),!f.isDefaultPrevented()&&!h.isDefaultPrevented()){a&&(n=t(a)[0]),this._activate(this._element,r);var d=function(){var n=t.Event(o.HIDDEN,{relatedTarget:e._element}),r=t.Event(o.SHOWN,{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}},i.dispose=function(){t.removeData(this._element,e),this._element=null},i._activate=function(e,n,i){var r=this,o=("UL"===n.nodeName?t(n).find(c):t(n).children(u))[0],s=i&&M.supportsTransitionEnd()&&o&&t(o).hasClass("fade"),a=function(){return r._transitionComplete(e,o,i)};o&&s?t(o).one(M.TRANSITION_END,a).emulateTransitionEnd(150):a()},i._transitionComplete=function(e,n,i){if(n){t(n).removeClass(a+" "+s);var r=t(n.parentNode).find("> .dropdown-menu .active")[0];r&&t(r).removeClass(s),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(s),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),M.reflow(e),t(e).addClass(a),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){var o=t(e).closest(".dropdown")[0];o&&t(o).find(".dropdown-toggle").addClass(s),e.setAttribute("aria-expanded",!0)}i&&i()},n._jQueryInterface=function(i){return this.each(function(){var r=t(this),o=r.data(e);if(o||(o=new n(this),r.data(e,o)),"string"==typeof i){if("undefined"==typeof o[i])throw new TypeError('No method named "'+i+'"');o[i]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),n}();return t(document).on(o.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),l._jQueryInterface.call(t(this),"show")}),t.fn.tab=l._jQueryInterface,t.fn.tab.Constructor=l,t.fn.tab.noConflict=function(){return t.fn.tab=i,l._jQueryInterface},l}(e);!function(t){if("undefined"==typeof t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=M,t.Alert=A,t.Button=O,t.Carousel=R,t.Collapse=D,t.Dropdown=k,t.Modal=F,t.Popover=B,t.Scrollspy=U,t.Tab=G,t.Tooltip=z,Object.defineProperty(t,"__esModule",{value:!0})}),window,document,L.LinearFunction=L.Class.extend({options:{constrainX:!1},initialize:function(t,e,n){this.setOptions(n),this.setRange(t,e)},_calculateParameters:function(t,e){0===this._xRange?(this._slope=0,this._b=t.y):(this._slope=(e.y-t.y)/this._xRange,this._b=t.y-this._slope*t.x)},_arrayToPoint:function(t){return{x:t[0],y:t[1]}},setOptions:function(t){L.Util.setOptions(this,t),this._preProcess=this.options.preProcess,this._postProcess=this.options.postProcess},getBounds:function(){var t=Math.min(this._minPoint.x,this._maxPoint.x),e=Math.max(this._minPoint.x,this._maxPoint.x),n=Math.min(this._minPoint.y,this._maxPoint.y),i=Math.max(this._minPoint.y,this._maxPoint.y);return[new L.Point(t,n),new L.Point(e,i)]},setRange:function(t,e){return t=t instanceof Array?this._arrayToPoint(t):t,e=e instanceof Array?this._arrayToPoint(e):e,this._minPoint=t,this._maxPoint=e,this._xRange=e.x-t.x,this._yRange=e.y-t.y,this._calculateParameters(t,e),this},setMin:function(t){return this.setRange(t,this._maxPoint),this},setMax:function(t){return this.setRange(this._minPoint,t),this},setPreProcess:function(t){return this._preProcess=t,this},setPostProcess:function(t){return this._postProcess=t,this},constrainX:function(t){return t=Number(t),this.options.constrainX&&(t=Math.max(t,this._minPoint.x),t=Math.min(t,this._maxPoint.x)),t},evaluate:function(t){var e;return this._preProcess&&(t=this._preProcess(t)),e=Number((this._slope*t).toFixed(6))+Number(this._b.toFixed(6)),this._postProcess&&(e=this._postProcess(e,t)),e},random:function(){var t=Math.random()*this._xRange+this._minPoint.x;return this.evaluate(t)},sample:function(t){t=Math.max(t,2);for(var e=this._xRange/(t-1),n=this._minPoint.x,i=[];n<=this._maxPoint.x;)i.push(this.evaluate(n)),n+=e;return i},evaluatePercent:function(t){return this.getPointAtPercent(t).y},getPointAtPercent:function(t){return new L.Point(this._minPoint.x+this._xRange*t,this._minPoint.y+this._yRange*t)},samplePoints:function(t){t=Math.max(t,2);for(var e=this._xRange/(t-1),n=this._minPoint.x,i=[];n<=this._maxPoint.x;)i.push(new L.Point(n,this.evaluate(n))),n+=e;return i},getIntersectionPoint:function(t){var e=null;if(this._slope!==t._slope){var n=(this._b-t._b)/(t._slope-this._slope),i=this.evaluate(n);e=new L.Point(n,i)}return e}}),L.ColorFunction=L.LinearFunction.extend({options:{alpha:1,includeAlpha:!1},initialize:function(t,e,n){L.Util.setOptions(this,n),this._parts=[],this._dynamicPart=null,this._outputPrecision=0,this._prefix=null,this._formatOutput=function(t){return t.toFixed(this._outputPrecision)},this._mapOutput=function(t){for(var e=[],n=0,i=this._parts.length;i>n;++n)e.push(t[this._parts[n]]);return this.options.includeAlpha&&e.push(this.options.alpha),e},this._getColorString=function(t){t=this._formatOutput(t),this.options[this._dynamicPart]=t;var e=this._mapOutput(this.options);return this._writeColor(this._prefix,e)},this._writeColor=function(t,e){return this.options.includeAlpha&&(t+="a"),t+"("+e.join(",")+")"},n=L.extend({},this.options),L.LinearFunction.prototype.initialize.call(this,t,e,{preProcess:this.options.preProcess,postProcess:function(t){n&&n.postProcess&&(t=n.postProcess.call(this,t));var e=this._getColorString(t);return(L.Browser.ie&&e.indexOf("hsl")>-1||n.rgb)&&(e=L.hslColor(e).toRGBString()),e}})}}),L.HSLColorFunction=L.ColorFunction.extend({initialize:function(t,e,n){L.ColorFunction.prototype.initialize.call(this,t,e,n),this._parts=["outputHue","outputSaturation","outputLuminosity"],this._prefix="hsl",this._outputPrecision=2}}),L.RGBColorFunction=L.ColorFunction.extend({initialize:function(t,e,n){L.ColorFunction.prototype.initialize.call(this,t,e,n),this._parts=["outputRed","outputBlue","outputGreen"],this._prefix="rgb",this._outputPrecision=0}}),L.RGBRedFunction=L.LinearFunction.extend({options:{outputGreen:0,outputBlue:0},initialize:function(t,e,n){L.RGBColorFunction.prototype.initialize.call(this,t,e,n),this._dynamicPart="outputRed"}}),L.RGBBlueFunction=L.LinearFunction.extend({options:{outputRed:0,outputGreen:0},initialize:function(t,e,n){L.RGBColorFunction.prototype.initialize.call(this,t,e,n),this._dynamicPart="outputBlue"}}),L.RGBGreenFunction=L.LinearFunction.extend({options:{outputRed:0,outputBlue:0},initialize:function(t,e,n){L.RGBColorFunction.prototype.initialize.call(this,t,e,n),this._dynamicPart="outputGreen"}}),L.RGBColorBlendFunction=L.LinearFunction.extend({initialize:function(t,e,n,i){n=new L.RGBColor(n),i=new L.RGBColor(i);var r=n.r(),o=i.r(),s=n.g(),a=i.g(),u=n.b(),c=i.b();this._minX=t,this._maxX=e,this._xRange=e-t,this._minPoint=new L.Point(t,n),this._maxPoint=new L.Point(e,i),this._redFunction=new L.LinearFunction(new L.Point(t,r),new L.Point(e,o)),this._greenFunction=new L.LinearFunction(new L.Point(t,s),new L.Point(e,a)),this._blueFunction=new L.LinearFunction(new L.Point(t,u),new L.Point(e,c))},getBounds:function(){var t=this._redFunction.getBounds(),e=this._greenFunction.getBounds(),n=this._blueFunction.getBounds(),i=Math.min(t[0].y,e[0].y,n[0].y),r=Math.max(t[0].y,e[0].y,n[0].y);return[new L.Point(t[0].x,i),new L.Point(t[1].x,r)]},evaluate:function(t){return new L.RGBColor([this._redFunction.evaluate(t),this._greenFunction.evaluate(t),this._blueFunction.evaluate(t)]).toRGBString()}}),L.HSLHueFunction=L.HSLColorFunction.extend({options:{outputSaturation:"100%",outputLuminosity:"50%"},initialize:function(t,e,n){L.HSLColorFunction.prototype.initialize.call(this,t,e,n),this._dynamicPart="outputHue"}}),L.HSLSaturationFunction=L.LinearFunction.extend({options:{outputHue:0,outputLuminosity:"50%"},initialize:function(t,e,n){L.HSLColorFunction.prototype.initialize.call(this,t,e,n),this._formatOutput=function(t){return(100*t).toFixed(this._outputPrecision)+"%"},this._dynamicPart="outputSaturation"}}),L.HSLLuminosityFunction=L.LinearFunction.extend({options:{outputHue:0,outputSaturation:"100%"},initialize:function(t,e,n){L.HSLColorFunction.prototype.initialize.call(this,t,e,n),this._formatOutput=function(t){return(100*t).toFixed(this._outputPrecision)+"%"},this._dynamicPart="outputLuminosity"}}),L.HSLColorBlendFunction=L.LinearFunction.extend({initialize:function(t,e,n,i){n=new L.HSLColor(n),i=new L.HSLColor(i);var r=n.h(),o=i.h(),s=n.s(),a=i.s(),u=n.l(),c=i.l();this._minX=t,this._maxX=e,this._hueFunction=new L.LinearFunction(new L.Point(t,r),new L.Point(e,o)),this._saturationFunction=new L.LinearFunction(new L.Point(t,s),new L.Point(e,a)),this._luminosityFunction=new L.LinearFunction(new L.Point(t,u),new L.Point(e,c))},getBounds:function(){var t=this._hueFunction.getBounds(),e=this._saturationFunction.getBounds(),n=this._luminosityFunction.getBounds(),i=Math.min(t[0].y,e[0].y,n[0].y),r=Math.max(t[0].y,e[0].y,n[0].y);return[new L.Point(t[0].x,i),new L.Point(t[1].x,r)]},evaluate:function(t){return new L.HSLColor([this._hueFunction.evaluate(t),this._saturationFunction.evaluate(t),this._luminosityFunction.evaluate(t)]).toHSLString()}}),L.PiecewiseFunction=L.LinearFunction.extend({options:{constrainX:!0},initialize:function(t,e){var n,i;L.Util.setOptions(this,e),this._functions=t,n=t[0].getBounds()[0],i=t[t.length-1].getBounds()[1],L.LinearFunction.prototype.initialize.call(this,n,i,{preProcess:this.options.preProcess,postProcess:this.options.postProcess})},_getFunction:function(t){var e,n;if(t<this._minPoint.x)n=this._functions[0];else if(t>=this._maxPoint.x)n=this._functions[this._functions.length-1];else for(var i=0;i<this._functions.length&&!(t>=(e=(n=this._functions[i]).getBounds())[0].x&&t<e[1].x);++i);return n},evaluate:function(t){var e,n=null;return t=this.constrainX(t),this._preProcess&&(t=this._preProcess(t)),(e=this._getFunction(t))&&(n=e.evaluate(t),this._postProcess&&(n=this._postProcess(n,t))),n}}),L.ColorClassFunction=L.PiecewiseFunction.extend({options:{interpolate:!1},initialize:function(t,e,n){var i,r=[];L.Util.setOptions(this,n);for(var o=0,s=t.length-1;s>o;++o){var a=t[o],u=t[o+1],c=e[o],l=this.options.interpolate?e[Math.min(e.length-1,o+1)]:e[o];i=new L.RGBColorBlendFunction(a,u,c,l),r.push(i)}L.PiecewiseFunction.prototype.initialize.call(this,r)}}),L.CustomColorFunction=L.PiecewiseFunction.extend({options:{interpolate:!0},initialize:function(t,e,n,i){L.setOptions(this,i);for(var r,o,s=this.options.interpolate?n.length-1:n.length,a=[],u=new L.LinearFunction([0,t],[s,e]),c=0;s>c;++c)o=c+1,r=this.options.interpolate?new L.RGBColorBlendFunction(u.evaluate(c),u.evaluate(o),n[c],n[o]):new L.RGBColorBlendFunction(u.evaluate(c),u.evaluate(o),n[c],n[c]),a.push(r);u=null,L.PiecewiseFunction.prototype.initialize.call(this,a)}}),L.CategoryFunction=L.Class.extend({initialize:function(t,e){L.Util.setOptions(this,e),this._categoryKeys=Object.keys(t),this._categoryMap=t,this._preProcess=this.options.preProcess,this._postProcess=this.options.postProcess},evaluate:function(t){var e;return this._preProcess&&(t=this._preProcess(t)),e=this._categoryMap[t],this._postProcess&&(e=this._postProcess(e,t)),e},getCategories:function(){return this._categoryKeys}}),L.categoryFunction=function(t,e){return new L.CategoryFunction(t,e)},function(t,e){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,i=this.length;i>n;n++)if(this[n]===t)return n;return-1}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){var o,s,a;if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");for(s in o=[],r)t.call(r,s)&&o.push(s);if(e)for(a=0;i>a;a++)t.call(r,n[a])&&o.push(n[a]);return o}}()),L.Util.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},L.Util.getProperty=function(t,e,n){return e in t?t[e]:n},L.Util.setFieldValue=function(t,e,n){for(var i,r=e.split("."),o=t,s=0,a=r.length-1;a>s;++s)o[i=r[s]]=o[i]||{},o=o[i];o[r[r.length-1]]=n},L.Util.getFieldValue=function(t,e){var n=null;if(e){for(var i,r,o,s,a,u,c,l=e.split("."),h=t,f=-1,d=0,p=l.length;p>d;++d)if((f=(i=l[d]).indexOf("["))>-1){u=i.substring(f),i=i.substring(0,f),o=(r=(u=u.replace("[","").replace("]","")).split("="))[0],s=r[1],h=h[i];for(var g=0;g<h.length;++g)(c=(a=h[g])[o])&&c===s&&(h=a)}else{if(!h||!h.hasOwnProperty(i)){h=null;break}h=h[i]}n=h}else n=t;return n},L.Util.getNumericRange=function(t,e){var n=Number.MAX_VALUE,i=Number.MIN_VALUE;for(var r in t)if(t.hasOwnProperty(r)){var o=L.Util.getFieldValue(t[r],e);n=Math.min(n,o),i=Math.max(i,o)}return[n,i]},L.Util.pointToGeoJSON=function(){var t,e={type:"Feature",geometry:{type:"Point",coordinates:[this._latlng[1],this._latlng[0]]},properties:{}};for(t in this.options)if(this.options.hasOwnProperty(t)){var n=this.options[t];"function"!=typeof n&&(e.properties[t]=n)}for(t in legendOptions)if(legendOptions.hasOwnProperty(t)){var i=legendOptions[t],r=i.displayName||t,o=L.DomUtil.create("div","data-layer-legend",legend),s=L.DomUtil.create("div","legend-box",o);L.DomUtil.create("div","key",o).innerHTML=r,L.StyleConverter.applySVGStyle(s,i)}return e},L.Util.updateLayer=function(t,e){!t.eachLayer||t instanceof L.FeatureGroup?e.call(this,t):t.eachLayer(function(t){L.Util.updateLayer(t,e)})},L.CategoryLegend=L.Class.extend({initialize:function(t){L.setOptions(this,t)},generate:function(t){t=t||{};var n=e.createElement("div"),i=L.DomUtil.create("div","legend",n),r=t.className,o=this.options;for(var s in r&&L.DomUtil.addClass(i,r),t.title&&(L.DomUtil.create("div","legend-title",i).innerHTML=t.title),o){categoryOptions=o[s];var a=categoryOptions.displayName||s,u=L.DomUtil.create("div","data-layer-legend",i),c=L.DomUtil.create("div","legend-box",u);L.DomUtil.create("div","key",u).innerHTML=a,L.StyleConverter.applySVGStyle(c,categoryOptions)}return n.innerHTML}}),L.LegendIcon=L.DivIcon.extend({initialize:function(t,n,i){var r,o=e.createDocumentFragment(),s=e.createElement("div","",o),a=L.DomUtil.create("div","legend",s),u=L.DomUtil.create("div","title",a),c=L.DomUtil.create("div","legend-box",a),l=L.DomUtil.create("div","legend-values",a),h=n.title||n.name;for(var f in h&&(u.innerHTML=h),t)r=t[f],L.DomUtil.create("div","key",l).innerHTML=r.name||f,L.DomUtil.create("div","value",l).innerHTML=r.value;L.StyleConverter.applySVGStyle(c,n),i.html=s.innerHTML,i.className=i.className||"legend-icon",L.DivIcon.prototype.initialize.call(this,i)}}),L.legendIcon=function(t,e,n){return new L.LegendIcon(t,e,n)},L.GeometryUtils={getName:function(t){var e=null;if(t&&t.features)for(var n=0;n<t.features.length;++n){var i=t.features[n];if(i.properties&&i.properties.name){e=i.properties.name;break}}return e},getGeoJSONLocation:function(t,e,n,i){var r=function(t){return L.Util.getFieldValue(t,n)};n&&"function"==typeof n&&(r=n);var o=new L.GeoJSON(t,{pointToLayer:function(t,n){var o={location:n,text:r?r(e):[n.lat.toFixed(3),n.lng.toFixed(3)].join(", "),center:n};return i(o,e)}}),s=null;try{s=L.GeometryUtils.loadCentroid(t)}catch(e){console.log("Error loading centroid for "+JSON.stringify(t))}return{location:o,text:r?r(e):null,center:s}},mergeProperties:function(t,e,n){var i,r,o=L.GeometryUtils.indexFeatureCollection(e.features,n),s={type:"FeatureCollection",features:[]};for(var a in t)if(t.hasOwnProperty(a)&&(r=(i=t[a])[n])){var u=o[r];for(var c in i)u.properties[c]=i[c];s.features.push(u)}return s},indexFeatureCollection:function(t,e){for(var n,i,r=t.features,o={},s=0;s<r.length;++s)if((i=(n=r[s]).properties[e])in o){var a=o[i];"GeometryCollection"!==a.geometry.type?o[i]={type:"Feature",geometry:{type:"GeometryCollection",geometries:[n.geometry,a.geometry]}}:a.geometry.geometries.push(n.geometry)}else o[i]=n;return o},arrayToMap:function(t,e,n){for(var i,r={},o=0;o<t.length;++o)r[(i=t[o])[e]]=n?i[n]:i;return r},arrayToMaps:function(t,e){for(var n,i,r,o=[],s=0,a=e.length;a>s;++s)o.push({});for(var u=0;u<t.length;++u){n=t[u];for(var c=0;c<e.length;++c)o[c][n[(i=e[c]).from]]=(r=i.to)?n[r]:n}return o},loadCentroid:function(t){var e,n,i,r=null;if(t.geometry&&"Point"===t.geometry.type)r=new L.LatLng(t.geometry.coordinates[1],t.geometry.coordinates[0]);else if("undefined"!=typeof jsts){var o=(new jsts.io.GeoJSONParser).read(t);if(o.getCentroid)n=(e=o.getCentroid()).coordinate.x,i=e.coordinate.y;else if(o.features){for(var s=0,a=0,u=0,c=o.features.length;c>u;++u)s+=(e=o.features[u].geometry.getCentroid()).coordinate.x,a+=e.coordinate.y;n=s/o.features.length,i=a/o.features.length}else n=(e=o.geometry.getCentroid()).coordinate.x,i=e.coordinate.y;r=new L.LatLng(i,n)}return r},loadCentroids:function(t){var e={};for(var n in t)e[n]=L.GeometryUtils.loadCentroid(t[n]);return e}},L.SVGPathBuilder=L.Class.extend({initialize:function(t,e,n){this._points=t||[],this._innerPoints=e||[],L.setOptions(this,n)},options:{closePath:!0},_getPathString:function(t,e){var n="";if(t.length>0){var i=t[0];e=null!==e?e:2;var r="M",o="L",s="Z";L.Browser.vml&&(e=0,r="m",o="l",s="xe"),n=r+i.x.toFixed(e)+" "+i.y.toFixed(e);for(var a=1;a<t.length;a++)n+=o+(i=t[a]).x.toFixed(e)+" "+i.y.toFixed(e);this.options.closePath&&(n+=s)}return n},addPoint:function(t,e){e?this._innerPoints.push(t):this._points.push(t)},build:function(t){var e=this._getPathString(this._points,t=t||this.options.digits);return this._innerPoints&&(e+=this._getPathString(this._innerPoints,t)),e}}),L.StyleConverter={keyMap:{fillColor:{property:["background-color"],valueFunction:function(t){return t}},color:{property:["color","border-top-color","border-right-color","border-bottom-color","border-left-color"],valueFunction:function(t){return t}},weight:{property:["border-width"],valueFunction:function(t){return Math.ceil(t)+"px"}},lineWeight:{property:["border-width"],valueFunction:function(t){return Math.ceil(t)+"px"}},stroke:{property:["border-style"],valueFunction:function(t){return!0===t?"solid":"none"}},dashArray:{property:["border-style"],valueFunction:function(t){var e="solid";return t&&(e="dashed"),e}},barThickness:{property:["height"],valueFunction:function(t){return t+"px"}},radius:{property:["height"],valueFunction:function(t){return 2*t+"px"}},radiusY:{property:["height"],valueFunction:function(t){return 2*t+"px"}},fillOpacity:{property:["opacity"],valueFunction:function(t){return t}}},applySVGStyle:function(t,e,n){var i=L.StyleConverter.keyMap;for(var r in n&&(i=L.Util.extend(i,n)),t.style.borderStyle="solid",e)L.StyleConverter.setCSSProperty(t,r,e[r],i);return t},setCSSProperty:function(t,e,n,i){var r=(i=i||L.StyleConverter.keyMap)[e],o="";if(r)for(var s=r.property,a=0,u=s.length;u>a;++a)o+=s[a]+":"+r.valueFunction(n)+";";return t.style.cssText+=o,t}},L.StylesBuilder=L.Class.extend({initialize:function(t,e){this._categories=t,this._styleFunctionMap=e,this._buildStyles()},_buildStyles:function(){for(var t,e,n,i={},r=0;r<this._categories.length;++r)for(var o in i[t=this._categories[r]]={},this._styleFunctionMap)n=(e=this._styleFunctionMap[o]).evaluate?e.evaluate(r):"function"==typeof e?e(r):e,i[t][o]=n;this._styleMap=i},getStyles:function(){return this._styleMap}}),L.PaletteBuilder=L.Class.extend({initialize:function(t){this._styleFunctionMap=t},generate:function(t){t=t||{};var n=e.createElement("div"),i=L.DomUtil.create("div","palette",n),r=function(t){for(var e=[],n=0;t>n;++n)e.push(n);return e}(t.count||10),o=new L.StylesBuilder(r,this._styleFunctionMap).getStyles();for(var s in t.className&&L.DomUtil.addClass(i,t.className),o){var a=L.DomUtil.create("i","palette-element",i);L.StyleConverter.applySVGStyle(a,o[s])}return n.innerHTML}}),L.HTMLUtils={buildTable:function(t,n,i){function r(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return!0;return!1}n=n||"table table-condensed table-striped table-bordered";for(var o=e.createDocumentFragment(),s=L.DomUtil.create("table",n,o),a=L.DomUtil.create("thead","",s),u=L.DomUtil.create("tbody","",s),c=L.DomUtil.create("tr","",a),l=["Name","Value"],h=0,f=l.length;f>h;h++)L.DomUtil.create("th","",c).innerHTML=l[h];for(var d in i=i||[],t)if(t.hasOwnProperty(d)&&!r(i,d)){var p=t[d];if("object"==typeof p){var g=e.createElement("div");g.appendChild(L.HTMLUtils.buildTable(p,n,i)),p=g.innerHTML}var m=L.DomUtil.create("tr","",u),y=[d,p];for(h=0,f=y.length;f>h;h++)L.DomUtil.create("td","",m).innerHTML=y[h]}return s}},L.AnimationUtils={easingFunctions:{linear:function(t,e){return t/e},easeIn:function(t,e){return Math.pow(t/e,5)},easeOut:function(t,e){return 1-Math.pow(1-t/e,5)},easeInOut:function(t,e){return 1>(t/=e/2)?.5*Math.pow(t,4):(t-=2,-.5*(Math.pow(t,4)-2))}},animate:function(t,e){var n=e.from||{},i=e.to||{},r=e.duration||500,o={},s=e.easing||L.AnimationUtils.easingFunctions.linear,a=e.animationEnd;for(var u in n)if("color"!==u&&"fillColor"!==u&&"position"!==u&&i[u])o[u]=new L.LinearFunction([0,n[u]],[1,i[u]]);else if("color"!==u&&"fillColor"!==u||n[u]===i[u])"position"===u&&i[u]&&(o[u]=new L.LinearFunction([n[u].x,n[u].y],[i[u].x,i[u].y],{postProcess:function(t,e){return{x:e,y:t}}}));else{var c=L.Color.getColor(n[u]),l=L.Color.getColor(i[u]);o[u]=new L.RGBColorBlendFunction(0,1,c.toRGBString(),l.toRGBString())}var h={},f=+new Date,d=function(){var e=+new Date-f,n=s(e,r);if(1>n){for(var i in o)h[i]=o[i].evaluate(n);t.options=L.extend({},t.options,h),t.setStyle(t.options).redraw(),t._animId=L.Util.requestAnimFrame(d)}else L.Util.cancelAnimFrame(t._animId),t._animId=null,a&&a()};t._animId=L.Util.requestAnimFrame(d)},buildDistanceIndex:function(t){var e={},n=0;e.index=[0];for(var i=0,r=t.length;r-1>i;++i)n+=t[i].distanceTo(t[i+1]),e.index.push(n);return e.totalDistance=n,e},distanceToPoints:function(t,e,n,i){var r={};if(n>=e.totalDistance)r.distances=[e.totalDistance,e.totalDistance],r.points=[t[t.length-1],t[t.length-1]],r.index=t.length-1;else for(var o=i,s=e.index.length;s-1>o;++o)if(n>=e.index[o]&&n<e.index[o+1]){r.distances=[e.index[o],e.index[o+1]],r.points=[t[o],t[o+1]],r.index=o;break}return r},getInterpolator:function(t){return new L.LinearFunction([t[0].lng,t[0].lat],[t[1].lng,t[1].lat])},animateLine:function(t,e){var n=e.from||{},i=e.to||{},r=e.path||t._latlngs||[],o=e.duration||1e3,s=e.easing||L.AnimationUtils.easingFunctions.linear,a=e.animationEnd,u=+new Date,c=this,l={},h=this.buildDistanceIndex(r),f=h.totalDistance/o,d=e.update||function(t,e,n){t.setLatLng(new L.LatLng(n.y,n.x))};for(var p in n)if("color"!==p&&"fillColor"!==p&&"position"!==p&&i[p])l[p]=new L.LinearFunction([0,n[p]],[1,i[p]]);else if("color"!==p&&"fillColor"!==p||n[p]===i[p])"position"===p&&i[p]&&(l[p]=new L.LinearFunction([n[p].x,n[p].y],[i[p].x,i[p].y],{postProcess:function(t,e){return{x:e,y:t}}}));else{var g=L.Color.getColor(n[p]),m=L.Color.getColor(i[p]);l[p]=new L.RGBColorBlendFunction(0,1,g.toRGBString(),m.toRGBString())}var y=0,v=function(){var e=+new Date-u,n=c.distanceToPoints(r,h,e*f,y),i=n.distances[0]/h.totalDistance,p=n.distances[1]/h.totalDistance,g=c.getInterpolator(n.points),m=s(e,o),_=g.getPointAtPercent((m-i)/(p-i||1)),b={};if(d(t,n.points,_),y=n.index,m>=1)L.Util.cancelAnimFrame(t._animId),a&&a();else{for(var x in l)b[x]=l[x].evaluate(m);t.options=L.extend({},t.options,b),t.setStyle(t.options),t._animId=L.Util.requestAnimFrame(v)}g=null,_=null};t._animId=L.Util.requestAnimFrame(v)}},L.Color=L.Class.extend({statics:{getColor:function(t){return t.indexOf("#")>-1||t.indexOf("rgb")>-1?new L.RGBColor(t):new L.HSLColor(t)}},initialize:function(t){this._rgb=[0,0,0],this._hsl=[0,1,.5],this._a=1,t&&this.parseColorDef(t)},parseColorDef:function(){},rgbToHSL:function(t,e,n){t/=255,e/=255,n/=255;var i,r,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var u=o-s;switch(r=a>.5?u/(2-o-s):u/(o+s),o){case t:i=(e-n)/u+(n>e?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return[i,r,a]},hslToRGB:function(t,e,n){var i,r,o,s=function(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t};if(0===e)i=r=o=n;else{var a=.5>n?n*(1+e):n+e-n*e,u=2*n-a;i=s(u,a,t+1/3),r=s(u,a,t),o=s(u,a,t-1/3)}return[Math.floor(255*i),Math.floor(255*r),Math.floor(255*o)]},setRGB:function(t,e,n){return this._rgb=[t,e,n],this._hsl=this.rgbToHSL(t,e,n),this},setHSL:function(t,e,n){return this._hsl=[t,e,n],this._rgb=this.hslToRGB(t,e,n),this},toHSL:function(){return this._hsl},toHSLString:function(){var t="hsl";return this._a<1&&(t+="a"),t+"("+(360*this._hsl[0]).toFixed(1)+","+(100*this._hsl[1]).toFixed(0)+"%,"+(100*this._hsl[2]).toFixed(0)+"%)"},toRGB:function(){return this._rgb},toRGBString:function(){var t;if(this._a<1)t="rgba("+this._rgb[0].toFixed(0)+","+this._rgb[1].toFixed(0)+","+this._rgb[2].toFixed(0)+","+this._a.toFixed(1)+")";else{for(var e=[this._rgb[0].toString(16),this._rgb[1].toString(16),this._rgb[2].toString(16)],n=0,i=e.length;i>n;++n)1===e[n].length&&(e[n]="0"+e[n]);t="#"+e.join("")}return t},r:function(t){return arguments.length?this.setRGB(t,this._rgb[1],this._rgb[2]):this._rgb[0]},g:function(t){return arguments.length?this.setRGB(this._rgb[0],t,this._rgb[2]):this._rgb[1]},b:function(t){return arguments.length?this.setRGB(this._rgb[0],this._rgb[1],t):this._rgb[2]},h:function(t){return arguments.length?this.setHSL(t,this._hsl[1],this._hsl[2]):this._hsl[0]},s:function(t){return arguments.length?this.setHSL(this._hsl[0],t,this._hsl[2]):this._hsl[1]},l:function(t){return arguments.length?this.setHSL(this._hsl[0],this._hsl[1],t):this._hsl[2]},a:function(t){return arguments.length?(this._a=t,this):this._a}}),L.RGBColor=L.Color.extend({initialize:function(t){L.Color.prototype.initialize.call(this,t)},parseColorDef:function(t){var e,n,i,r,o=t instanceof Array,s=0===t.indexOf("#"),a=[];o?(e=Math.floor(t[0]),n=Math.floor(t[1]),i=Math.floor(t[2]),r=4===t.length?t[3]:1):s?(t=t.replace("#",""),e=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),r=8===t.length?parseInt(t.substring(6,8),16):1):(a=t.replace("rgb","").replace("a","").replace(/\s+/g,"").replace("(","").replace(")","").split(","),e=parseInt(a[0]),n=parseInt(a[1]),i=parseInt(a[2]),r=4===a.length?parseInt(a[3]):1),this.setRGB(e,n,i),this._a=r}}),L.rgbColor=function(t){return new L.RGBColor(t)},L.HSLColor=L.Color.extend({initialize:function(t){L.Color.prototype.initialize.call(this,t)},parseColorDef:function(t){var e,n,i,r;if(t instanceof Array)e=t[0],n=t[1],i=t[2],r=4===t.length?t[3]:1;else{var o=t.replace("hsl","").replace("a","").replace("(","").replace(/\s+/g,"").replace(/%/g,"").replace(")","").split(",");e=Number(o[0])/360,n=Number(o[1])/100,i=Number(o[2])/100,r=4===o.length?parseInt(o[3]):1}this.setHSL(e,n,i),this._a=r}}),L.hslColor=function(t){return new L.HSLColor(t)},L.Animation=L.Evented.extend({initialize:function(t,e){this._easeFunction=t,this._animateFrame=e},run:function(t,e){e=e||{},this.stop(),this._el=t,this._inProgress=!0,this._duration=e.duration||0,this._animationOptions=e,this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=L.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;0===e||e>t?this._runFrame(this._easeFunction(t/(e||1))):(this._runFrame(1),this._complete())},_runFrame:function(t){this._animateFrame(t),this.fire("step")},_complete:function(){L.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")}})}(window,document),window,document,L.ColorBrewer={Sequential:{YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]}},Diverging:{PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},Qualitative:{Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},L.Palettes={huePalette:function(t,e,n,i,r){return new L.HSLHueFunction(new L.Point(t,n),new L.Point(e,i),r)},luminosityPalette:function(t,e,n,i,r){return new L.HSLLuminosityFunction(new L.Point(t,n),new L.Point(e,i),r)},saturationPalette:function(t,e,n,i,r){return new L.HSLSaturationFunction(new L.Point(t,n),new L.Point(e,i),r)},rgbBlendPalette:function(t,e,n,i,r){return new L.RGBColorBlendFunction(t,e,n,i,r)},hslBlendPalette:function(t,e,n,i,r){return new L.HSLColorBlendFunction(t,e,n,i,r)},customColorPalette:function(t,e,n,i){return new L.CustomColorFunction(t,e,n,i)}},L.DynamicColorPalettes={rainbow:{text:"Rainbow",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,0,300,n)}},greentored:{text:"Green - Red",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,120,0,n)}},yellowtored:{text:"Yellow - Red",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,60,0,n)}},orangetored:{text:"Orange - Red",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,30,0,n)}},redtopurple:{text:"Red - Purple",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,360,270,n)}},bluetored:{text:"Blue - Red",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,210,360,n)}},bluetored2:{text:"Blue - Red 2",getPalette:function(t,e,n){return L.Palettes.huePalette(t,e,180,0,n)}},whitetored:{text:"White - Red",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:0}))}},whitetoorange:{text:"White - Orange",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:30}))}},whitetoyellow:{text:"White - Yellow",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:60}))}},whitetogreen:{text:"White - Green",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:120}))}},whitetoltblue:{text:"White - Lt. Blue",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:180}))}},whitetoblue:{text:"White - Blue",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:240}))}},whitetopurple:{text:"White - Purple",getPalette:function(t,e){return L.Palettes.luminosityPalette(t,e,1,.5,L.Util.extend(option,{outputHue:270}))}},graytored:{text:"Gray - Red",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:0}))}},graytoorange:{text:"Gray - Orange",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:30}))}},graytoyellow:{text:"Gray - Yellow",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:60}))}},graytogreen:{text:"Gray - Green",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:120}))}},graytoltblue:{text:"Gray - Lt. Blue",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:180}))}},graytoblue:{text:"Gray - Blue",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:240}))}},graytopurple:{text:"Gray - Purple",getPalette:function(t,e){return L.Palettes.saturationPalette(t,e,0,1,L.Util.extend(option,{outputHue:270}))}}},L.DynamicPaletteElement=L.Class.extend({initialize:function(t,e){this._key=t,this._dynamicPalette=e},generate:function(t){var e=L.DomUtil.create("div","palette"),n=t.count,i=this._dynamicPalette.getPalette(0,n-1),r=t.width,o=!0;t.showText&&(o=t.showText),e.setAttribute("data-palette-key",this._key),this._dynamicPalette.text&&o&&(L.DomUtil.create("div","palette-text",e).innerHTML='<i class="icon-ok hidden"></i>'+this._dynamicPalette.text);var s=r/n;t.className&&L.DomUtil.addClass(e,t.className);for(var a=0;n>a;++a){var u=L.DomUtil.create("i","palette-element");for(var c in i){var l=i[c],h=l.evaluate?l.evaluate(a):l;L.StyleConverter.setCSSProperty(u,c,h)}u.style.width=s+"px",e.appendChild(u)}return e}}),window,document,L.RegularPolygon=L.Polygon.extend({statics:{R:6378.137,M_PER_KM:1e3},initialize:function(t,e){this._centerLatLng=t,L.setOptions(this,e),L.Polygon.prototype.initialize.call(this,this._getLatLngs(),e)},options:{fill:!0,radius:1e3,numberOfSides:4,rotation:0,maxDegrees:360},getLatLng:function(){return this._centerLatLng},setRadius:function(t){this.options.radius=t,this._latlngs=this._getLatLngs(),this.redraw()},_getLatLngs:function(){for(var t,e=this.options.maxDegrees||360,n=e/Math.max(this.options.numberOfSides,3),i=e+this.options.rotation,r=this.options.rotation,o=[];i>r;)t=this._getPoint(r),o.push(t),r+=n;return o},_getPoint:function(t){var e=function(t){return t*L.LatLng.DEG_TO_RAD},n=function(t){return t*L.LatLng.RAD_TO_DEG},i=e(t),r=this.options.radius/L.RegularPolygon.M_PER_KM/L.RegularPolygon.R,o=e(this._centerLatLng.lat),s=e(this._centerLatLng.lng),a=Math.asin(Math.sin(o)*Math.cos(r)+Math.cos(o)*Math.sin(r)*Math.cos(i)),u=s+Math.atan2(Math.sin(i)*Math.sin(r)*Math.cos(o),Math.cos(r)-Math.sin(o)*Math.sin(a));return a=n(a),u=n(u),new L.LatLng(a,u)},toGeoJSON:function(){for(var t={type:"Feature",geometry:{type:"Polygon",coordinates:[[],[]]},properties:this.options},e=0;e<this._latlngs.length;++e){var n=this._latlngs[e];t.geometry.coordinates[0].push([n.lng,n.lat])}return t}}),L.regularPolygon=function(t,e){return new L.RegularPolygon(t,e)},function(t,e){L.Path.XLINK_NS="http://www.w3.org/1999/xlink";var n=n||{setStyle:function(t,e){var n="";for(var i in e)n+=i+": "+e[i]+";";return t.setAttribute("style",n),t},setAttr:function(t,e){for(var n in e)t.setAttribute(n,e[n]);return t}};L.extend(L.DomUtil,n),L.TextFunctions=L.TextFunctions||{__addPath:L.SVG.prototype._addPath,_addPath:function(t){L.TextFunctions.__addPath.call(this,t),t.options.text&&this._createText(t)},__removePath:L.SVG.prototype._removePath,_removePath:function(t){this.__removePath.call(this,t),t._text&&L.DomUtil.remove(t._text),t._pathDef&&L.DomUtil.remove(t._pathDef)},__updatePath:L.SVG.prototype._updatePath,_updatePath:function(t){this.__updatePath.call(this,t),t.options.text&&this._createText(t)},__setPath:L.SVG.prototype._setPath,_setPath:function(t,e){this.__setPath.call(this,t,e),t.options.text&&this._createText(t)},_initText:function(t){t.options.text&&this._createText(t)},getTextAnchor:function(t){return t._point?t._point:void 0},setTextAnchor:function(t,e){t._text&&(t._text.setAttribute("x",e.x),t._text.setAttribute("y",e.y))},_createText:function(t){var n=t.options.text||{};t._text&&(L.DomUtil.remove(t._text),t.text=null),t._pathDef&&(L.DomUtil.remove(t._pathDef),t._pathDef=null),t._text=L.SVG.create("text"),t._text.setAttribute("id",L.stamp(t._text));var i=e.createTextNode(n.text);if(n.path&&t._path){var r=n.path,o=L.SVG.create("path"),s=t._path.getAttribute("d");o.setAttribute("id",L.stamp(o)),s&&o.setAttribute("d",s),this._createDefs(),this._defs.appendChild(o),t._pathDef=o;var a=L.SVG.create("textPath");r.startOffset&&a.setAttribute("startOffset",r.startOffset),r.attr&&L.DomUtil.setAttr(a,r.attr),r.style&&L.DomUtil.setStyle(a,r.style),a.setAttributeNS(L.Path.XLINK_NS,"xlink:href","#"+L.stamp(o)),a.appendChild(i),t._text.appendChild(a)}else{t._text.appendChild(i),t._project();var u=t.getTextAnchor?t.getTextAnchor():this.getTextAnchor(t);this.setTextAnchor(t,u)}t._text.setAttribute("class",n.className?n.className:"leaflet-svg-text"),n.attr&&L.DomUtil.setAttr(t._text,n.attr),n.style&&L.DomUtil.setStyle(t._text,n.style),t._path&&this._container.firstChild.insertBefore(t._text,t._path.nextSibling)}};var i=i||{__updateStyle:L.SVG.prototype._updateStyle,_finishPathAnimation:function(t,e){return function(){t._path.style.strokeDasharray=(t.options.dashArray||[0,0]).join(" "),t._path.style.strokeDashoffset=0,e&&e(t)}},animatePath:function(t){var e=t._path,n=e.getTotalLength(),i=!0!==t.options.animatePath?L.extend({},t.options.animatePath):{},r=[i.property||"stroke-dashoffset",i.duration||"2s",i.timingFunction||"ease-in-out"].join(" ");e.style.transition=e.style.MozTransition="none",e.style.transition=e.style.WebkitTransition="none",e.style.transition=e.style.MsTransition="none",e.style.strokeDasharray=n+" "+n,e.style.strokeDashoffset=n,e.getBoundingClientRect(),e.style.transition=e.style.MozTransition=r,e.style.transition=e.style.WebkitTransition=r,e.style.transition=e.style.MsTransition=r,e.style.strokeDashoffset="0",L.DomEvent.on(e,{transitionEnd:this._finishPathAnimation(t,i.animationEnd),mozTransitionEnd:this._finishPathAnimation(t,i.animationEnd),msTransitionEnd:this._finishPathAnimation(t,i.animationEnd),webkitTransitionEnd:this._finishPathAnimation(t,i.animationEnd),oTransitionEnd:this._finishPathAnimation(t,i.animationEnd)})},_createDefs:function(){this._defs||(this._defs=L.SVG.create("defs"),this._container.appendChild(this._defs))},_addPath:function(t){L.TextFunctions._addPath.call(this,t),t._gradient&&this._defs.appendChild(t._gradient),t._dropShadow&&this._defs.appendChild(t._dropShadow),t._fillPattern&&this._defs.appendChild(t._fillPattern),t._shapePattern&&this._defs.appendChild(t._shapePattern),t._shape&&t._path&&this._container.firstChild.insertBefore(t._shape,t._path.nextSibling),t._pathDef&&this._defs.appendChild(t._pathDef),t.options.animatePath&&this.animatePath(t)},_updatePath:function(t){L.TextFunctions._updatePath.call(this,t);var e=this;t.options.wordCloud&&t.options.wordCloud.words.length>0&&setTimeout(function(){e._createWordCloudPattern(t)},0)},_removePath:function(t){L.TextFunctions._removePath.call(this,t),t._gradient&&L.DomUtil.remove(t._gradient),t._dropShadow&&L.DomUtil.remove(t._dropShadow),t._fillPattern&&L.DomUtil.remove(t._fillPattern),t._shapePattern&&L.DomUtil.remove(t._shapePattern),t._shape&&L.DomUtil.remove(t._shape),t._g&&L.DomUtil.remove(t._g)},_createMarker:function(t,e,n){this._defs||this._createDefs(),t._markers=t._markers||{},t._markerPath=t._markerPath||{},t._markers[e]||(t._markers[e]=L.SVG.create("marker"),this._defs.appendChild(t._markers[e]));var i=L.Util.guid(),r=n.size||2*(n.exaggeration||2),o=r/2,s=L.extend({fill:t.options.color,opacity:t.options.opacity,radius:o,numberOfSides:3,rotation:0,position:new L.Point(o,o)},n.style);t._markers[e].setAttribute("id",i),t._markers[e].setAttribute("markerWidth",r),t._markers[e].setAttribute("markerHeight",r),t._markers[e].setAttribute("refX",o),t._markers[e].setAttribute("refY",o),t._markers[e].setAttribute("orient",n.orient||"auto"),t._markers[e].setAttribute("markerUnits",n.markerUnits||"strokeWidth"),t._markerPath[e]||(t._markerPath[e]=L.SVG.create("path"),t._markers[e].appendChild(t._markerPath[e]));var a=new L.RegularPolygonMarker(new L.LatLng(0,0),{})._getPoints(new L.Point(0,0),!1,s),u=new L.SVGPathBuilder(a,[],{closePath:!0}).build(6);t._markerPath[e].setAttribute("d",u),t._markerPath[e].setAttribute("style","fill: "+s.fill+"; opacity: "+s.opacity)},_createGradient:function(t){this._defs||this._createDefs();var e,n,i=!0!==t.options.gradient?L.extend({},t.options.gradient):{},r=i.gradientType||"linear";if(e=t._gradient||L.SVG.create(r+"Gradient"),"radial"===r)n=i.radial||{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};else{var o=i.vector||[["0%","0%"],["100%","100%"]];n={x1:o[0][0],x2:o[1][0],y1:o[0][1],y2:o[1][1]}}n.id=e.id||L.stamp(e),i.gradientUnits&&e.setAttribute("gradientUnits",i.gradientUnits);var s,a=i.stops||[{offset:"0%",style:{color:"rgb(255, 255, 255)",opacity:1}},{offset:"60%",style:{color:t.options.fillColor||t.options.color,opacity:1}}];for(s in n)e.setAttribute(s,n[s]);for(var u=e.childNodes,c=u?u.length:0,l=0,h=a.length;h>l;++l){var f=a[l],d=c>l?u[l]:L.SVG.create("stop");for(s in f.style=f.style||{},f){var p=f[s];if("style"===s){var g="";for(var m in p.color=p.color||t.options.fillColor||t.options.color,p.opacity="undefined"==typeof p.opacity?1:p.opacity,p)g+="stop-"+m+":"+p[m]+";";p=g}d.setAttribute(s,p)}l>=c&&e.appendChild(d)}return t._gradient=e,n.id},_createDropShadow:function(t){this._createDefs();var e=t._dropShadow||L.SVG.create("filter"),n=e.querySelector("feOffset")||L.SVG.create("feOffset"),i=e.querySelector("feGaussianBlur")||L.SVG.create("feGaussianBlur"),r=e.querySelector("feBlend")||L.SVG.create("feBlend"),o=t.options.dropShadow&&"object"==typeof t.options.dropShadow&&Object.keys(t.options.dropShadow).length>0?t.options.dropShadow:{width:"200%",height:"200%"};for(var s in o.id=L.stamp(e),o)e.setAttribute(s,o[s]);var a={result:"offOut",in:"SourceAlpha",dx:"2",dy:"2"},u={result:"blurOut",in:"offOut",stdDeviation:"2"},c={in:"SourceGraphic",in2:"blurOut",mode:"lighten"};for(s in a)n.setAttribute(s,a[s]);for(s in u)i.setAttribute(s,u[s]);for(s in c)r.setAttribute(s,c[s]);return e.id=o.id,t._dropShadow||(e.appendChild(n),e.appendChild(i),e.appendChild(r)),t._dropShadow=e,L.stamp(e)},_createCustomElement:function(t,e){var n=L.SVG.create(t);for(var i in n.setAttribute("id",L.stamp(n)),e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n},_createImage:function(t){var e=L.SVG.create("image");return e.setAttribute("id",L.stamp(e)),e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("x",t.x||0),e.setAttribute("y",t.y||0),e.setAttribute("preserveAspectRatio",t.preserveAspectRatio||"xMidYMid meet"),e.setAttributeNS(L.Path.XLINK_NS,"xlink:href",t.url),e},_createPattern:function(t){var e=L.SVG.create("pattern");return e.setAttribute("id",L.stamp(e)),e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("x",t.x||0),e.setAttribute("y",t.y||0),e.setAttribute("patternUnits",t.patternUnits||"objectBoundingBox"),e},_createShape:function(t,e){return this._createCustomElement(t,e)},_createFillPattern:function(t){this._createDefs();var e=L.extend({},t.options.fillPattern),n=this._createPattern(e.pattern),i=L.extend({url:e.url},e.image),r=this._createImage(i);return n.appendChild(r),t._fillPattern&&L.DomUtil.remove(t._fillPattern),t._fillPattern=n,L.stamp(n)},_getDefaultDiameter:function(t){return 1.75*t},_createShapeImage:function(t){this._createDefs();var e=t.options.shapeImage||{},n=t.options.radius||Math.max(t.options.radiusX,t.options.radiusY),i=t._getDefaultDiameter?t._getDefaultDiameter(n):this._getDefaultDiameter(n),r=e.imageSize||new L.Point(i,i),o=e.shape||{circle:{r:e.radius||i/2,cx:0,cy:0}},s=e.pattern||{width:r.x,height:r.y,x:0,y:0};s.patternUnits=s.patternUnits||"objectBoundingBox";var a=this._createPattern(s);L.stamp(a);var u=Object.keys(o),c=u.length>0?u[0]:"circle";o[c].fill="url(#"+L.stamp(a)+")";var l=this._createShape(c,o[c]);t.options.interactive&&l.setAttribute("class","leaflet-interactive");var h=this._createImage(e=e.image||{width:r.x,height:r.y,x:0,y:0,url:t.options.imageCircleUrl});return h.setAttributeNS(L.Path.XLINK_NS,"xlink:href",e.url),a.appendChild(h),t._shapePattern&&L.DomUtil.remove(t._shapePattern),t._shape&&L.DomUtil.remove(t._shape),t._shapePattern=a,t._shape=l,L.stamp(a)},_updateStyle:function(t){var e;if(this.__updateStyle.call(this,t),t._path){if(t.options.text&&t._renderer._createText(t),t.options.markers)for(var n in t.options.markers)t.options.markers.hasOwnProperty(n)&&(this._createMarker(t,n,t.options.markers[n]),t._path.setAttribute("marker-"+n,"url(#"+t._markers[n].getAttribute("id")+")"));t.options.gradient?(e=this._createGradient(t),t._path.setAttribute(t.options.stroke&&!t.options.fill?"stroke":"fill","url(#"+e+")")):t.options.fill||t._path.setAttribute("fill","none"),t.options.dropShadow?(e=this._createDropShadow(t),t._path.setAttribute("filter","url(#"+e+")")):t._path.removeAttribute("filter"),t.options.fillPattern&&(e=this._createFillPattern(t),t._path.setAttribute("fill","url(#"+e+")"))}if(t._applyCustomStyles&&t._applyCustomStyles(),t._gradient&&this._defs.appendChild(t._gradient),t._dropShadow&&this._defs.appendChild(t._dropShadow),t._fillPattern&&this._defs.appendChild(t._fillPattern),t._shapePattern&&this._defs.appendChild(t._shapePattern),t._shape&&t._path&&this._container.firstChild.insertBefore(t._shape,t._path.nextSibling),t.options.wordCloud){var i=this;t.options.wordCloud.words.length>0&&setTimeout(function(){i._createWordCloudPattern(t)},0)}},_createWordCloudPattern:function(t){var e=t.options.wordCloud||{},n="",i=e.patternOptions||{};this._defs||this._createDefs(),e.textField=e.textField||"key",e.countField=e.countField||"doc_count";for(var r=0,o=e.words.length;o>r;++r){var s=e.words[r];n+=s[e.textField]+"_"+s[e.countField]}if(n!==t._wordCloudGuid&&t._path){t._wordCloudGuid=n;var a=L.SVG.create("path");a.setAttribute("d",t._path.getAttribute("d")),a.setAttribute("id",n),i.id=n,i.patternUnits=i.patternUnits||"userSpaceOnUse";var u=t.getBounds(),c=new L.Bounds(this._map.project(u.getNorthWest()),this._map.project(u.getSouthEast())),l=c.getSize().x/c.getSize().y;i.width=i.width||500,i.height=i.height||500*l||500,i.width=Math.min(i.width,i.height),i.height=i.width,t._wordCloud=L.SVG.create("g"),t._wordPattern=this._createPattern(i),t._wordPattern.id=n,t._wordPattern.appendChild(t._wordCloud),this._defs.appendChild(t._wordPattern),this._createWordCloud(t,t._wordCloud,e)}t._path&&-1===t._path.getAttribute("fill").indexOf(t._wordCloudGuid)&&t._path.setAttribute("fill","url(#"+t._wordCloudGuid+")")},_createWordCloud:function(t,e,n){var i=n.patternOptions.width,r=n.patternOptions.height,o=n.words,s=(this.getTextAnchor(t),L.SVG.create("rect")),a=n.countField,u=n.textField,c=n.rotation||function(){return 0};s.setAttribute("width",i),s.setAttribute("height",r),s.style.fill=t.options.fillColor||"#000",s.setAttribute("transform","translate("+-i/2+","+-r/2+")"),e.appendChild(s);var l=n.textFillColor||d3.scale.category20(),h=d3.scale.linear(),f=o[0][a],d=o[o.length-1][a],p=n.fontSize||d3.scale.log().domain([d,f]).range([10,40]);return h.domain([0,10]).range([-60,60]),d3.layout.cloud().size([i,r]).spiral("rectangular").timeInterval(1/0).words(o).padding(5).rotate(c).font(n.fontFamily||"Impact").fontSize(function(t){return p(t[a])}).on("end",function(t,e){return function(t){L.Util.guid(),d3.select(e).attr("transform","translate("+i/2+","+r/2+")").selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",n.fontFamily||"Impact").style("fill",function(t,e){return l(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t[u]})}}(0,e)).start(),e}};L.PolylineFunctions={_getCenter:L.Polyline.prototype.getCenter,getCenter:function(){var t=this._getCenter.call(this);return t||(t=this._latlngs[0]),t},_buildDistanceIndex:function(){if(!this._index){var t=this._latlngs,e=0;this._index=[0];for(var n=0,i=t.length;i-1>n;++n)e+=t[n].distanceTo(t[n+1]),this._index.push(e);this._totalDistance=e}return this},_clearDistanceIndex:function(){return this._totalDistance=0,this._index=null,this},_distanceToPoints:function(t,e){var n=null;if(e>=this._totalDistance)n=[t[t.length-1],t[t.length-1]];else for(var i=0,r=this._index.length;r-1>i;++i)if(e>=this._index[i]&&e<this._index[i+1]){n=[t[i],t[i+1]];break}return n},_getInterpolator:function(t){return new L.LinearFunction([t[0].lng,t[0].lat],[t[1].lng,t[1].lat])},animateLine:function(t){L.AnimationUtils.animateLine(this,L.extend({},{update:function(t){return function(e,n,i){var r=t.indexOf(n[0]);e.setLatLngs(t.slice(0,r+1).concat(new L.LatLng(i.y,i.x)))}}(this._latlngs.slice())},t))}},L.extend(L.Polyline.prototype,L.PolylineFunctions),L.Polyline.prototype.getTextAnchor=function(){var t=this.getCenter();return this._map.latLngToLayerPoint(t)},L.extend(L.SVG.prototype,L.TextFunctions,i),L.Point.prototype.rotate=function(t,e){var n=this.distanceTo(e),i=t*L.LatLng.DEG_TO_RAD+Math.atan2(this.y-e.y,this.x-e.x);this.x=e.x+n*Math.cos(i),this.y=e.y+n*Math.sin(i)},L.extend(L.GeoJSON,{asFeature:function(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}}),L.LineTextFunctions=L.extend({},L.TextFunctions),L.LineTextFunctions.getCenter=function(){var t,e,n,i,r,o,s=this._latlngs,a=s.length;for(t=0,e=a-1,area=0,lat=0,lng=0;a>t;e=t++)r=(n=s[t]).lat*(i=s[e]).lng-i.lat*n.lng,lat+=(n.lat+i.lat)*r,lng+=(n.lng+i.lng)*r,area+=r/2;return(o=area?new L.LatLng(lat/(6*area),lng/(6*area)):s[0]).area=area,o},L.extend(L.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),L.Point.prototype.rotate=function(t,e){var n=this.distanceTo(e),i=t*L.LatLng.DEG_TO_RAD+Math.atan2(this.y-e.y,this.x-e.x);this.x=e.x+n*Math.cos(i),this.y=e.y+n*Math.sin(i)},L.RegularPolygonMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t,this.options.numberOfSides=Math.max(this.options.numberOfSides,3)},options:{fill:!0,radiusX:10,radiusY:10,rotation:0,numberOfSides:3,position:{x:0,y:0},maxDegrees:360,gradient:!0,dropShadow:!1,interactive:!0},setLatLng:function(t){return this._latlng=t,this.redraw()},projectLatLngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints(this._point,!1,this.options),(this.options.innerRadius||this.options.innerRadiusX&&this.options.innerRadiusY)&&(this._innerPoints=this._getPoints(this._point,!0,this.options).reverse())},_project:function(){this.projectLatLngs(),this._updateBounds()},_updateBounds:function(){var t=this._map,e=this.options.radius||this.options.radiusY,n=(this.options.radius||this.options.radiusX)*Math.cos(Math.PI/4),i=e*Math.sin(Math.PI/4),r=t.project(this._latlng),o=new L.Point(r.x-n,r.y+i),s=new L.Point(r.x+n,r.y-i);this._pxBounds=new L.Bounds(o,s)},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){var t=this._map,e=this.options.radius||this.options.radiusY,n=(this.options.radius||this.options.radiusX)*Math.cos(Math.PI/4),i=e*Math.sin(Math.PI/4),r=t.project(this._latlng),o=new L.Point(r.x-n,r.y+i),s=new L.Point(r.x+n,r.y-i),a=t.unproject(o),u=t.unproject(s);return new L.LatLngBounds(a,u)},setRadius:function(t){return this.options.radius=t,this.redraw()},setRadiusXY:function(t,e){return this.options.radius=null,this.options.radiusX=t,this.options.radiusY=e,this.redraw()},setInnerRadius:function(t){return this.options.innerRadius=t,this.redraw()},setInnerRadiusXY:function(t,e){return this.options.innerRadius=null,this.options.innerRadiusX=t,this.options.innerRadiusY=e,this.redraw()},setRotation:function(t){return this.options.rotation=t,this.redraw()},setNumberOfSides:function(t){return this.options.numberOfSides=t,this.redraw()},getLatLng:function(){return this._latlng},getPathString:function(){var t=this.getTextAnchor();if(this._shape)if("circle"===this._shape.tagName||"ellipse"===this._shape.tagName)this._shape.setAttribute("cx",t.x),this._shape.setAttribute("cy",t.y);else{var e=this._shape.getAttribute("width"),n=this._shape.getAttribute("height");this._shape.setAttribute("x",t.x-Number(e)/2),this._shape.setAttribute("y",t.y-Number(n)/2)}return this._path&&this._path.setAttribute("shape-rendering","geometricPrecision"),new L.SVGPathBuilder(this._points,this._innerPoints).build(6)},getTextAnchor:function(){return this._point},_getPoints:function(t,e,n){for(var i,r,o=n.maxDegrees||360,s=o/Math.max(n.numberOfSides,3),a=o,u=0,c=[],l=e?n.innerRadius||n.innerRadiusX:n.radius||n.radiusX,h=e?n.innerRadius||n.innerRadiusY:n.radius||n.radiusY,f=function(t){return t*L.LatLng.DEG_TO_RAD};a>u;)r=f(u),i=this._getPoint(t,r,l,h,n),c.push(i),u+=s;return c},_getPoint:function(t,e,n,i,r){var o=r.position?t.add(new L.Point(r.position.x,r.position.y)):t,s=new L.Point(o.x+n*Math.cos(e),o.y+i*Math.sin(e));return s.rotate(r.rotation,o),s},_getDefaultDiameter:function(t){var e=Math.PI/this.options.numberOfSides;return t*Math.cos(e)*1.75},_applyCustomStyles:function(){(this.options.shapeImage||this.options.imageCircleUrl)&&this._renderer._createShapeImage(this)},toGeoJSON:function(){var t=L.Marker.prototype.toGeoJSON.call(this);return t.properties=this.options,t}}),L.StarMarker=L.RegularPolygonMarker.extend({options:{numberOfPoints:5,rotation:-15,maxDegrees:360,gradient:!0,dropShadow:!0},setNumberOfPoints:function(t){return this.options.numberOfPoints=t,this.redraw()},_getPoints:function(t,e,n){for(var i,r,o,s=n.maxDegrees||360,a=s/n.numberOfPoints,u=s,c=0,l=[],h=e?n.innerRadius||n.innerRadiusX:n.radius||n.radiusX,f=e?n.innerRadius||n.innerRadiusY:n.radius||n.radiusY,d=function(t){return t*L.LatLng.DEG_TO_RAD};u>c;)o=d(c),i=this._getPoint(t,o,h,f,n),r=this._getPoint(t,o+d(a)/2,h/2,f/2,n),l.push(i),l.push(r),c+=a;return l}}),L.starMarker=function(t,e){return new L.StarMarker(t,e)},L.TriangleMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:3,rotation:30,radius:5}}),L.triangleMarker=function(t,e){return new L.TriangleMarker(t,e)},L.DiamondMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:4,radiusX:5,radiusY:10}}),L.diamondMarker=function(t,e){return new L.DiamondMarker(t,e)},L.SquareMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:4,rotation:45,radius:5}}),L.squareMarker=function(t,e){return new L.SquareMarker(t,e)},L.PentagonMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:5,rotation:-18,radius:5}}),L.pentagonMarker=function(t,e){return new L.PentagonMarker(t,e)},L.HexagonMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:6,rotation:30,radius:5}}),L.hexagonMarker=function(t,e){return new L.HexagonMarker(t,e)},L.OctagonMarker=L.RegularPolygonMarker.extend({options:{numberOfSides:8,rotation:22.5,radius:5}}),L.octagonMarker=function(t,e){return new L.OctagonMarker(t,e)},L.MapMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t},options:{fill:!0,fillOpacity:1,opacity:1,radius:15,innerRadius:5,position:{x:0,y:0},rotation:0,numberOfSides:50,color:"#000000",fillColor:"#0000FF",weight:1,gradient:!0,dropShadow:!0,interactive:!0},setLatLng:function(t){return this._latlng=t,this.redraw()},projectLatLngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints(this._point,!1,this.options),this.options.innerRadius>0&&(this._innerPoints=this._getPoints(this._point,!0,this.options).reverse())},_project:function(){this.projectLatLngs(),this._updateBounds()},_updateBounds:function(){var t=3*this.options.radius,e=this._map.project(this._latlng),n=new L.Point(e.x-this.options.radius,e.y),i=new L.Point(e.x+this.options.radius,e.y-t);this._pxBounds=new L.Bounds(n,i)},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){var t=this._map,e=3*this.options.radius,n=t.project(this._latlng),i=new L.Point(n.x-this.options.radius,n.y),r=new L.Point(n.x+this.options.radius,n.y-e),o=t.unproject(i),s=t.unproject(r);return new L.LatLngBounds(o,s)},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=t,this.redraw()},setInnerRadius:function(t){return this.options.innerRadius=t,this.redraw()},setRotation:function(t){return this.options.rotation=t,this.redraw()},setNumberOfSides:function(t){return this.options.numberOfSides=t,this.redraw()},getPathString:function(){var t=this.getTextAnchor();if(this._shape)if("circle"===this._shape.tagName||"ellipse"===this._shape.tagName)this._shape.setAttribute("cx",t.x),this._shape.setAttribute("cy",t.y);else{var e=this._shape.getAttribute("width"),n=this._shape.getAttribute("height");this._shape.setAttribute("x",t.x-Number(e)/2),this._shape.setAttribute("y",t.y-Number(n)/2)}return this._path&&this._path.setAttribute("shape-rendering","geometricPrecision"),new L.SVGPathBuilder(this._points,this._innerPoints).build(6)},getTextAnchor:function(){var t=this.options.position?this._point.add(new L.Point(this.options.position.x,this.options.position.y)):this._point;return new L.Point(t.x,t.y-2*this.options.radius)},_getPoints:function(t,e,n){var i,r,o=e?360:210,s=e?o/Math.max(n.numberOfSides,3):o/50,a=e?o+n.rotation:o,u=e?n.rotation:-30,c=[],l=n.radius,h=Math.sqrt(.75),f=function(t){return t*L.LatLng.DEG_TO_RAD},d=n.position?t.add(new L.Point(n.position.x,n.position.y)):t;for(e||(c.push(d),c.push(new L.Point(d.x+h*l,d.y-1.5*l)));a>u;)r=f(u),i=this._getPoint(d,r,l,e,n),c.push(i),u+=s;return e||c.push(new L.Point(d.x-h*l,d.y-1.5*l)),c},_getPoint:function(t,e,n,i,r){var o=n;return n=i?r.innerRadius:n,new L.Point(t.x+n*Math.cos(e),t.y-2*o-n*Math.sin(e))},_applyCustomStyles:function(){(this.options.shapeImage||this.options.imageCircleUrl)&&this._renderer._createShapeImage(this)}}),L.mapMarker=function(){return new L.MapMarker(latlng,options)},L.SVGMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._svg=e.svg||'<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"/>',0===this._svg.indexOf("<")&&(this._data=(new DOMParser).parseFromString(this._svg,"text/xml")),this._latlng=t},projectLatLngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_project:function(){this.projectLatLngs(),this._updateBounds()},_updateBounds:function(){var t=this._map,e=200*Math.cos(Math.PI/4),n=200*Math.sin(Math.PI/4),i=t.project(this._latlng),r=new L.Point(i.x-e,i.y+n),o=new L.Point(i.x+e,i.y-n);this._pxBounds=new L.Bounds(r,o)},_update:function(){this._map&&this._path&&this.updateSVG()},setLatLng:function(t){this._latlng=t,this.redraw()},getLatLng:function(){return this._latlng},onAdd:function(){var t=this;if(this._renderer=this._map.getRenderer(this),this._data)t._reset(),t.addSVG(),t.updateSVG();else{var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&200===this.status&&(t._data=this.responseXML,t._reset(),t.addSVG(),t.updateSVG())},e.open("GET",this._svg,!0),e.send(null)}},addSVG:function(){var t=this,e=t._data;if(t._svgEl="svg"===e.nodeName.toLowerCase()?e.cloneNode(!0):e.querySelector("svg").cloneNode(!0),!t._g){var n=L.SVG.create("g");if(t._g=n,t._g.id=L.stamp(t._g),t._svgEl.id=L.stamp(t._svgEl),t._g.appendChild(t._svgEl),t._path=t._g,t._renderer._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path),t.options.interactive){L.DomUtil.addClass(t._g,"leaflet-interactive");var i=function(t){var e=t.childNodes;if(t.id&&(t.id=L.stamp(t)),e)for(var n=0,r=e.length;r>n;++n)i(e[n])};i(t._svgEl)}}},updateSVG:function(){var t=this,e=t.options||{};t._g.setAttribute("pointer-events",e.pointerEvents||(e.interactive?"visiblePainted":"none")),e.setStyle&&e.setStyle.call(t,t._svgEl);var n=t._svgEl.getAttribute("width"),i=t._svgEl.getAttribute("height"),r=n?n.replace("px",""):"100%",o=i?i.replace("px",""):"100%";"100%"===r&&(o=e.size.y,t._svgEl.setAttribute("width",(r=e.size.x)+(-1!==String(r).indexOf("%")?"":"px")),t._svgEl.setAttribute("height",o+(-1!==String(o).indexOf("%")?"":"px")));var s=e.size||new L.Point(r,o),a=new L.Point(s.x/r,s.y/o),u=[],c=e.anchor||new L.Point(-s.x/2,-s.y/2);u.push("translate("+(t._point.x+c.x)+" "+(t._point.y+c.y)+")"),u.push("scale("+a.x+" "+a.y+")"),t.options.rotation&&u.push("rotate("+e.rotation+" "+r/2+" "+o/2+")"),t._g.setAttribute("transform",u.join(" "))},getElement:function(){return me._g},redraw:function(){return this._map&&this._path&&this._renderer._updatePath(this),this},toGeoJSON:function(){return L.Util.pointToGeoJSON.call(this)}}),L.svgMarker=function(t,e){return new L.SVGMarker(t,e)},L.MarkerGroup=L.FeatureGroup.extend({initialize:function(t,e){L.FeatureGroup.prototype.initialize.call(this,e),this.setLatLng(t)},setStyle:function(){return this},setLatLng:function(t){return this._latlng=t,this.eachLayer(function(e){e.setLatLng&&e.setLatLng(t)}),this},getLatLng:function(){return this._latlng},toGeoJSON:function(){var t={type:"FeatureCollection",features:[]};return this.eachLayer(function(t){return function(e){t.features.push(L.Util.pointToGeoJSON.call(e))}}(t)),t}}),L.markerGroup=function(t,e){return new L.MarkerGroup(t,e)}}(window,document),window,document,L.BarMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t},options:{fill:!0,width:2,maxHeight:10,position:{x:0,y:0},weight:1,color:"#000",opacity:1,gradient:!0,dropShadow:!1,lineCap:"square",lineJoin:"miter"},setLatLng:function(t){return this._latlng=t,this.redraw()},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints()},_update:function(){this._map&&this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){var t=this._map,e=t.project(this._latlng),n=this.options.width/2,i=new L.Point(e.x-n,e.y),r=new L.Point(e.x+n,e.y-this.options.maxHeight),o=t.unproject(i),s=t.unproject(r);return new L.LatLngBounds(o,s)},getLatLng:function(){return this._latlng},getPathString:function(){return this._path.setAttribute("shape-rendering","crispEdges"),new L.SVGPathBuilder(this._points).build()},_getPoints:function(){var t=this._point.x+this.options.position.x,e=this._point.y+this.options.position.y,n=this.options.width/2,i=this.options.value/this.options.maxValue*this.options.maxHeight;return[new L.Point(t+n,e),new L.Point(t+n,e-i),new L.Point(t-n,e-i),new L.Point(t-n,e)]}}),L.barMarker=function(t,e){return new L.BarMarker(t,e)},L.ChartMarker=L.FeatureGroup.extend({initialize:function(t,e){L.Util.setOptions(this,e),this._layers={},this._latlng=t,this._loadComponents()},setLatLng:function(t){return this._latlng=t,this.redraw()},getLatLng:function(){return this._latlng},_loadComponents:function(){},_highlight:function(t){return t.weight&&(t.weight*=2),t},_unhighlight:function(t){return t.weight&&(t.weight/=2),t},_bindMouseEvents:function(t){var e=this,n=this.options.tooltipOptions;t.on("mouseover",function(t){var i,r=this.options,o=r.key,s=r.value,a=t.layerPoint,u=a.x-this._point.x,c=a.y-this._point.y,l=r.iconSize;l&&(i=new L.Point(0>u?l.x-u+5:-u-5,0>c?l.y-c+5:-c-5));var h={},f=r.displayText?r.displayText(s):s;h[o]={name:r.displayName,value:f};var d=new L.LegendIcon(h,r,{className:"leaflet-div-icon",iconSize:n?n.iconSize:l,iconAnchor:i||new L.Point(-5,0)});r.marker=new L.Marker(e._latlng,{icon:d}),r=e._highlight(r),this.initialize(e._latlng,r),this.redraw(),this.setStyle(r),e.addLayer(r.marker)}),t.on("mouseout",function(){var t=this.options;t=e._unhighlight(t),this.initialize(e._latlng,t),this.redraw(),this.setStyle(t),e.removeLayer(t.marker)})},bindPopup:function(t,e){this.eachLayer(function(n){n.bindPopup(t,e)})},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t=t||this._latlng);break}},closePopup:function(){for(var t in this._layers){latlng=latlng||this._latlng,this._layers[t].closePopup();break}},redraw:function(){this.clearLayers(),this._loadComponents()},toGeoJSON:function(){return L.Util.pointToGeoJSON.call(this)}}),L.BarChartMarker=L.ChartMarker.extend({initialize:function(t,e){L.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,position:{x:0,y:0},width:10,offset:0,iconSize:new L.Point(50,40)},_loadComponents:function(){var t,e,n,i,r,o,s=L.extend({},this.options),a=Object.keys(this.options.data).length,u=this.options.width,c=this.options.offset||0,l=this.options.data,h=this.options.chartOptions;for(var f in r=-(u*a+c*(a-1))/2+u/2,l)t=l[f],e=(o=h[f]).minValue||0,n=o.maxValue||100,s.fillColor=o.fillColor||this.options.fillColor,s.value=t,s.minValue=e,s.maxValue=n,s.position={x:r,y:0},s.width=u,s.maxHeight=o.maxHeight||10,s.key=f,s.value=t,s.displayName=o.displayName,s.opacity=this.options.opacity||1,s.fillOpacity=this.options.fillOpacity||.7,s.weight=this.options.weight||1,s.color=o.color||this.options.color,s.displayText=o.displayText,i=new L.BarMarker(this._latlng,s),this._bindMouseEvents(i),this.addLayer(i),r+=u+c}}),L.RadialBarMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t},options:{fill:!0,radius:10,rotation:0,numberOfSides:30,position:{x:0,y:0},gradient:!0,dropShadow:!1},setLatLng:function(t){return this._latlng=t,this.redraw()},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints()},_update:function(){this._map&&this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){var t=this._map,e=this.options.radiusY||this.options.radius,n=(this.options.radiusX||this.options.radius)*Math.cos(Math.PI/4),i=e*Math.sin(Math.PI/4),r=t.project(this._latlng),o=new L.Point(r.x-n,r.y+i),s=new L.Point(r.x+n,r.y-i),a=t.unproject(o),u=t.unproject(s);return new L.LatLngBounds(a,u)},getLatLng:function(){return this._latlng},getPathString:function(){var t=this.options.endAngle-this.options.startAngle>=180?"1":"0",e=this.options.radiusX||this.options.radius,n=this.options.radiusY||this.options.radius,i="M"+this._points[0].x.toFixed(2)+","+this._points[0].y.toFixed(2)+"A"+e.toFixed(2)+","+n.toFixed(2)+" 0 "+t+",1 "+this._points[1].x.toFixed(2)+","+this._points[1].y.toFixed(2)+"L";return i=this._innerPoints?(i=i+this._innerPoints[0].x.toFixed(2)+","+this._innerPoints[0].y.toFixed(2))+"A"+(e-this.options.barThickness).toFixed(2)+","+(n-this.options.barThickness).toFixed(2)+" 0 "+t+",0 "+this._innerPoints[1].x.toFixed(2)+","+this._innerPoints[1].y.toFixed(2)+"z":i+this._point.x.toFixed(2)+","+this._point.y.toFixed(2)+"z",L.Browser.vml&&(i=Core.SVG.path(i)),this._path.setAttribute("shape-rendering","geometricPrecision"),i},_getPoints:function(){var t=this.options.endAngle+this.options.rotation,e=[],n="radiusX"in this.options?this.options.radiusX:this.options.radius,i="radiusY"in this.options?this.options.radiusY:this.options.radius,r=function(t){return t*L.LatLng.DEG_TO_RAD};t=t||0,360==this.options.endAngle-this.options.startAngle&&(t-=.1);var o=r(this.options.startAngle+this.options.rotation),s=r(t);return e.push(this._getPoint(o,n,i)),e.push(this._getPoint(s,n,i)),this.options.barThickness&&(this._innerPoints=[],this._innerPoints.push(this._getPoint(s,n-this.options.barThickness,i-this.options.barThickness)),this._innerPoints.push(this._getPoint(o,n-this.options.barThickness,i-this.options.barThickness))),e},_getPoint:function(t,e,n){return new L.Point(this._point.x+this.options.position.x+e*Math.cos(t),this._point.y+this.options.position.y+n*Math.sin(t))}}),L.radialBarMarker=function(t,e){return new L.RadialBarMarker(t,e)},L.PieChartMarker=L.ChartMarker.extend({initialize:function(t,e){L.Util.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,radius:10,rotation:0,numberOfSides:50,mouseOverExaggeration:1.2,maxDegrees:360,iconSize:new L.Point(50,40)},_highlight:function(t){var e=t.radiusX,n=t.radiusY,i=t.barThickness;return t.oldBarThickness=i,t.oldRadiusX=e,t.oldRadiusY=n,t.radiusX*=t.mouseOverExaggeration,t.radiusY*=t.mouseOverExaggeration,t.barThickness=t.radiusX-e+i,t},_unhighlight:function(t){return t.radiusX=t.oldRadiusX,t.radiusY=t.oldRadiusY,t.barThickness=t.oldBarThickness,t},_loadComponents:function(){var t,e,n,i,r=0,o=0,s=this.options.maxDegrees||360,a=this.options.rotation,u=this.options,c=this.options.data,l=this.options.chartOptions,h=function(t,e){var n=0;return t[e]&&(n=parseFloat(t[e])),n};for(i in c)r+=t=h(c,i);if(r>0)for(i in c)t=parseFloat(c[i])||0,n=l[i],o=t/r*s,u.startAngle=a,u.endAngle=a+o,u.fillColor=n.fillColor,u.color=n.color||"#000",u.radiusX=this.options.radiusX||this.options.radius,u.radiusY=this.options.radiusY||this.options.radius,u.rotation=0,u.key=i,u.value=t,u.displayName=n.displayName,u.displayText=n.displayText,e=new L.RadialBarMarker(this._latlng,u),this._bindMouseEvents(e),a=u.endAngle,this.addLayer(e)}}),L.pieChartMarker=function(t,e){return new L.PieChartMarker(t,e)},L.CoxcombChartMarker=L.PieChartMarker.extend({statics:{SIZE_MODE_RADIUS:"radius",SIZE_MODE_AREA:"area"}}),L.CoxcombChartMarker=L.CoxcombChartMarker.extend({initialize:function(t,e){L.Util.setOptions(this,e),L.PieChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,radius:10,rotation:0,numberOfSides:50,mouseOverExaggeration:1.2,maxDegrees:360,iconSize:new L.Point(50,40),sizeMode:L.CoxcombChartMarker.SIZE_MODE_AREA},_loadComponents:function(){var t,e,n,i,r,o,s=this.options.maxDegrees||360,a=this.options.rotation,u=this.options,c="radiusX"in this.options?this.options.radiusX:this.options.radius,l="radiusY"in this.options?this.options.radiusY:this.options.radius,h=Object.keys(this.options.data).length,f=this.options.data,d=this.options.chartOptions;o=s/h;var p=function(t){return Math.sqrt(h*t/Math.PI)};for(var g in f){if(t=parseFloat(f[g])||0,e=(r=d[g]).minValue||0,n=r.maxValue,this.options.sizeMode===L.CoxcombChartMarker.SIZE_MODE_RADIUS){var m=new L.LinearFunction(new L.Point(e,0),new L.Point(n,c)),y=new L.LinearFunction(new L.Point(e,0),new L.Point(n,l));u.radiusX=m.evaluate(t),u.radiusY=y.evaluate(t)}else{var v=Math.max(c,l),_=Math.PI*Math.pow(v,2)/h,b=new L.LinearFunction(new L.Point(e,0),new L.Point(n,_),{postProcess:p});u.radiusX=b.evaluate(t),u.radiusY=u.radiusX}u.startAngle=a,u.endAngle=a+o,u.fillColor=r.fillColor,u.color=r.color||"#000",u.rotation=0,u.key=g,u.value=t,u.displayName=r.displayName,u.displayText=r.displayText,i=new L.RadialBarMarker(this._latlng,u),this._bindMouseEvents(i),a=u.endAngle,this.addLayer(i)}}}),L.coxcombChartMarker=function(t,e){return new L.CoxcombChartMarker(t,e)},L.RadialBarChartMarker=L.ChartMarker.extend({initialize:function(t,e){L.Util.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,radius:10,rotation:0,numberOfSides:30,offset:2,barThickness:5,maxDegrees:360,iconSize:new L.Point(50,40)},_loadComponents:function(){var t,e,n,i,r=this.options.rotation,o=this.options.maxDegrees||360,s=this.options,a=this.options.radiusX||this.options.radius,u=this.options.radiusY||this.options.radius,c=this.options.data,l=this.options.chartOptions,h=this.options.barThickness||4,f=this.options.offset||2;for(var d in c)t=parseFloat(c[d]),e=(i=l[d]).maxValue||100,r=new L.LinearFunction(new L.Point(i.minValue||0,0),new L.Point(e,o)).evaluate(t),s.startAngle=this.options.rotation,s.endAngle=this.options.rotation+r,s.fillColor=i.fillColor,s.radiusX=a,s.radiusY=u,s.barThickness=h,s.rotation=0,s.key=d,s.value=t,s.displayName=i.displayName,s.displayText=i.displayText,s.weight=this.options.weight||1,n=new L.RadialBarMarker(this._latlng,s),this._bindMouseEvents(n),this.addLayer(n),a+=h+f,u+=h+f}}),L.radialBarChartMarker=function(t,e){return new L.RadialBarChartMarker(t,e)},L.StackedRegularPolygonMarker=L.ChartMarker.extend({options:{iconSize:new L.Point(50,40)},initialize:function(t,e){L.Util.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},_loadComponents:function(){var t,e,n,i,r,o,s,a,u=0,c=0,l=this.options,h=this.options.data,f=this.options.chartOptions,d=[];for(i in h){t=parseFloat(h[i]),r=(n=f[i]).minValue||0,o=n.maxValue||100,s=n.minRadius||0,a=n.maxRadius||10,l.fillColor=n.fillColor||this.options.fillColor,l.value=t,l.minValue=r,l.maxValue=o;var p=new L.LinearFunction(new L.Point(r,s),new L.Point(o,a)).evaluate(t);l.radiusX=u+p,l.radiusY=c+p,l.innerRadiusX=u,l.innerRadiusY=c,l.key=i,l.displayName=n.displayName,l.opacity=this.options.opacity||1,l.fillOpacity=this.options.fillOpacity||.7,l.weight=this.options.weight||1,l.color=n.color||this.options.color,l.displayText=n.displayText,e=new L.RegularPolygonMarker(this._latlng,l),this._bindMouseEvents(e),u=l.radiusX,c=l.radiusY,this.options.drawReverse?d.push(e):this.addLayer(e)}if(this.options.drawReverse)for(var g=d.pop();g;)this.addLayer(g),g=d.pop()}}),L.RadialMeterMarker=L.ChartMarker.extend({initialize:function(t,e){L.Util.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,radius:10,rotation:180,numberOfSides:30,offset:2,barThickness:5,maxDegrees:180,iconSize:new L.Point(50,40),backgroundStyle:{fill:!0,fillColor:"#707070",fillOpacity:.2,opacity:.8,color:"#505050"}},_loadComponents:function(){var t,e,n,i,r,o,s=this.options.rotation,a=this.options.maxDegrees||360,u=this.options,c=this.options.radiusX||this.options.radius,l=this.options.radiusY||this.options.radius,h=this.options.data,f=this.options.chartOptions,d=this.options.barThickness||4,p=s,g=a/(this.options.numSegments||10);for(var m in h){t=parseFloat(h[m]),r=f[m],o=this.options.displayOptions?this.options.displayOptions[m]:{},e=r.minValue||0;for(var y,v,_=s+a/((n=r.maxValue||100)-e)*(t-e),b=s+a,x=new L.LinearFunction(new L.Point(s,e),new L.Point(b,n));_>p;){for(var w in u.startAngle=p,y=Math.min(g,_-p),u.endAngle=p+y,u.fillColor=r.fillColor,u.radiusX=c,u.radiusY=l,u.barThickness=d,u.rotation=0,u.key=m,u.value=t,u.displayName=r.displayName,u.displayText=r.displayText,v=x.evaluate(p+y),o)u[w]=o[w].evaluate?o[w].evaluate(v):o[w];i=new L.RadialBarMarker(this._latlng,u),this._bindMouseEvents(i),this.addLayer(i),p+=y}if(this.options.backgroundStyle&&b>p){for(var E in u.endAngle=p+(y=b-p),u.radiusX=c,u.radiusY=l,u.barThickness=d,u.rotation=0,u.key=m,u.value=t,u.displayName=r.displayName,u.displayText=r.displayText,u.fillColor=null,u.fill=!1,u.gradient=!1,this.options.backgroundStyle)u[E]=this.options.backgroundStyle[E];v=x.evaluate(p+y),i=new L.RadialBarMarker(this._latlng,u),this.addLayer(i)}}}}),function(t,e){L.LocationModes={LATLNG:function(t){var e=function(e,n){var i=L.Util.getFieldValue(t,e),r=L.Util.getFieldValue(t,n),o=null;if(i&&r){var s=new L.LatLng(i,r);o={location:s,text:[s.lat.toFixed(3),s.lng.toFixed(3)].join(", "),center:s}}return o},n=e(this.options.latitudeField,this.options.longitudeField);if(!n&&this.options.fallbackLocationFields)for(var i,r=0;!n&&r<this.options.fallbackLocationFields.length;)n=e((i=this.options.fallbackLocationFields[r]).latitudeField,i.longitudeField),r++;return n},GEOHASH:function(t,e){var n,i=this.options.geohashField?L.Util.getFieldValue(t,this.options.geohashField):e,r=decodeGeoHash(i);return r.latitude[2]&&r.longitude[2]&&(n=new L.LatLngBounds(new L.LatLng(r.latitude[0],r.longitude[0]),new L.LatLng(r.latitude[1],r.longitude[1]))),{location:n,text:i,center:n.getCenter()}},GWCOUNTRY:function(t,e){var n,i,r=this.options.codeField?L.Util.getFieldValue(t,this.options.codeField):e,o=L.gwNoLookup||{},s=L.countries||{},a=L.countryCentroids||{},u=r.toUpperCase();return r=u,u in o&&(r=o[u]||r),r?(n=s[r],i=a[r]):console.log("Code not found: "+u),{location:new L.GeoJSON(n),text:L.GeometryUtils.getName(n)||r,center:i}},COUNTRY:function(t,e){var n,i,r=this.options.codeField?L.Util.getFieldValue(t,this.options.codeField):e,o=L.codeLookup||{},s=L.alpha2Lookup||{},a=L.fips2Lookup||{},u=L.countries||{},c=L.countryCentroids||{},l=r.toUpperCase();return 2===(r=l).length?r=s[l]||a[l]:3===r.length&&(r=o[l]||r),r?(n=u[r],i=c[r]):console.log("Code not found: "+l),{location:new L.GeoJSON(n),text:L.GeometryUtils.getName(n)||r,center:i}},STATE:function(t,e){var n,i,r=this.options.codeField?L.Util.getFieldValue(t,this.options.codeField):e,o=L.states||{},s=L.stateCentroids||{};return n=o[r=r.toUpperCase()],i=s[r],{location:new L.GeoJSON(n),text:L.GeometryUtils.getName(n)||r,center:i}},GEOJSON:function(t){var e=this.options.geoJSONField,n=e?L.Util.getFieldValue(t,e):t,i=null;if(n){var r=this;i=L.GeometryUtils.getGeoJSONLocation(n,t,this.options.locationTextField,function(t,e){return r.recordToLayer(t,e)})}return i},LOOKUP:function(t,e){var n=this.options.codeField?this.options.codeField.call?this.options.codeField.call(this,t):L.Util.getFieldValue(t,this.options.codeField):e;this._lookupIndex=this.options.locationLookupIndexed?this.options.locationLookup:this._lookupIndex||L.GeometryUtils.indexFeatureCollection(this.options.locationLookup,this.options.locationIndexField||this.options.codeField);var i=this._lookupIndex[n],r=null;if(i||0!==n.indexOf("0")||(i=this._lookupIndex[n.substring(1)]),i){var o=this;r=L.GeometryUtils.getGeoJSONLocation(i,t,this.options.locationTextField,function(t,e){return o.recordToLayer(t,e)})}return r},CUSTOM:function(t){var e,n=this.options.codeField,i=n&&"function"==typeof n?n.call(this,t):L.Util.getFieldValue(t,n),r={};if(r[i]=t,this.options.getLocation){var o=this;e=this.options.getLocation(r,n,[i],function(t,e){o.locationToLayer(e,r[t])})}return e}},L.DataLayer=L.FeatureGroup.extend({options:{recordsField:"features",locationMode:L.LocationModes.LATLNG,latitudeField:"geometry.coordinates.1",longitudeField:"geometry.coordinates.0",displayField:null,displayOptions:null,layerOptions:{numberOfSides:4,radius:10,weight:1,color:"#000"},showLegendTooltips:!0,bindMouseEvents:!0,tooltipOptions:{iconSize:new L.Point(60,50),iconAnchor:new L.Point(-5,50),mouseOverExaggeration:2},setHighlight:function(t){return t.weight=t.weight||1,t.fillOpacity=t.fillOpacity||.5,t.weight*=2,t.fillOpacity/=1.5,t},unsetHighlight:function(t){return t.weight=t.weight||1,t.fillOpacity=t.fillOpacity||.25,t.weight/=2,t.fillOpacity*=1.5,t},removeUnreferencedLayers:!1},initialize:function(t,e){L.setOptions(this,e),L.FeatureGroup.prototype.initialize.call(this,e),t=t||{},this._includeFunction=this.options.filter||this.options.includeLayer,this._markerFunction=this.options.getMarker||this._getMarker,this._addChildLayers(),this.addData(t)},_addChildLayers:function(){this._boundaryLayer=new L.LayerGroup,this.addLayer(this._boundaryLayer),this._trackLayer=new L.LayerGroup,this.addLayer(this._trackLayer)},_zoomFunction:function(){var t=this._map,e=this,n=t.getZoom();if(this.options.maxZoom&&n>this.options.maxZoom)this.hiddenLayers=[],this.eachLayer(function(n){e.hiddenLayers.push(n),t.removeLayer(n)});else if(this.hiddenLayers){for(;this.hiddenLayers.length>0;){var i=this.hiddenLayers.pop();t.addLayer(i),this.options.backgroundLayer&&i.bringToBack&&i.bringToBack()}this.hiddenLayers=null}},_addLayer:function(t,e){return function(){t.addLayer(e)}},_removeLayer:function(t,e){return function(){t.removeLayer(e)}},onAdd:function(t){var e=this;for(var n in this._map=t,e._layers)e._layers.hasOwnProperty(n)&&setTimeout(this._addLayer(t,e._layers[n]),0);t.on("zoomend",e._zoomFunction,e)},onRemove:function(t){var e=this;for(var n in e._layers)e._layers.hasOwnProperty(n)&&setTimeout(this._removeLayer(t,e._layers[n]),0);e.tooltip&&(e._map.removeLayer(e.tooltip),e.tooltip=null),t.off("zoomend",e._zoomFunction,e)},bringToBack:function(){this.invoke("bringToBack"),this._trackLayer&&this._trackLayer.invoke("bringToBack"),this._boundaryLayer&&this._boundaryLayer.invoke("bringToBack")},bringToFront:function(){this._boundaryLayer&&this._boundaryLayer.invoke("bringToFront"),this._trackLayer&&this._trackLayer.invoke("bringToFront"),this.invoke("bringToFront")},getBounds:function(){var t;return this.eachLayer(function(e){e.getBounds&&(t?t.extend(e.getBounds()):t=e.getBounds())}),t},_getLocation:function(t,e){return this.options.locationMode.call(this,t,e)},_processLocation:function(t){return t.center},_styleBoundary:function(t,e,n){var i;return t.setStyle&&(this.options.boundaryStyle instanceof Function&&(i=this.options.boundaryStyle.call(this,n,t)),i=i||this.options.boundaryStyle||L.extend({},e,{fillOpacity:.2,interactive:!1}),t.setStyle(i)),t},_addBoundary:function(t,e,n){var i,r=t.location;return this.options.includeBoundary&&(r instanceof L.LatLngBounds&&(r=new L.Rectangle(r)),r=this._styleBoundary(r,e,n),this._boundaryLayer.addLayer(r),i=r),i},_getLayer:function(t,e,n){var i,r=this._addBoundary(t,e,n);return(t=this._processLocation(t))&&(this._markerFunction=this.options.getMarker||this._getMarker,(i=this._markerFunction.call(this,t,e,n)).boundaryLayer=r),i},_getMarker:function(t,e){var n;return t&&(n=e.numberOfSides>=30&&!(e.innerRadius||e.innerRadiusX&&e.innerRadiusY)?new L.CircleMarker(t,e):new L.RegularPolygonMarker(t,e)),n},_preProcessRecords:function(t){return t},_shouldLoadRecord:function(t){return this._includeFunction=this.options.filter||this.options.includeLayer,!this._includeFunction||this._includeFunction.call(this,t)},_loadRecords:function(t,e){var n,i={};for(var r in t=this._preProcessRecords(t))if(t.hasOwnProperty(r)){var o=t[r];o=this.options.deriveProperties?this.options.deriveProperties(o):o;var s=this._shouldLoadRecord(o);n=this._getLocation(o,r);var a=this.options.getIndexKey?this.options.getIndexKey.call(this,n,o):null;s?this.locationToLayer(n,o):this._layerIndex&&a in this._layerIndex&&(this.removeLayer(this._layerIndex[a]),delete this._layerIndex[a]),a&&(i[a]=!0)}if(this._layerIndex&&(e||this.options.removeUnreferencedLayers))for(var u in this._layerIndex)u in i||(this.removeLayer(this._layerIndex[u]),delete this._layerIndex[u])},_preloadLocations:function(t){var e=this.options.codeField,n=[],i={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],s=L.Util.getFieldValue(o,e);i[s]=o,n.push(s)}if(this.options.getLocation){var a=this;this.options.getLocation(i,e,n,function(t,e){a.locationToLayer(e,i[t])})}},setDisplayOptions:function(t){return this.options.displayOptions=t,this.reloadData(),this},setDisplayOption:function(t,e){return this.options.displayOptions=this.options.displayOptions||{},this.options.displayOptions[t]=t in this.options.displayOptions?L.extend({},this.options.displayOptions[t],e):e,this.reloadData(),this},setFilter:function(t){return this.options.filter=t,this.reloadData(),this},setOptions:function(t){return L.setOptions(this,t),this.reloadData(),this},setData:function(t){this._data=t,this.reloadData()},reloadData:function(t){return this._layerIndex||(this.clearLayers(),this._addChildLayers()),this._data&&this.addData(this._data,t),this.fire("legendChanged",this),this},addData:function(t,e){var n=null!==this.options.recordsField&&this.options.recordsField.length>0?L.Util.getFieldValue(t,this.options.recordsField):t;this.options.getIndexKey&&!this._layerIndex&&(this._layerIndex={},this._boundaryIndex={}),this.options.locationMode===L.LocationModes.CUSTOM&&this.options.preload?this._preloadLocations(n):this._loadRecords(n,e),this._data=t},locationToLayer:function(t,e){var n=this.recordToLayer(t,e);n&&this.addLayer(n)},_bindMouseEvents:function(t,e,n,i){var r=this,o=this.options,s=o.setHighlight,a=o.unsetHighlight,u=o.tooltipOptions,c=function(t){var e=t.target,a=this.options||e.options;if(o.showLegendTooltips){var c=u.className||"leaflet-div-icon";u.hideLegendBox&&(c+=" legend-box-hidden");var l=u.getTooltip?u.getTooltip.call(this,i,n,a):new L.LegendIcon(n,a,{className:c,iconSize:u.iconSize,iconAnchor:u.iconAnchor}),h=new L.Marker(t.latlng||t.target._latlng,{icon:l});e._map.addLayer(h),r.tooltip&&(e._map.removeLayer(r.tooltip),r.tooltip=null),r.tooltip=h}s&&(a=s(a)),e.setStyle&&e.setStyle(a),e.isHighlighted=!0},l=function(t){r.tooltip&&r.tooltip.setLatLng(t.latlng)},h=function(t){var e=t.target;if(e.isHighlighted){e.isHighlighted=!1,r.tooltip&&(e._map.removeLayer(r.tooltip),r.tooltip=null);var n=this.options||e.options;a&&(n=a(n)),e.setStyle&&e.setStyle(n)}},f=function(t){t.eachLayer?t.eachLayer(function(t){f(t)}):function(t){t.off("mouseover"),t.off("mouseout"),t.off("mousemove"),t.on({mouseover:c,mouseout:h,mousemove:l})}(t)};f(t)},_getDynamicOptions:function(t){var e=L.extend({},this.options.layerOptions),n=this.options.displayOptions||{},i={};if("function"==typeof n)return n.call(this,t,e);for(var r in n)if(n.hasOwnProperty(r)){var o,s=n[r],a=L.Util.getFieldValue(t,r);if(!s.excludeFromTooltip){var u=s.displayText?s.displayText(a):a;i[r]={name:s.displayName,value:u}}for(var c in s.styles&&(e=L.extend(e,s.styles[a])),s)s.hasOwnProperty(c)&&"styles"!==c&&(e[c]=(o=s[c]).evaluate?o.evaluate(a):o.call?o.call(this,a,t):o)}return{layerOptions:e,legendDetails:i}},_recursiveLayerUpdate:function(t,e){var n=this;t.eachLayer?t.eachLayer(function(t){n._recursiveLayerUpdate(t,e)}):e.call(n,t)},_getIndexedLayer:function(t,e,n,i){var r=this;if(this.options.getIndexKey){var o=this.options.getIndexKey.call(this,e,i);if(o in t?(layer=t[o],L.Util.updateLayer(layer,function(t){n.radius&&t instanceof L.CircleMarker&&t.setRadius(n.radius),t.setStyle(n),t.setLatLng&&t.getLatLng()!==e.center?t.setLatLng(e.center):r._recursiveLayerUpdate(t,function(t){t.redraw()})}),layer.boundaryLayer&&(layer.boundaryLayer=this._styleBoundary(layer.boundaryLayer,n,i))):(layer=this._getLayer(e,n,i),t[o]=layer),this.options.getTrack){var s=!layer.trackLayer;layer.trackLayer=this.options.getTrack.call(this,layer,e,layer.trackLayer),s&&this._trackLayer.addLayer(layer.trackLayer)}}else layer=this._getLayer(e,n,i);return layer},recordToLayer:function(t,e){var n,i=L.extend({},this.options.layerOptions),r={};if(this._shouldLoadRecord(e)){var o=this.options.dynamicOptions?this.options.dynamicOptions.call(this,e):this._getDynamicOptions(e);i=o.layerOptions,r=o.legendDetails,t&&i&&(i.title=t.text,(n=this._getIndexedLayer(this._layerIndex,t,i,e))&&(this.options.bindMouseEvents&&this._bindMouseEvents(n,i,r,e),this.options.onEachRecord&&this.options.onEachRecord.call(this,n,e,t,this)))}return n},getLegend:function(t){return this.options.getLegend?this.options.getLegend.call(this,t):this._getLegend(t)},_getLegendElement:function(t){var n,i,r=e.createElement("i"),o=t.displayProperties,s=t.ignoreProperties,a=t.displayTextFunction,u=t.index,c=t.numSegments,l=t.segmentWidth,h=t.minValue,f=t.maxValue;L.StyleConverter.applySVGStyle(r,t.layerOptions);var d={evaluate:function(e){return t.breaks[e]}};for(var p in o)if(o.hasOwnProperty(p)&&-1===s.indexOf(p)&&(valueFunction=o[p],valueFunction&&(valueFunction.getBounds||o.minValue&&o.maxValue))){var g=valueFunction.getBounds?valueFunction.getBounds():null,m=g?g[0].x:o.minValue,y=g?g[1].x:o.maxValue,v=t.breaks?d:new L.LinearFunction(new L.Point(0,m),new L.Point(c,y));n=m,i=y,a&&(n=a(m),i=a(y)),0===u&&(h.innerHTML=n,f.innerHTML=i);var _=(y-m)/c,b=v.evaluate(u),x=v.evaluate(u+1),w=valueFunction.evaluate?valueFunction.evaluate(b):valueFunction(b),E=valueFunction.evaluate?valueFunction.evaluate(x):valueFunction(x);L.StyleConverter.setCSSProperty(r,p,w),"fillColor"===p&&(r.style.cssText+=t.gradient?"background-image:linear-gradient(left , "+w+" 0%, "+E+" 100%);background-image:-ms-linear-gradient(left , "+w+" 0%, "+E+" 100%);background-image:-moz-linear-gradient(left , "+w+" 0%, "+E+" 100%);background-image:-webkit-linear-gradient(left , "+w+" 0%, "+E+" 100%);":"background-color:"+w+";"),"color"===p&&(r.style.cssText+="border-top-color:"+w+";border-bottom-color:"+E+";border-left-color:"+w+";border-right-color:"+E+";"),"weight"===p&&(r.style.cssText+="border-top-width:"+w+";border-bottom-width:"+E+";border-left-width:"+w+";border-right-width:"+E+";");var C=t.minX||_*u+m,S=t.maxX||C+_;a&&valueFunction&&(C=a(C),S=a(S)),r.setAttribute("title",C+" - "+S)}return r.style.width=~~l+"px",r},_getLegend:function(t){var n=(t=t||this.options.legendOptions||{}).className,i=e.createElement("div"),r=L.DomUtil.create("div","legend",i),o=t.numSegments||10,s=t.width||100,a=this.options.layerOptions||{},u=a.weight||0,c=s/o-2*u,l=this.options.displayOptions||{};n&&L.DomUtil.addClass(r,n),t.title&&(L.DomUtil.create("legend","",r).innerHTML=t.title);var h=function(t){return t};for(var f in l)if(l.hasOwnProperty(f)){var d=l[f];if(!d.excludeFromLegend){var p=d.displayName||f,g=d.displayText||h,m=d.styles;if(L.DomUtil.create("div","legend-title",r).innerHTML=p,m)r.innerHTML+=new L.CategoryLegend(m).generate();else{var y=L.DomUtil.create("div","data-layer-legend"),v=L.DomUtil.create("div","min-value",y),_=L.DomUtil.create("div","scale-bars",y),b=L.DomUtil.create("div","max-value",y),x=["displayName","displayText","minValue","maxValue"],w=d.breaks,E=[];if(o=t.numSegments||10,w){for(var C=new L.LinearFunction([w[0],0],[w[w.length-1],s]),S=0,I=0,N=1,P=w.length;P>N;++N)I=C.evaluate(w[N]),E.push(I-S-2*u),S=I;o=E.length}for(var T=0;o>T;++T){var M={displayProperties:d,layerOptions:a,ignoreProperties:x,displayTextFunction:g,index:T,numSegments:o,segmentWidth:c,minValue:v,maxValue:b,gradient:t.gradient};w&&E.length>0&&(M.segmentWidth=E[T],M.segmentSize=E[T],M.minX=w[T],M.maxX=w[T+1],M.breaks=w);var A=this._getLegendElement(M);_.appendChild(A)}r.appendChild(y)}}}return i.innerHTML},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();if("FeatureCollection"===i.type&&i.features)for(var r=0,o=i.features.length;o>r;++r)n.push(i.features[r]);else n.push(e?i.geometry:L.GeoJSON.asFeature(i))}}),e?L.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),L.dataLayer=function(t,e){return new L.DataLayer(t,e)},L.MapMarkerDataLayer=L.DataLayer.extend({_getMarker:function(t,e){return new L.MapMarker(t,e)}}),L.mapMarkerDataLayer=function(t,e){return new L.MapMarkerDataLayer(t,e)},L.MarkerDataLayer=L.DataLayer.extend({initialize:function(t,e){this._markerMap={},L.DataLayer.prototype.initialize.call(this,t,e)},options:{recordsField:"features",locationMode:L.LocationModes.LATLNG,latitudeField:"latitude",longitudeField:"longitude",layerOptions:{icon:null},showLegendTooltips:!1},_getMarker:function(t,e,n){return this.options.setIcon&&(e.icon=this.options.setIcon.call(this,n,e)),new L.Marker(t,e)},_getLegendElement:function(){},_getLegend:function(){return"<span>No legend available</span>"}}),L.markerDataLayer=function(t,e){return new L.MarkerDataLayer(t,e)},L.PanoramioLayer=L.MarkerDataLayer.extend({statics:{UPLOAD_DATE_FORMAT:"DD MMM YYYY",SIZE_BY_DATE:"date",SIZE_BY_POPULARITY:"popularity",SIZE_BY_NONE:"none",SIZES:{square:[60,60],mini_square:[32,32]},NUM_PHOTOS:50}}),L.PanoramioLayer=L.PanoramioLayer.extend({initialize:function(t){L.MarkerDataLayer.prototype.initialize.call(this,{},t),this._from=0,this._to=L.PanoramioLayer.NUM_PHOTOS,this._calls=[]},options:{recordsField:"photos",latitudeField:"latitude",longitudeField:"longitude",locationMode:L.LocationModes.LATLNG,showLegendTooltips:!1,sizeBy:L.PanoramioLayer.SIZE_BY_DATE,layerOptions:{opacity:1},onEachRecord:function(t,n){var i=n.photo_file_url,r=n.photo_title,o=this,s=n.width,a=n.height;t.on("click",function(u){var c=e.createElement("div"),l=L.DomUtil.create("div","",c);L.DomUtil.addClass(l,"panoramio-content");var h=L.DomUtil.create("img","photo",l);h.setAttribute("onload","this.style.opacity=1;"),h.setAttribute("src",i),h.style.width=s+"px";var f=L.DomUtil.create("div","photo-info",l);f.style.width=s-20+"px",f.innerHTML="<span>"+r+'</span><a class="photo-link" target="_blank" href="'+n.photo_url+'"><img src="http://www.panoramio.com/img/glass/components/logo_bar/panoramio.png" style="height: 14px;"/></a>';var d=L.DomUtil.create("a","author-link",l);d.setAttribute("target","_blank"),d.setAttribute("href",n.owner_url),d.innerHTML="by "+n.owner_name;var p=new L.DivIcon({className:"photo-details",html:c.innerHTML,iconAnchor:[s/2,a/2]}),g=new L.Marker(u.target._latlng,{icon:p,zIndexOffset:2e4});g.on("click",function(t){o.removeLayer(t.target)}),t.viewedImage=g,o.viewedImage=g,o.addLayer(g)}),this.options.onEachPhoto&&this.options.onEachPhoto.call(this,t,n)},setIcon:function(t){var e=L.Util.getFieldValue(t,"photo_title"),n=null;this._sizeFunction&&(n=this._sizeFunction.evaluate(t.index));var i=n?new L.Point(n,n):L.PanoramioLayer.SIZES[this.options.size],r=t.photo_file_url.replace("/medium/","/"+this.options.size+"/");return new L.DivIcon({iconSize:i,className:"",html:'<img class="photo" onload="this.style.opacity=1" title="'+e+'" src="'+r+'"/>'})},updateInterval:3e5,size:"square",attributionText:'Photos provided by <a href="http://www.panoramio.com"><img src="http://www.panoramio.com/img/glass/components/logo_bar/panoramio.png" style="height: 10px;"/></a>.  Photos provided by <a href="http://www.panoramio.com"><img src="http://www.panoramio.com/img/glass/components/logo_bar/panoramio.png" style="height: 10px;"/></a> are under the copyright of their owners',refreshEvents:"moveend",photoSet:"public"},includes:L.Mixin.Events,onAdd:function(t){L.DataLayer.prototype.onAdd.call(this,t),t.attributionControl&&t.attributionControl.addAttribution(this.options.attributionText);var e=this,n=function(){e._from=0,e._to=L.PanoramioLayer.NUM_PHOTOS,e.fire("requestingPhotos"),e._call&&clearTimeout(e._call),e._call=setTimeout(function(){e.requestPhotos()},1e3)};this.requestPhotos(),this._interval=setInterval(n,this.options.updateInterval),this._resetFunction=n,t.on(this.options.refreshEvents,n)},onRemove:function(t){L.DataLayer.prototype.onRemove.call(this,t),t.attributionControl&&t.attributionControl.removeAttribution(this.options.attributionText),this._interval&&(clearInterval(this._interval),this._interval=null),t.off(this.options.refreshEvents,this._resetFunction)},calculateSizeByDate:function(t){for(var e=t.photos,n=[],i=0,r=e.length;r>i;++i){var o=moment(e[i].upload_date,L.PanoramioLayer.UPLOAD_DATE_FORMAT);n.push(o),e[i].index=o}n.sort(function(t,e){return t-e});var s=L.PanoramioLayer.SIZES[this.options.size][0];return this._sizeFunction=new L.LinearFunction([n[0],s/2],[n[n.length-1],s]),t},calculateSizeByPopularity:function(t){for(var e=t.photos,n=0,i=e.length;i>n;++n)e[n].index=n;var r=L.PanoramioLayer.SIZES[this.options.size][0];return this._sizeFunction=new L.LinearFunction([0,r/2],[e.length,r]),t},next:function(){this._from=this._to,this._to=this._from+L.PanoramioLayer.NUM_PHOTOS,this.requestPhotos()},previous:function(){this._to=this._from,this._from=this._from-L.PanoramioLayer.NUM_PHOTOS,this.requestPhotos()},requestJsonp:function(n,i,r){var o=this,s="function"+(new Date).getTime(),a=[];for(var u in i.callback="window.LeafletDvfJsonpCallbacks."+s,i)i.hasOwnProperty(u)&&a.push(u+"="+encodeURIComponent(i[u]));return n+=(n.indexOf("?")>0?"&":"?")+a.join("&"),"undefined"==typeof t.LeafletDvfJsonpCallbacks&&(t.LeafletDvfJsonpCallbacks={}),t.LeafletDvfJsonpCallbacks[s]=function(e){r.call(o,e),delete t.LeafletDvfJsonpCallbacks[s]},this.jsonpScript&&(e.head.removeChild(this.jsonpScript),this.jsonpScript=null),this.jsonpScript=e.createElement("script"),this.jsonpScript.setAttribute("type","text/javascript"),this.jsonpScript.setAttribute("async","true"),this.jsonpScript.setAttribute("src",n),e.head.appendChild(this.jsonpScript),{abort:function(){s in t.LeafletDvfJsonpCallbacks&&(t.LeafletDvfJsonpCallbacks[s]=function(){delete t.LeafletDvfJsonpCallbacks[s]})}}},requestPhotos:function(){for(var t=this,e=this._map.getBounds(),n=e.getSouthWest(),i=e.getNorthEast();t._calls.length>0;)t._calls.pop().abort();var r=this.requestJsonp("http://www.panoramio.com/map/get_panoramas.php",{set:this.options.photoSet,from:t._from,to:t._to,minx:n.lng,miny:n.lat,maxx:i.lng,maxy:i.lat,size:"medium",mapfilter:"true"},function(e){t._count=e.count,moment&&t.options.sizeBy===L.PanoramioLayer.SIZE_BY_DATE?e=t.calculateSizeByDate(e):t.options.sizeBy===L.PanoramioLayer.SIZE_BY_POPULARITY&&(e=t.calculateSizeByPopularity(e)),t.fire("photosAvailable",e),t.clearLayers(),t.addData(e)});t._calls.push(r)}}),L.panoramioLayer=function(t){return new L.PanoramioLayer(t)},L.GeohashDataLayer=L.DataLayer.extend({initialize:function(t,e){L.DataLayer.prototype.initialize.call(this,t,e)},options:{recordsField:"features",locationMode:L.LocationModes.GEOHASH,geohashField:"geohash",displayField:null,displayOptions:null,layerOptions:{weight:1,color:"#000"},getIndexKey:function(t){return t.text}},_getLayer:function(t,e){return new L.Rectangle(t.location,e)}}),L.geohashDataLayer=function(t,e){return new L.GeohashDataLayer(t,e)},L.ChoroplethDataLayer=L.DataLayer.extend({initialize:function(t,e){L.DataLayer.prototype.initialize.call(this,t,e)},options:{recordsField:"features",locationMode:L.LocationModes.COUNTRY,codeField:"ISO",displayField:null,displayOptions:null,layerOptions:{weight:1,color:"#000"},maxZoom:16,backgroundLayer:!0},_getLayer:function(t,e,n){return t.location instanceof L.LatLng?(this._markerFunction=this.options.getMarker||this._getMarker,t.location=this._markerFunction.call(this,t.location,e,n)):t.location instanceof L.LatLngBounds&&(t.location=new L.Rectangle(t.location,e)),t.location.setStyle&&(e.gradient=!(t.location instanceof L.Polyline)&&e.gradient,t.location.setStyle(e)),t.location}}),L.choroplethDataLayer=function(t,e){return new L.ChoroplethDataLayer(t,e)},L.ChartDataLayer=L.DataLayer.extend({options:{showLegendTooltips:!1,bindMouseEvents:!1},initialize:function(t,e){L.DataLayer.prototype.initialize.call(this,t,e)},_getLayer:function(t,e,n){var i=this._addBoundary(t,e,n);t=this._processLocation(t);var r,o=this.options.chartOptions,s=this.options.tooltipOptions,a={};for(var u in(a=e).data={},a.chartOptions=o,this.options.chartOptions)a.data[u]=this.options.getFieldValue?this.options.getFieldValue.call(this,n,u):L.Util.getFieldValue(n,u);for(u in s)a[u]=s[u];return t&&(this._markerFunction=this.options.getMarker||this._getMarker,(r=this._markerFunction.call(this,t,a,n)).boundaryLayer=i),r},_getMarker:function(){},_getLegend:function(t){return(L.DataLayer.prototype._getLegend.call(this,t),new L.CategoryLegend(this.options.chartOptions)).generate(t=t||this.options.legendOptions)}}),L.BarChartDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.BarChartMarker(t,e)}}),L.barChartDataLayer=function(t,e){return new L.BarChartDataLayer(t,e)},L.RadialBarChartDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.RadialBarChartMarker(t,e)}}),L.radialBarChartDataLayer=function(t,e){return new L.RadialBarChartDataLayer(t,e)},L.PieChartDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.PieChartMarker(t,e)}}),L.pieChartDataLayer=function(t,e){return new L.PieChartDataLayer(t,e)},L.CoxcombChartDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.CoxcombChartMarker(t,e)}}),L.coxcombChartDataLayer=function(t,e){return new L.CoxcombChartDataLayer(t,e)},L.StackedRegularPolygonDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.StackedRegularPolygonMarker(t,e)}}),L.stackedRegularPolygonDataLayer=function(t,e){return new L.StackedRegularPolygonDataLayer(t,e)},L.StackedPieChartDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_getMarker:function(t,e){return new L.StackedPieChartMarker(t,e)}}),L.stackedPieChartDataLayer=function(t,e){return new L.StackedPieChartDataLayer(t,e)},L.RadialMeterMarkerDataLayer=L.DataLayer.extend({options:{showLegendTooltips:!1},initialize:function(t,e){L.DataLayer.prototype.initialize.call(this,t,e)},_getLayer:function(t,e,n){this._addBoundary(t,e,n),t=this._processLocation(t);var i,r=this.options.chartOptions,o=this.options.tooltipOptions,s=this.options.displayOptions,a={};for(var u in(a=e).data={},a.chartOptions=r,a.displayOptions=s,this.options.chartOptions)a.data[u]=L.Util.getFieldValue(n,u);for(u in o)a[u]=o[u];return t&&(i=this._getMarker(t,a,n)),i},_getMarker:function(t,e){return new L.RadialMeterMarker(t,e)}}),L.radialMeterMarkerDataLayer=function(t,e){return new L.RadialMeterMarkerDataLayer(t,e)}}(window,document),window,document,L.CalloutLine=L.Path.extend({statics:{LINESTYLE:{ARC:"arc",ANGLE:"angle",STRAIGHT:"straight"},DIRECTION:{NE:"ne",NW:"nw",SE:"se",SW:"sw"}}}),L.CalloutLine=L.CalloutLine.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t},options:{size:new L.Point(60,30),position:new L.Point(0,0),color:"#FFFFFF",opacity:1,weight:2,fillColor:"#000000",fill:!1,gradient:!1,dropShadow:!1,direction:L.CalloutLine.DIRECTION.NE,lineStyle:L.CalloutLine.LINESTYLE.ANGLE,lineCap:"butt",lineJoin:"miter",arrow:!1},projectLatLngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints()},_project:function(){this.projectLatLngs(),this._updateBounds()},_updateBounds:function(){var t=this._map.project(this._latlng),e=new L.Point(t.x+this.options.position.x,t.y+this.options.position.y),n=new L.Point(e.x+this.options.size.x,e.y-this.options.size.y);this._pxBounds=new L.Bounds(e,n)},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getEndPoint:function(){return this._project(),this._points[this._points.length-1]},_getPathAngle:function(){return new L.SVGPathBuilder(this._points,[],{closePath:!1}).build(6)},_getPathArc:function(){var t=(this.options.direction||L.CalloutLine.DIRECTION.NE).toLowerCase(),e=this._points[0],n=this._points[this._points.length-1];return["M",e.x,",",e.y," Q",e.x,",",e.y+("n"===t[0]?-1:1)*this.options.size.y," ",n.x,",",n.y].join(" ")},_getPoints:function(){var t=this._point.x+this.options.position.x,e=this._point.y+this.options.position.y,n=this.options.size.x,i=this.options.size.y,r=(this.options.direction||L.CalloutLine.DIRECTION.NE).toLowerCase(),o=[],s="w"===r[1]?-1:1,a="n"===r[0]?-1:1;o.push(new L.Point(t,e));var u=e+a*i,c=n/2,l=Math.atan(i/c);if(this.options.lineStyle===L.CalloutLine.LINESTYLE.ARC?l=Math.atan(Math.pow(i,2)/c):this.options.lineStyle===L.CalloutLine.LINESTYLE.STRAIGHT&&(l=Math.atan(i/n)),this._angle=l,this.options.lineStyle!==L.CalloutLine.LINESTYLE.STRAIGHT){var h=new L.Point(t+s*c,u);o.push(h)}var f=new L.Point(t+s*n,u);return o.push(f),o},getBounds:function(){var t=this._map,e=t.project(this._latlng),n=new L.Point(e.x+this.options.position.x,e.y+this.options.position.y),i=new L.Point(n.x+this.options.size.x,n.y-this.options.size.y),r=t.unproject(n),o=t.unproject(i);return new L.LatLngBounds(r,o)},setLatLng:function(t){this._latlng=t,this.redraw()},getLatLng:function(){return this._latlng},getPathString:function(){this._path.setAttribute("shape-rendering","geometricPrecision");var t=this.options.lineStyle||L.CalloutLine.LINESTYLE.ANGLE;return""+(t===L.CalloutLine.LINESTYLE.ANGLE||t===L.CalloutLine.LINESTYLE.STRAIGHT?this._getPathAngle():this._getPathArc())}}),L.calloutLine=function(t,e){return new L.CalloutLine(t,e)},L.Callout=L.LayerGroup.extend({options:{color:"#FFFFFF",fillColor:"#FFFFFF"},initialize:function(t,e){L.Util.setOptions(this,e),L.LayerGroup.prototype.initialize.call(this,e),this._latlng=t},onAdd:function(t){L.LayerGroup.prototype.onAdd.call(this,t),this.addLayers()},onRemove:function(t){L.LayerGroup.prototype.onRemove.call(this,t),this.clearLayers()},addArrow:function(t,e,n){if(this.options.arrow){t=L.LatLng.RAD_TO_DEG*t;var i=this.options.numberOfSides||3,r=180/i,o=new L.RegularPolygonMarker(this._latlng,{position:n,numberOfSides:i,rotation:{se:r+t,sw:180+r-t,nw:180+r+t,ne:r-t}[e],fillColor:this.options.fillColor,color:this.options.color,gradient:this.options.gradient,weight:this.options.weight,opacity:this.options.opacity,fillOpacity:this.options.fillOpacity,radius:this.options.radius||6,lineCap:"butt",lineJoin:"miter"});this.addLayer(o)}},addLine:function(){var t={};for(var e in this.options)"icon"!==e&&(t[e]=this.options[e]);var n=new L.CalloutLine(this._latlng,t);return this.addLayer(n),n},addIcon:function(t,e){var n=this.options.size,i=this.options.icon,r=i.options.iconSize;i.options.iconAnchor=new L.Point("w"===t[1]?r.x+n.x-e.x:-1*(n.x+e.x),"n"===t[0]?r.y/2+n.y-e.y:-1*(-r.y/2+n.y+e.y));var o=new L.Marker(this._latlng,{icon:i});this.addLayer(o)},addLayers:function(){var t,e=(this.options.direction||"ne").toLowerCase(),n=this.options.position||new L.Point(0,0);t=this.addLine(),this.addIcon(e,n),this.addArrow(t._angle,e,n)}}),L.callout=function(t,e){return new L.Callout(t,e)},L.FlowLine=L.DataLayer.extend({statics:{LINE_FUNCTION:function(t,e,n){return new L.Polyline([t,e],n)},LINE_FUNCTION_INTERPOLATED:function(t,e,n){var i=this._map.latlngToLayerPoint(t),r=this._map.latlngToLayerPoint(e),o=new L.LinearFunction(i,r),s=Math.ceil(i.distanceTo(r)/n.interpolationOptions.segmentLength);o.samplePoints(s)}}}),L.FlowLine=L.FlowLine.extend({initialize:function(t,e){L.Util.setOptions(this,e),L.DataLayer.prototype.initialize.call(this,t,e)},options:{getLine:L.FlowLine.LINE_FUNCTION,showLegendTooltips:!0,setHighlight:function(t){return t.opacity=t.opacity||1,t.opacity/=1.5,t},unsetHighlight:function(t){return t.opacity=t.opacity||.66,t.opacity*=1.5,t}},onEachSegment:function(t,e,n){var i={};if(this.options.timeField){var r=L.Util.getFieldValue(t,this.options.timeField),o=L.Util.getFieldValue(e,this.options.timeField),s=this.options.timeFormat,a=s?moment(r,s):moment(r),u=(s?moment(o,s):moment(o)).valueOf()-a.valueOf();i.time=u}for(var c in this.options.displayOptions){var l=L.Util.getFieldValue(t,c),h=L.Util.getFieldValue(e,c),f=h-l;i[c]={from:l,to:h,change:f,percentChange:f/l*100},i.time&&(i[c].changeOverTime=f/i.time)}var d,p=n.getLatLngs(),g=p[0].distanceTo(p[1]);i.time&&(d=g/(1e3*i.time)),this.options.onEachSegment&&this.options.onEachSegment.call(this,t,e,n,i,g,d)},_loadRecords:function(t){var e=[];for(var n in this._lastRecord=null,t)if(t.hasOwnProperty(n)){var i=t[n];i=this.options.deriveProperties?this.options.deriveProperties(i):i,e=this._addRecord(i,n,e)}for(;e.length>0;)this.addLayer(e.pop())},addRecord:function(t){return this._addRecord(t),this},_addRecord:function(t,e,n){var i=this._getLocation(t,e),r=this.options.layerOptions;if(i){var o,s=this._getLayer(i,r,t),a=!0;this.options.includeLayer&&(a=this.options.includeLayer(t)),this._lastRecord&&a&&(r=this._getDynamicOptions(this._lastRecord),o=this.options.getLine.call(this,this._lastMarker.getLatLng(),s.getLatLng(),r.layerOptions),this.addLayer(o),this.options.showLegendTooltips&&this._bindMouseEvents(o,r.layerOptions,r.legendDetails),this.onEachSegment(this._lastRecord,t,o)),a&&(this._lastRecord=t,this._lastMarker=s)}return n}}),L.flowLine=function(t,e){return new L.FlowLine(t,e)},L.ArcedFlowLine=L.FlowLine.extend({options:{getLine:function(t,e,n){return new L.ArcedPolyline([t,e],n)}},initialize:function(t,e){L.FlowLine.prototype.initialize.call(this,t,e)}}),L.arcedFlowLine=function(t,e){return new L.ArcedFlowLine(t,e)},L.ArcedPolyline=L.Path.extend({includes:L.extend({},L.TextFunctions,L.PolylineFunctions),initialize:function(t,e){L.setOptions(this,e),this._latlngs=t},options:{distanceToHeight:new L.LinearFunction([0,5],[1e3,200]),color:"#FFFFFF",opacity:1,weight:1,fillColor:"#000000",fill:!1,gradient:!1,dropShadow:!1,optimizeSpeed:!1,mode:"C"},_project:function(){this._points=[];for(var t=0,e=this._latlngs.length;e>t;++t)this._points.push(this._map.latLngToLayerPoint(this._latlngs[t]))},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){for(var t=new L.LatLngBounds,e=0,n=this._latlngs.length;n>e;++e)t.extend(this._latlngs[e]);return t},setLatLngs:function(t){return this._latlngs=t,this.redraw(),this},getLatLngs:function(){return this._latlngs},drawSegment:function(t,e){var n,i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=this.options.distanceToHeight.evaluate(i),o=t,s=e;return this._angle=Math.atan(2*r/(.5*i)),"Q"===this.options.mode?o=(n=new L.LinearFunction(t,e)).getPointAtPercent(.5):this.options.controlPointOffsets&&(o=(n=new L.LinearFunction(t,e)).getPointAtPercent(this.options.controlPointOffsets.x),s=n.getPointAtPercent(1-this.options.controlPointOffsets.y)),n=null,["M",t.x,",",t.y].concat("C"===this.options.mode?["C",o.x,",",o.y-r,s.x,",",s.y-r]:["Q",o.x,",",o.y-r]).concat([e.x,",",e.y]).join(" ")},getPathString:function(){this.options.optimizeSpeed&&this._path.setAttribute("shape-rendering","optimizeSpeed");for(var t=[],e=0,n=this._points.length-1;n>e;++e)t.push(this.drawSegment(this._points[e],this._points[e+1]));return t.join("")}}),L.arcedPolyline=function(t,e){return new L.ArcedPolyline(t,e)},function(t,e){L.Control.Legend=L.Control.extend({options:{position:"bottomright",autoAdd:!0,toggleSize:!0},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-legend"),n=this;return this.options.autoAdd&&(t.on("layeradd",function(t){n.addLayer(t.layer)}),t.on("layerremove",function(t){n.removeLayer(t.layer)})),this.toggleSize=L.bind(this.toggleSize,this),this.options.toggleSize?L.DomEvent.addListener(e,"mouseover",this.toggleSize).addListener(e,"mouseout",this.toggleSize).addListener(e,"touchstart",this.toggleSize).addListener(e,"touchend",this.toggleSize).addListener(e,"mousedown",L.DomEvent.stopPropagation).addListener(e,{mousewheel:L.DomEvent.stopPropagation,MozMousePixelScroll:L.DomEvent.preventDefault}).addListener(e,"click",L.DomEvent.stopPropagation).addListener(e,"click",L.DomEvent.preventDefault):L.DomUtil.addClass(e,"larger"),e},clear:function(){this._container.innerHTML=""},toggleSize:function(){L.DomUtil.hasClass(this._container,"larger")?L.DomUtil.removeClass(this._container,"larger"):L.DomUtil.addClass(this._container,"larger")},redrawLayer:function(t){this.removeLayer(t),this.addLayer(t)},addLayer:function(t){var e=L.Util.stamp(t),n=this;t.getLegend&&(this.addLegend(e,t.getLegend()),t.on("legendChanged",function(){n.redrawLayer(t)}))},removeLayer:function(t){var n=L.Util.stamp(t);if(t.getLegend){var i=e.getElementById(n);i&&i.parentNode.removeChild(i),t.off("legendChanged")}},addLegend:function(t,n){var i=this._container,r=e.getElementById(t);r||((r=L.DomUtil.create("div","",i)).id=t),r.innerHTML=n}}),L.control.legend=function(t){return new L.Control.Legend(t)}}(window,document),function(t,e){L.SeriesMarker=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._latlng=t},options:{fill:!1,size:new L.Point(80,80),position:{x:0,y:0},weight:1,color:"#000",opacity:1},setLatLng:function(t){return this._latlng=t,this.redraw()},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._points=this._getPoints()},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getBounds:function(){var t=this._map,e=t.project(this._latlng),n=new L.Point(e.x,e.y),i=new L.Point(e.x+this.options.size.x,e.y-this.options.size.y),r=t.unproject(n),o=t.unproject(i);return new L.LatLngBounds(r,o)},getLatLng:function(){return this._latlng},getPathString:function(){return new L.SVGPathBuilder(this._points,null,{closePath:this.options.fill}).build(6)},getDataPoint:function(t){return _.find(this._seriesPoints,function(e){return e.x===t})},getClosestPathPoint:function(t){var e,n=this._points,i=-1,r=_.find(n,function(e,n){var r=e.x>=t;return r&&(i=n),r});if(r)if(r.x===t)e=r;else if(i>0){var o=n[i-1],s=Math.abs(r.x-t);e=Math.abs(o.x-t)>s?r:o}return e},getClosestPoint:function(t){var e,n=this._seriesPoints,i=-1;t=this._reverseXTransform.evaluate(t);var r=_.find(n,function(e,n){var r=e.x>=t;return r&&(i=n),r});if(r)if(r.x===t)e=r;else if(i>0){var o=n[i-1],s=Math.abs(r.x-t);e=Math.abs(o.x-t)>s?r:o}return e},_getPoints:function(){var t=this.options,e=t.size,n=t.xRange?t.xRange[0]:t.minX,i=t.xRange?t.xRange[1]:t.maxX,r=t.yRange?t.yRange[0]:t.minY,o=t.yRange?t.yRange[1]:t.maxY,s=new L.LinearFunction([n,0],[i,e.x]),a=new L.LinearFunction([r,0],[o,e.y]);this._reverseXTransform=new L.LinearFunction([0,n],[e.x,i]),this._reverseYTransform=new L.LinearFunction([0,r],[e.y,o]);var u,c,l,h=t.xField||"x",f=t.yField||"y",d=[],p=t.value;for(var g in this._seriesPoints=[],p)p.hasOwnProperty(g)&&(u=p[g],c=L.Util.getFieldValue(u,h),l=L.Util.getFieldValue(u,f),c=isNaN(c)?moment(c).unix():Number(c),this._seriesPoints.push(new L.Point(c,l)),c=s.evaluate(c),l=a.evaluate(l),d.push(new L.Point(this._point.x+t.position.x+c-e.x/2,this._point.y+t.position.y-l)));if(this._seriesPoints=_.sortBy(this._seriesPoints,function(t){return t.x}),d=_.sortBy(d,function(t){return t.x}),t.fill){var m=a.evaluate(r);d.unshift(new L.Point(this._point.x+t.position.x+s.evaluate(n)-e.x/2,this._point.y+t.position.y-m)),d.push(new L.Point(this._point.x+t.position.x+s.evaluate(i)-e.x/2,this._point.y+t.position.y-m))}return d}}),L.Line=L.Path.extend({initialize:function(t,e){L.setOptions(this,e),this._points=t},_project:function(){},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getPathString:function(){return new L.SVGPathBuilder(this._points,null,{closePath:!1}).build(6)}}),L.SparklineMarker=L.ChartMarker.extend({initialize:function(t,e){L.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,dataPointHighlightStyle:{weight:1,opacity:1,color:"#1E90FF",lineCap:"square",dropShadow:!1,dashArray:[5,2]}},_highlight:function(t){return t.weight&&(t.weight*=2),t},_unhighlight:function(t){return t.weight&&(t.weight/=2),t},_bindMouseEvents:function(t){var e=this,n=this.options.tooltipOptions;t.on("mousemove",function(i){var r,o=this.options,s=o.key,a=o.value,u=i.layerPoint,c=u.x-this._point.x,l=o.iconSize;o.marker&&e.removeLayer(o.marker),o.lines&&_.each(o.lines,function(t){e.removeLayer(t)});var h=t.getClosestPoint(c+o.position.x+e.options.size.x/2),f=t.getClosestPathPoint(u.x);if(t.getBounds(),h){a={x:h.x,y:h.y},r=new L.Point(-5,l.y+5);var d={},p=o.displayText?o.displayText(a):'<div><div><span class="xvalue">'+a.x+'</span><span class="separator">:</span><span class="yvalue">'+a.y+"</span></div></div>";d[s]={name:o.displayName,value:p};var g=new L.LegendIcon(d,o,{className:"leaflet-div-icon",iconSize:n?n.iconSize:l,iconAnchor:r}),m=e._map.layerPointToLatLng(f);o.marker=new L.Marker(m,{icon:g}),o.lines=[new L.Line([new L.Point(f.x,t._point.y),new L.Point(f.x,f.y)],e.options.dataPointHighlightStyle),new L.Line([new L.Point(f.x,f.y),new L.Point(t._point.x+o.position.x-e.options.size.x/2,f.y)],e.options.dataPointHighlightStyle)],e.addLayer(o.marker),_.each(o.lines,function(t){e.addLayer(t)})}}),t.on("mouseover",function(){var t=this.options;t=e._highlight(t),this.initialize(e._latlng,t),this.redraw(),this.setStyle(t)}),t.on("mouseout",function(){var t=this.options;t=e._unhighlight(t),this.initialize(e._latlng,t),this.redraw(),this.setStyle(t),t.lines&&_.each(t.lines,function(t){e.removeLayer(t)}),e.removeLayer(t.marker)})},_loadComponents:function(){var t,e,n=this.options.chartOptions,i=this.options.data;for(var r in i)if(i.hasOwnProperty(r)){t=i[r],e=n[r],(e=L.Util.extend({},this.options,e)).xField="0",e.yField="1",e.key=r,e.value=t;var o=new L.SeriesMarker(this._latlng,e);this._bindMouseEvents(o),this.addLayer(o)}}}),L.SparklineDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_preProcessRecords:function(t){var e,n,i,r,o,s,a=[Number.MAX_VALUE,Number.MIN_VALUE],u=[Number.MAX_VALUE,Number.MIN_VALUE],c={},l=[],h=this.options.xField||"x",f=this.options.yField||"y",d=this.options.seriesField,p=this.options.filter||this.options.includeLayer,g={};for(s in t)if(t.hasOwnProperty(s)&&(e=t[s],!p||p.call(this,e)))if(d)for(i in n=L.Util.getFieldValue(e,d),_.isObject(n)&&(n=_.pairs(n)),this.options.chartOptions){g={};var m=this.options.chartOptions[i];for(o in n)n.hasOwnProperty(o)&&(r=n[o],E=L.Util.getFieldValue(r,m.xField||h),y=L.Util.getFieldValue(r,m.yField||f),isNaN(E)&&(E=moment(E).unix()),c[E=Number(E)]=E,a[0]=Math.min(a[0],E),a[1]=Math.max(a[1],E),u[0]=Math.min(u[0],y),u[1]=Math.max(u[1],y),g[E]=y);l[s]=l[s]||e,L.Util.setFieldValue(l[s],i,g)}else for(i in this.options.chartOptions){n=L.Util.getFieldValue(e,i),_.isObject(n)&&(n=_.pairs(n)),g={};var v=this.options.chartOptions[i];for(o in n)n.hasOwnProperty(o)&&(r=n[o],E=L.Util.getFieldValue(r,v.xField||h),y=L.Util.getFieldValue(r,v.yField||f),r.x?(E=r.x,y=r.y):_.isArray(r)?(E=r[0],y=r[1]):(E=s,y=r),isNaN(E)&&(E=moment(E).unix()),c[E=Number(E)]=E,a[0]=Math.min(a[0],E),a[1]=Math.max(a[1],E),u[0]=Math.min(u[0],y),u[1]=Math.max(u[1],y),g[E]=y);l[s]=l[s]||e,L.Util.setFieldValue(l[s],i,g)}for(s in c=_.sortBy(_.keys(c),function(t){return t}),l){var b=l[s];for(i in this.options.chartOptions){for(var x=L.Util.getFieldValue(b,i),w=0;w<c.length;++w){var E=c[w];E in x||(x[E]=0)}L.Util.setFieldValue(l[s],i,_.chain(x).pairs().sortBy(function(t){return t}).value())}}return this.options.layerOptions.minX=a[0],this.options.layerOptions.maxX=a[1],this.options.layerOptions.minY=Math.min(0,u[0]),this.options.layerOptions.maxY=u[1],this.options.xField="0",this.options.yField="1",l},_getMarker:function(t,e){return new L.SparklineMarker(t,e)}}),L.sparklineDataLayer=function(t,e){return new L.SparklineDataLayer(t,e)},L.WordCloudMarker=L.ChartMarker.extend({initialize:function(t,e){L.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{},_loadComponents:function(){}}),L.wordCloudMarker=function(t,e){return new L.WordCloudMarker(t,e)},L.WordCloudDataLayer=L.ChartDataLayer.extend({initialize:function(t,e){L.ChartDataLayer.prototype.initialize.call(this,t,e)},_preProcessRecords:function(t){return t},_getMarker:function(t,e){return new L.WordCloudMarker(t,e)}}),L.wordCloudDataLayer=function(t,e){return new L.WordCloudDataDataLayer(t,e)},L.Graph=L.DataLayer.extend({statics:{EDGESTYLE:{STRAIGHT:function(t,e){return new L.Polyline([t,e])},ARC:function(t,e){return new L.ArcedPolyline([t,e])}}}}),L.Graph=L.Graph.extend({options:{getEdge:L.Graph.EDGESTYLE.STRAIGHT,useLocationText:!0},_getLayer:function(t,e){return t.location.setStyle(e),t.location},_getLocation:function(t){var e,n=this.options.toField,i=L.Util.getFieldValue(t,this.options.fromField),r=L.Util.getFieldValue(t,n),o=this.options.locationMode.call(this,i,i),s=this.options.locationMode.call(this,r,r),a=this.options.useLocationText&&o?o.text:i,u=this.options.useLocationText&&s?s.text:r;if(o&&s){var c=o.center,l=s.center;if(c&&l){var h=this.options.getEdge.call(this,c,l);e={center:new L.LatLngBounds(new L.LatLng(Math.min(c.lat,l.lat),Math.min(c.lng,l.lng)),new L.LatLng(Math.max(c.lat,l.lat),Math.max(c.lng,l.lng))).getCenter(),location:h,text:this.options.getLocationText?this.options.getLocationText.call(this,t):a+" - "+u}}}return e}}),L.WeightedLineSegment=L.Path.extend({options:{polygon:!0},initialize:function(t,e,n){L.setOptions(this,n),this._weightedPoint1=t,this._weightedPoint2=e,this._latlngs=[]},_project:function(){this._points=this._getPoints(),("undefined"!=typeof this.options.fill&&this.options.fill&&this.options.gradient||this.options.stroke&&!this.options.fill&&this.options.gradient)&&this._setGradient()},_update:function(){this._map&&this._renderer._setPath(this,this.getPathString())},getLatLngs:function(){var t=this._weightedPointToPoint(this._weightedPoint1),e=this._weightedPointToPoint(this._weightedPoint2)[1];return[this._map.layerPointToLatLng(t[1]),this._map.layerPointToLatLng(e)]},projectLatlngs:function(){this._points=this._getPoints(),("undefined"!=typeof this.options.fill&&this.options.fill&&this.options.gradient||this.options.stroke&&!this.options.fill&&this.options.gradient)&&this._setGradient()},_setGradient:function(){var t,e=this._points[1],n=this._points[4],i=n.x-e.x,r=n.y-e.y;if(this.options.gradient&&(this.options.gradient.gradientUnits=this.options.gradient.gradientUnits||"objectBoundingBox",0!==i||0!==r)){if("objectBoundingBox"===this.options.gradient.gradientUnits){var o=Math.atan(r/i),s=i/Math.abs(i);if(Math.abs(r),e=new L.Point(50+50*Math.cos(o+Math.PI),50+50*Math.sin(o+Math.PI)),n=new L.Point(50+50*Math.cos(o),50+50*Math.sin(o)),0>s){var a=e;e=n,n=a}t=[[e.x.toFixed(2)+"%",e.y.toFixed(2)+"%"],[n.x.toFixed(2)+"%",n.y.toFixed(2)+"%"]]}else t=[[e.x.toFixed(2),e.y.toFixed(2)],[n.x.toFixed(2),n.y.toFixed(2)]];var u=this.options.weightToColor?this.options.weightToColor.evaluate(this._weightedPoint1.lineWeight):this._weightedPoint1.fillColor||this._weightedPoint1.color,c=this.options.weightToColor?this.options.weightToColor.evaluate(this._weightedPoint2.lineWeight):this._weightedPoint2.fillColor||this._weightedPoint2.color,l=this.options.weightToOpacity?this.options.weightToOpacity.evaluate(this._weightedPoint1.lineWeight):1,h=this.options.weightToOpacity?this.options.weightToOpacity.evaluate(this._weightedPoint2.lineWeight):1;this.options.gradient={gradientUnits:this.options.gradient.gradientUnits,vector:t,stops:[{offset:"0%",style:{color:u,opacity:l}},{offset:"100%",style:{color:c,opacity:h}}]},this._renderer._createGradient(this)}},_weightedPointToPoint:function(t){this._latlngs.push(t.latlng);var e=this._map.latLngToLayerPoint(t.latlng),n=t.lineWeight/2,i=t.angle,r=i+Math.PI;return[new L.Point(e.x+Math.cos(i)*n,e.y+Math.sin(i)*n),e,new L.Point(e.x+Math.cos(r)*n,e.y+Math.sin(r)*n)]},_getPoints:function(){var t=[],e=this._weightedPointToPoint(this._weightedPoint1),n=this._weightedPointToPoint(this._weightedPoint2);if(this.options.polygon){var i=new L.LinearFunction(e[0],n[0]),r=(new L.LinearFunction(e[1],n[1]),new L.LinearFunction(e[2],n[2])),o=r.getIntersectionPoint(i),s=new L.Bounds([].concat(e,n));o?s.contains(o)||(n=n.reverse()):i._slope===r._slope&&(n=n.reverse()),i=null,r=null,o=null}return t=t.concat(e,n),this._originalPoints=t,t},getBounds:function(){for(var t=new L.LatLngBounds,e=0,n=this._latlngs.length;n>e;++e)t.extend(this._latlngs[e]);return t},getPathString:function(){var t=this._points;return this.options.polygon||(t=[t[1],t[4]]),new L.SVGPathBuilder(t,[],{closePath:this.options.polygon}).build(6)}}),L.WeightedLineSegment.include(L.LineTextFunctions),L.WeightedFlowLine=L.FlowLine.extend({initialize:function(t,e){L.setOptions(this,e),L.FlowLine.prototype.initialize.call(this,t,e),this._loaded=!1},_getAngle:function(t,e){var n=this._map.latLngToLayerPoint(t),i=this._map.latLngToLayerPoint(e);return Math.atan((i.y-n.y)/(i.x-n.x))},_getAngles:function(t,e){var n=this._getAngle(t,e);isNaN(n)&&(n=0);var i=n+Math.PI/2;return[i,i+Math.PI]},onAdd:function(t){L.FlowLine.prototype.onAdd.call(this,t),this._data&&!this._loaded&&this._loadRecords(this._data)},_addLineSegment:function(t,e,n,i,r,o){var s=this._getAngles(t,e),a=(this._getDynamicOptions(i[r[o-1]]),this._getDynamicOptions(i[r[o]]));n.push(L.extend({latlng:t,angle:(s[0]+n[n.length-1].angle)/2},a.layerOptions));var u=new L.WeightedLineSegment(n[0],n[1],a.layerOptions);return this.addLayer(u),this.options.showLegendTooltips&&this._bindMouseEvents(u,a.layerOptions,a.legendDetails),this.onEachSegment(i[r[o-1]],i[r[o]],u),n},_loadRecords:function(t){if(this._map){var e=[],n=Object.keys(t);if(n.length>0){n=1===n.length?n.push(n[0]):n;var i=this._getLocation(t[n[0]],n[0]).center,r=this._getLocation(t[n[1]],n[1]).center,o=this._getAngles(i,r),s=this._getDynamicOptions(t[n[0]]);if(o.length>0){e.push(L.extend({latlng:i,angle:o[0]},s.layerOptions));for(var a=1,u=n.length-1;u>a;++a)i=r,r=this._getLocation(t[n[a+1]],n[a+1]).center,e=(e=this._addLineSegment(i,r,e,t,n,a)).slice(1);i=r,r=this._getLocation(t[n[n.length-1]]).center,this._addLineSegment(i,r,e,t,n,n.length-1)}this._loaded=!0}}}}),L.WeightedPolyline=L.FeatureGroup.extend({initialize:function(t,e){L.FeatureGroup.prototype.initialize.call(this,e),L.setOptions(this,e),this._latlngs=t},onAdd:function(t){L.LayerGroup.prototype.onAdd.call(this,t),this._loadComponents()},getBounds:function(){var t=new L.LatLngBounds;return this.eachLayer(function(e){t.extend(e.getBounds?e.getBounds():e.getLatLng())}),t},setLatLngs:function(t){this._latlngs=t,this._loaded=!0,this._loadComponents(),this.redraw()},getLatLngs:function(){return this._latlngs},options:{weightToColor:new L.HSLHueFunction([0,120],[20,-30])},_getAngle:function(t,e){var n=this._map.latLngToLayerPoint(t),i=this._map.latLngToLayerPoint(e);return Math.atan((i.y-n.y)/(i.x-n.x))},_getAngles:function(t,e){var n=this._getAngle(t,e);isNaN(n)&&(n=0);var i=n+Math.PI/2;return[i,i+Math.PI]},_loadComponents:function(){if(!this._loaded){var t=[],e=this._latlngs[0],n=this._latlngs[1],i=this._getAngles(e,n);if(i.length>0){t.push({latlng:e,angle:i[0],lineWeight:e.weight});for(var r=1,o=this._latlngs.length-1;o>r;++r)i=this._getAngles(e=this._latlngs[r],n=this._latlngs[r+1]),t.push({latlng:e,angle:i[0],lineWeight:e.weight}),this.addLayer(new L.WeightedLineSegment(t[0],t[1],this.options)),t=t.slice(1);e=L.extend({},n),t.push({latlng:e,angle:t[0].angle,lineWeight:(n=this._latlngs[this._latlngs.length-1]).weight}),this.addLayer(new L.WeightedLineSegment(t[0],t[1],this.options))}this._loaded=!0}}}),L.weightedPolyline=function(t,e){return new L.WeightedPolyline(t,e)},L.StackedPieChartMarker=L.ChartMarker.extend({initialize:function(t,e){L.setOptions(this,e),L.ChartMarker.prototype.initialize.call(this,t,e)},options:{weight:1,opacity:1,color:"#000",fill:!0,radius:10,rotation:0,numberOfSides:50,mouseOverExaggeration:1.2,maxDegrees:360,iconSize:new L.Point(50,40)},_loadComponents:function(){var t,e,n,i,r,o,s=0,a=0,u=0,c=this.options.barThickness,l=this.options.maxDegrees||360,h=0,f=this.options,d=this.options.data,p=this.options.chartOptions,g=function(t,e){var n=0;return t[e]&&(n=parseFloat(t[e])),n},m=0,y=[],v=[];for(i in d){for(t=g(d,i),o=0,r=0;r<d[i].length;++r)o+=t=parseFloat(d[i][r]);y.push(o),v.push(f.barThickness/o),s=s>o?s:o,a+=f.values[m],++m}if(a>0){for(i in circle=new L.CircleMarker(this._latlng,{color:f.color,radius:c,fillColor:f.fillColor,fill:!0,iconSize:new L.Point(50,40)}),this._bindMouseEvents(circle),this.addLayer(circle),m=0,d){for(o=0,u=f.values[m]/a*l,f.startAngle=h,f.endAngle=h+u,r=0;r<d[i].length;++r)t=parseFloat(d[i][r]),f.radius=(o+=t)*v[m],f.barThickness=t*v[m],n=p[i],f.fillColor=this.options.fillColors[r],f.fillOpacity="transparent"==f.fillColor?0:1,f.color=n.color||"#000",f.radiusX=f.radius,f.radiusY=f.radius,f.rotation=0,f.key=i+" "+r,f.value=t,f.displayName=n.displayName,f.displayText=n.displayText,e=new L.RadialBarMarker(this._latlng,f),this._bindMouseEvents(e),this.addLayer(e);h=f.endAngle,m++}var _=function(t){return parseInt(100*t)+"%"};for(r=.2;1>r;r+=.2)circle=new L.CircleMarker(this._latlng,{value:r,color:f.color,radius:c*r,weight:1,dashArray:[5,5],fill:!1,iconSize:new L.Point(50,40),displayName:"percent",displayText:_}),this._bindMouseEvents(circle),this.addLayer(circle)}}}),L.stackedPieChartMarker=function(t,e){return new L.StackedPieChartMarker(t,e)},L.LayeredRegularPolygonMarker=L.MarkerGroup.extend({options:{levels:2,numberOfSides:50},setStyle:function(t){t.levels=t.levels||2;var e=t.radiusX||t.radius,n=t.radiusY||t.radius,i=e/(.75*t.levels),r=n/(.75*t.levels),o=L.extend({},t);e+=(t.levels-1)*i,n+=(t.levels-1)*r;var s=t.fillOpacity||.5,a=t.fillOpacity/(1.5*t.levels);s-=t.levels*a;for(var u=0;u<t.levels;++u)o.radius=0,o.radiusX=e,o.radiusY=n,o.fillOpacity=s,this._markers[u].setStyle(o),e-=i,n-=r,s+=a;return this},initialize:function(t,e){L.Util.setOptions(this,e),e.levels=e.levels||2;var n=[],i=e.radiusX||e.radius,r=e.radiusY||e.radius,o=i/(.75*e.levels),s=r/(.75*e.levels),a=L.extend({},e);i+=(e.levels-1)*o,r+=(e.levels-1)*s;var u=e.fillOpacity||.5,c=e.fillOpacity/(1.5*e.levels);u-=e.levels*c;for(var l=0;l<e.levels;++l)a.radius=0,a.radiusX=i,a.radiusY=r,a.fillOpacity=u,n.push(new L.RegularPolygonMarker(t,a)),i-=o,r-=s,u+=c;this._markers=n,L.MarkerGroup.prototype.initialize.call(this,t,n)}}),L.MapillaryLayer=L.PanoramioLayer.extend({options:{recordsField:null,locationMode:L.LocationModes.LATLNG,latitudeField:"lat",longitudeField:"lon",onEachRecord:function(t,n){var i=n.map_image_versions[1].url,r=n.location,o=this;t.on("click",function(n){var s=e.createElement("div"),a=L.DomUtil.create("div","",s);L.DomUtil.addClass(a,"panoramio-content");var u=L.DomUtil.create("img","photo",a);u.setAttribute("onload","this.style.opacity=1;"),u.setAttribute("src",i),u.style.width="640px";var c=L.DomUtil.create("div","photo-info",a);c.style.width="620px",c.innerHTML="<span>"+r+'</span><a class="photo-link" target="_blank" href="'+i+'"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a8/Mapillary_logo.png" style="height: 14px;"/></a>';var l=new L.DivIcon({className:"photo-details",html:s.innerHTML,iconAnchor:[320,320]}),h=new L.Marker(n.target._latlng,{icon:l,zIndexOffset:2e4});h.on("click",function(t){o.removeLayer(t.target)}),t.viewedImage=h,o.viewedImage=h,o.addLayer(h)}),this.options.onEachPhoto&&this.options.onEachPhoto.call(this,t,n)},setIcon:function(t){var e=t.location,n=new L.Point(40,40);return new L.DivIcon({iconSize:n,className:"",html:'<img class="photo" onload="this.style.opacity=1" title="'+e+'" src="'+t.map_image_versions[0].url+'"/>'})}},requestPhotos:function(){for(var t=this,e=this._map.getBounds(),n=e.getSouthWest(),i=e.getNorthEast();t._calls.length>0;)t._calls.pop().abort();var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(r.responseText);t._count=e.length,t.fire("photosAvailable",e),t.clearLayers(),t.addData(e)}},r.open("GET","http://api.mapillary.com/v1/im/search?min-lat="+n.lat+"&max-lat="+i.lat+"&min-lon="+n.lng+"&max-lon="+i.lng+"&max-results=50",!0),r.send(null),t._calls.push(r)}})}(window,document),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).turf=t()}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=t("turf-distance"),r=t("turf-helpers").point,o=t("turf-bearing"),s=t("turf-destination");e.exports=function(t,e,n){var a;if("Feature"===t.type)a=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");a=t.coordinates}for(var u=0,c=0;c<a.length&&!(e>=u&&c===a.length-1);c++){if(u>=e){var l=e-u;if(l){var h=o(a[c],a[c-1])-180;return s(a[c],l,h,n)}return r(a[c])}u+=i(a[c],a[c+1],n)}return r(a[a.length-1])}},{"turf-bearing":2,"turf-destination":3,"turf-distance":4,"turf-helpers":5}],2:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-bearing")},{"/Users/tmcw/src/turf/packages/turf-bearing":13}],3:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-destination")},{"/Users/tmcw/src/turf/packages/turf-destination":55}],4:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-distance")},{"/Users/tmcw/src/turf/packages/turf-distance":60}],5:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-helpers")},{"/Users/tmcw/src/turf/packages/turf-helpers":71}],6:[function(t,e,n){var i=t("geojson-area").geometry;e.exports=function(t){if("FeatureCollection"===t.type){for(var e=0,n=0;e<t.features.length;e++)t.features[e].geometry&&(n+=i(t.features[e].geometry));return n}return i("Feature"===t.type?t.geometry:t)}},{"geojson-area":7}],7:[function(t,e,n){function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,r,o,u,c=0,l=t.length;if(l>2){for(i=0;i<l;i++)i===l-2?(r=l-2,o=l-1,u=0):i===l-1?(r=l-1,o=0,u=1):(r=i,o=i+1,u=i+2),e=t[r],n=t[o],c+=(s(t[u][0])-s(e[0]))*Math.sin(s(n[1]));c=c*a.RADIUS*a.RADIUS/2}return c}function s(t){return t*Math.PI/180}var a=t("wgs84");e.exports.geometry=function t(e){var n,i=0;switch(e.type){case"Polygon":return r(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=r(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}},e.exports.ring=o},{wgs84:8}],8:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],9:[function(t,e,n){var i=t("turf-helpers").polygon;e.exports=function(t){var e=[t[0],t[1]];return i([[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]])}},{"turf-helpers":10}],10:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],11:[function(t,e,n){var i=t("turf-meta").coordEach;e.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return i(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},{"turf-meta":12}],12:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-meta")},{"/Users/tmcw/src/turf/packages/turf-meta":98}],13:[function(t,e,n){var i=t("turf-invariant").getCoord;e.exports=function(t,e){var n=Math.PI/180,r=180/Math.PI,o=i(t),s=i(e),a=n*o[0],u=n*s[0],c=n*o[1],l=n*s[1],h=Math.sin(u-a)*Math.cos(l),f=Math.cos(c)*Math.sin(l)-Math.sin(c)*Math.cos(l)*Math.cos(u-a);return r*Math.atan2(h,f)}},{"turf-invariant":14}],14:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-invariant")},{"/Users/tmcw/src/turf/packages/turf-invariant":79}],15:[function(t,e,n){var i=t("turf-helpers").lineString,r=t("./spline.js");e.exports=function(t,e,n){var o=i([]);o.properties=t.properties;for(var s=new r({points:t.geometry.coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:e,sharpness:n}),a=0;a<s.duration;a+=10){var u=s.pos(a);Math.floor(a/100)%2==0&&o.geometry.coordinates.push([u.x,u.y])}return o}},{"./spline.js":17,"turf-helpers":16}],16:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],17:[function(t,e,n){var i=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++)this.centers.push({x:((n=this.points[e]).x+(i=this.points[e+1]).x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2});for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var n=this.centers[e],i=this.centers[e+1],r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};i.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},i.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},i.prototype.pos=function(t){var e=t-this.delay;0>e&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},e.exports=i},{}],18:[function(t,e,n){function i(t,e){var n=(new s.io.GeoJSONReader).read(t.geometry).buffer(e);return{type:"Feature",geometry:n=(new s.io.GeoJSONWriter).write(n),properties:{}}}var r=t("turf-helpers"),o=r.featureCollection,s=t("jsts"),a=t("geojson-normalize");e.exports=function(t,e,n){var s=r.distanceToDegrees(e,n),u=a(t),c=a(o(u.features.map(function(t){return i(t,s)})));return c.features.length>1?c:1===c.features.length?c.features[0]:void 0}},{"geojson-normalize":19,jsts:20,"turf-helpers":21}],19:[function(t,e,n){e.exports=function(t){if(!t||!t.type)return null;var e=i[t.type];return e?"geometry"===e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===e?{type:"FeatureCollection",features:[t]}:"featurecollection"===e?t:void 0:null};var i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],20:[function(t,e,n){!function(t,i){!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function i(){}function r(){}function o(){}function s(){}function a(){}function u(){}function c(t){this.message=t}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){0===arguments.length?c.call(this):1===arguments.length&&c.call(this,arguments[0])}function f(){}function d(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)d.call(this,0,0);else if(1===arguments.length){var t=arguments[0];d.call(this,t.x,t.y,t.z)}else if(2===arguments.length)d.call(this,arguments[0],arguments[1],d.NULL_ORDINATE);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this.x=arguments[0],this.y=e,this.z=n}}function p(){if(this.dimensionsToTest=2,0===arguments.length)p.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function m(){}function y(t){this.message=t||""}function v(){}function _(t){this.message=t||""}function b(t){this.message=t||""}function x(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function w(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function L(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else arguments[0]instanceof L&&this.init(arguments[0]);else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e.x,n.x,e.y,n.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])}function E(){}function C(){E.call(this,"Projective point not representable on the Cartesian plane.")}function S(){}function I(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function N(){}function P(t){this.str=t}function T(t){this.value=t}function M(){}function A(){this.hi=0,this.lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]?this.init(arguments[0]):arguments[0]instanceof A?this.init(arguments[0]):"string"==typeof arguments[0]&&A.call(this,A.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])}function O(){}function R(){}function D(){}function k(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[1];this.x=arguments[0],this.y=e,this.w=1}else if(arguments[0]instanceof k&&arguments[1]instanceof k){var n=arguments[0],i=arguments[1];this.x=n.y*i.w-i.y*n.w,this.y=i.x*n.w-n.x*i.w,this.w=n.x*i.y-i.x*n.y}else if(arguments[0]instanceof d&&arguments[1]instanceof d){var r=arguments[0],o=arguments[1];this.x=r.y-o.y,this.y=o.x-r.x,this.w=r.x*o.y-o.x*r.y}}else if(3===arguments.length){var s=arguments[1],a=arguments[2];this.x=arguments[0],this.y=s,this.w=a}else if(4===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2],h=arguments[3],f=u.y-c.y,p=c.x-u.x,g=u.x*c.y-c.x*u.y,m=l.y-h.y,y=h.x-l.x,v=l.x*h.y-h.x*l.y;this.x=p*v-y*g,this.y=m*g-f*v,this.w=f*y-m*p}}function F(){}function z(){}function B(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function U(){}function G(){}function q(){}function j(){}function V(){}function H(){}function Y(){}function X(){}function W(){}function Z(){}function K(){}function J(){}function Q(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function $(t){return null==t?Do:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function st(){}function at(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function ut(){}function ct(){}function lt(){}function ht(){}function ft(){this.geometries=null;var t=arguments[0];if(B.call(this,arguments[1]),null===t&&(t=[]),B.hasNullElements(t))throw new i("geometries must not contain null elements");this.geometries=t}function dt(){ft.call(this,arguments[0],arguments[1])}function pt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length)pt.call(this,arguments[0],G.MOD2_BOUNDARY_RULE);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.geom=t,this.geomFact=t.getFactory(),this.bnRule=e}}function gt(){this.count=null}function mt(){}function yt(){}function vt(){}function _t(){this.points=null;var t=arguments[0];B.call(this,arguments[1]),this.init(t)}function bt(){}function xt(){this.coordinates=null;var t=arguments[0];B.call(this,arguments[1]),this.init(t)}function wt(){}function Lt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1];if(B.call(this,arguments[2]),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),B.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&B.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this.shell=t,this.holes=e}function Et(){ft.call(this,arguments[0],arguments[1])}function Ct(){if(arguments[0]instanceof d&&arguments[1]instanceof Ut){var t=arguments[0],e=arguments[1];Ct.call(this,e.getCoordinateSequenceFactory().create(t),e)}else I(arguments[0],R)&&arguments[1]instanceof Ut&&(_t.call(this,arguments[0],arguments[1]),this.validateConstruction())}function St(){ft.call(this,arguments[0],arguments[1])}function It(){this.factory=null,this.isUserDataCopied=!1,0===arguments.length||1===arguments.length&&(this.factory=arguments[0])}function Nt(){}function Pt(){}function Tt(){}function Mt(){}function At(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)At.call(this,arguments[0],3);else if(Number.isInteger(arguments[0])){var t=arguments[0];this.coordinates=new Array(t).fill(null);for(var e=0;t>e;e++)this.coordinates[e]=new d}else if(I(arguments[0],R)){var n=arguments[0];if(null===n)return this.coordinates=new Array(0).fill(null),null;for(this.dimension=n.getDimension(),this.coordinates=new Array(n.size()).fill(null),e=0;e<this.coordinates.length;e++)this.coordinates[e]=n.getCoordinateCopy(e)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1];this.coordinates=i,this.dimension=r,null===i&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];for(this.coordinates=new Array(o).fill(null),this.dimension=s,e=0;o>e;e++)this.coordinates[e]=new d}}function Ot(){}function Rt(t,e){return t===e||t!=t&&e!=e}function Dt(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function kt(){return this._values.length}function Ft(){this.map_=new Uo}function zt(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=zt.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Bt){var t=arguments[0];this.modelType=t,t===zt.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=zt.FIXED,this.setScale(e)}else if(arguments[0]instanceof zt){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function Bt(){this.name=null;var t=arguments[0];this.name=t,Bt.nameToTypeMap.put(t,this)}function Ut(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)Ut.call(this,new zt,0);else if(1===arguments.length)if(I(arguments[0],F)){var t=arguments[0];Ut.call(this,new zt,0,t)}else arguments[0]instanceof zt&&Ut.call(this,arguments[0],0,Ut.getDefaultCoordinateSequenceFactory());else if(2===arguments.length)Ut.call(this,arguments[0],arguments[1],Ut.getDefaultCoordinateSequenceFactory());else if(3===arguments.length){var e=arguments[1],n=arguments[2];this.precisionModel=arguments[0],this.coordinateSequenceFactory=n,this.SRID=e}}function Gt(t){this.geometryFactory=t||new Ut}function qt(t){this.parser=new Gt(t)}function jt(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new d,this.intPt[1]=new d,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Vt(){jt.apply(this)}function Ht(){}function Yt(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1,this.p=arguments[0]}function Xt(){}function Wt(){if(this.p0=null,this.p1=null,0===arguments.length)Wt.call(this,new d,new d);else if(1===arguments.length){var t=arguments[0];Wt.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[1];this.p0=arguments[0],this.p1=e}else if(4===arguments.length){var n=arguments[2],i=arguments[3];Wt.call(this,new d(arguments[0],arguments[1]),new d(n,i))}}function Zt(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ct.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];Zt.call(this),this.set(t)}else if(arguments[0]instanceof Zt){var e=arguments[0];Zt.call(this),this.matrix[S.INTERIOR][S.INTERIOR]=e.matrix[S.INTERIOR][S.INTERIOR],this.matrix[S.INTERIOR][S.BOUNDARY]=e.matrix[S.INTERIOR][S.BOUNDARY],this.matrix[S.INTERIOR][S.EXTERIOR]=e.matrix[S.INTERIOR][S.EXTERIOR],this.matrix[S.BOUNDARY][S.INTERIOR]=e.matrix[S.BOUNDARY][S.INTERIOR],this.matrix[S.BOUNDARY][S.BOUNDARY]=e.matrix[S.BOUNDARY][S.BOUNDARY],this.matrix[S.BOUNDARY][S.EXTERIOR]=e.matrix[S.BOUNDARY][S.EXTERIOR],this.matrix[S.EXTERIOR][S.INTERIOR]=e.matrix[S.EXTERIOR][S.INTERIOR],this.matrix[S.EXTERIOR][S.BOUNDARY]=e.matrix[S.EXTERIOR][S.BOUNDARY],this.matrix[S.EXTERIOR][S.EXTERIOR]=e.matrix[S.EXTERIOR][S.EXTERIOR]}}function Kt(){this.areaBasePt=null,this.triangleCent3=new d,this.areasum2=0,this.cg3=new d,this.lineCentSum=new d,this.totalLength=0,this.ptCount=0,this.ptCentSum=new d;var t=arguments[0];this.areaBasePt=null,this.add(t)}function Jt(t){this.message=t||""}function Qt(){this.array_=[]}function $t(){this.treeSet=new at,this.list=new x}function te(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];te.call(this,te.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[1];this.inputPts=$t.filterCoordinates(arguments[0]),this.geomFactory=e}}function ee(){this.origin=null,this.origin=arguments[0]}function ne(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function ie(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new Wt,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof _t&&"number"==typeof arguments[1]){var t=arguments[1];ie.call(this,arguments[0].getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.srcPts=e,this._isClosed=ie.isClosed(e),this.snapTolerance=n}}function re(){this.srcGeom=null,this.srcGeom=arguments[0]}function oe(){if(ne.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[1];this.snapTolerance=arguments[0],this.snapPts=t}else if(3===arguments.length){var e=arguments[1],n=arguments[2];this.snapTolerance=arguments[0],this.snapPts=e,this.isSelfSnap=n}}function se(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function ae(){this.commonCoord=null,this.ccFilter=new ue}function ue(){this.commonBitsX=new se,this.commonBitsY=new se}function ce(){this.trans=null,this.trans=arguments[0]}function le(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function he(){if(this.boundaryRule=G.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new i("Rule must be non-null");this.boundaryRule=t}}function fe(){}function de(){}function pe(){this.pts=null,this.data=null;var t=arguments[1];this.pts=arguments[0],this.data=t}function ge(){}function me(){this.bounds=null,this.item=null;var t=arguments[1];this.bounds=arguments[0],this.item=t}function ye(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function ve(){}function _e(){}function be(){this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length||1===arguments.length&&(this.level=arguments[0])}function xe(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[1],e=arguments[2];this.boundable1=arguments[0],this.boundable2=t,this.itemDistance=e,this._distance=this.distance()}function we(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)we.call(this,we.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Le(){}function Ee(){0===arguments.length?Ee.call(this,Ee.DEFAULT_NODE_CAPACITY):1===arguments.length&&we.call(this,arguments[0])}function Ce(){be.call(this,arguments[0])}function Se(){}function Ie(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new d(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Ne(){this.nodeMap=new rt,this.edge=null,this.edge=arguments[0]}function Pe(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Te(){}function Me(){this.nodeList=new Ne(this),this.pts=null,this.data=null;var t=arguments[1];this.pts=arguments[0],this.data=t}function Ae(){this.tempEnv1=new L,this.tempEnv2=new L,this.overlapSeg1=new Wt,this.overlapSeg2=new Wt}function Oe(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this.pts=arguments[0],this.start=t,this.end=e,this.context=n}function Re(){}function De(){}function ke(){}function Fe(){this.segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])}function ze(){this.monoChains=new x,this.index=new Ee,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length||1===arguments.length&&Fe.call(this,arguments[0])}function Be(){Ae.apply(this),this.si=null,this.si=arguments[0]}function Ue(){if(this.pt=null,1===arguments.length)c.call(this,arguments[0]);else if(2===arguments.length){var t=arguments[1];c.call(this,Ue.msgWithCoord(arguments[0],t)),this.pt=new d(t)}}function Ge(){}function qe(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0,this.li=arguments[0],this.interiorIntersection=null}function je(){this.li=new Vt,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0,this.segStrings=arguments[0]}function Ve(){this.nv=null,this.nv=new je(Ve.toSegmentStrings(arguments[0]))}function He(){this.mapOp=null,this.mapOp=arguments[0]}function Ye(){}function Xe(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var t=arguments[0];this.init(1),this.location[Ye.ON]=t}else if(arguments[0]instanceof Xe){var e=arguments[0];if(this.init(e.location.length),null!==e)for(var n=0;n<this.location.length;n++)this.location[n]=e.location[n]}}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.init(3),this.location[Ye.ON]=i,this.location[Ye.LEFT]=r,this.location[Ye.RIGHT]=o}}function We(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Xe(t),this.elt[1]=new Xe(t)}else if(arguments[0]instanceof We){var e=arguments[0];this.elt[0]=new Xe(e.elt[0]),this.elt[1]=new Xe(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new Xe(S.NONE),this.elt[1]=new Xe(S.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new Xe(r,o,s),this.elt[1]=new Xe(r,o,s)}else if(4===arguments.length){var a=arguments[0],u=arguments[1],c=arguments[2],l=arguments[3];this.elt[0]=new Xe(S.NONE,S.NONE,S.NONE),this.elt[1]=new Xe(S.NONE,S.NONE,S.NONE),this.elt[a].setLocations(u,c,l)}}function Ze(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new We(S.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var t=arguments[0];this.geometryFactory=arguments[1],this.computePoints(t),this.computeRing()}function Ke(){Ze.call(this,arguments[0],arguments[1])}function Je(){Ze.call(this,arguments[0],arguments[1])}function Qe(){this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this.label=arguments[0])}function $e(){Qe.apply(this),this.coord=null,this.edges=null;var t=arguments[1];this.coord=arguments[0],this.edges=t,this.label=new We(0,S.NONE)}function tn(){this.nodeMap=new rt,this.nodeFact=null,this.nodeFact=arguments[0]}function en(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length)this.edge=arguments[0];else if(3===arguments.length)en.call(this,arguments[0],arguments[1],arguments[2],null);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];en.call(this,arguments[0]),this.init(t,e),this.label=n}}function nn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(en.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function rn(){}function on(){this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length?this.nodes=new tn(new rn):1===arguments.length&&(this.nodes=new tn(arguments[0]))}function sn(){this.geometryFactory=null,this.shellList=new x,this.geometryFactory=arguments[0]}function an(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var t=arguments[1],e=arguments[2];this.op=arguments[0],this.geometryFactory=t,this.ptLocator=e}function un(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var t=arguments[1];this.op=arguments[0],this.geometryFactory=t}function cn(){}function ln(){this.geom=null,this.geom=arguments[0]}function hn(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[S.NONE,S.NONE]}function fn(){hn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function dn(){rn.apply(this)}function pn(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t}function gn(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=gn.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.eventType=gn.INSERT,this.label=n,this.xValue=i,this.obj=r}}function mn(){}function yn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this.li=arguments[0],this.includeProper=t,this.recordIsolated=e}function vn(){mn.apply(this),this.events=new x,this.nOverlaps=null}function _n(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function bn(){}function xn(){_n.apply(this),this.item=null;var t=arguments[1],e=arguments[2];this.min=arguments[0],this.max=t,this.item=e}function wn(){_n.apply(this),this.node1=null,this.node2=null;var t=arguments[1];this.node1=arguments[0],this.node2=t,this.buildExtent(this.node1,this.node2)}function Ln(){this.leaves=new x,this.root=null,this.level=0}function En(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length)this.lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this.lines=arguments[0],this.isForcedToLineString=t}}function Cn(){this.items=new x}function Sn(){this.index=null;var t=arguments[0];if(!I(t,wt))throw new i("Argument must be Polygonal");this.index=new Nn(t)}function In(){this.counter=null,this.counter=arguments[0]}function Nn(){this.index=new Ln,this.init(arguments[0])}function Pn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new d(arguments[0]),this.segmentIndex=t,this.dist=e}function Tn(){this.nodeMap=new rt,this.edge=null,this.edge=arguments[0]}function Mn(){}function An(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new L,this.env2=new L;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Mn;this.startIndex=e.getChainStartIndices(this.pts)}function On(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;2>t;t++)for(var e=0;3>e;e++)this.depth[t][e]=On.NULL_VALUE}function Rn(){if(Qe.apply(this),this.pts=null,this.env=null,this.eiList=new Tn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new On,this.depthDelta=0,1===arguments.length)Rn.call(this,arguments[0],null);else if(2===arguments.length){var t=arguments[1];this.pts=arguments[0],this.label=t}}function Dn(){if(on.apply(this),this.parentGeom=null,this.lineEdgeMap=new Ft,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new he,2===arguments.length)Dn.call(this,arguments[0],arguments[1],G.OGC_SFS_BOUNDARY_RULE);else if(3===arguments.length){var t=arguments[1],e=arguments[2];this.argIndex=arguments[0],this.parentGeom=t,this.boundaryNodeRule=e,null!==t&&this.add(t)}}function kn(){if(this.li=new Vt,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Dn(0,t)}else if(2===arguments.length)kn.call(this,arguments[0],arguments[1],G.OGC_SFS_BOUNDARY_RULE);else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Dn(0,e,i),this.arg[1]=new Dn(1,n,i)}}function Fn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=Fn.orientation(t)}function zn(){this.edges=new x,this.ocaMap=new rt}function Bn(){this.ptLocator=new he,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new zn,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var t=arguments[0];kn.call(this,t,arguments[1]),this.graph=new on(new dn),this.geomFact=t.getFactory()}function Un(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[1];this.geom[0]=arguments[0],this.geom[1]=t,this.computeSnapTolerance()}function Gn(){this.geom=new Array(2).fill(null);var t=arguments[1];this.geom[0]=arguments[0],this.geom[1]=t}function qn(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function jn(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=qn.avg(this.loY,this.hiY)}function Vn(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function Hn(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function Yn(){}function Xn(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[1],e=arguments[2];this.p0=arguments[0],this.p1=t,this.p2=e}function Wn(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0,this.input=arguments[0]}function Zn(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new Wt,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length)Zn.call(this,arguments[0],!1);else if(2===arguments.length){var t=arguments[1];this.inputGeom=arguments[0],this.isConvex=t}}function Kn(){this.inputGeom=null,this.distanceTolerance=null,this.inputGeom=arguments[0]}function Jn(){ne.apply(this),this.distanceTolerance=null,this.distanceTolerance=arguments[0]}function Qn(){this._orig=null,this._sym=null,this._next=null,this._orig=arguments[0]}function $n(){this._isMarked=!1,Qn.call(this,arguments[0])}function ti(){this.vertexMap=new Ft}function ei(){this._isStart=!1,$n.call(this,arguments[0])}function ni(){ti.apply(this)}function ii(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new Qt,this.ringStartEdge=null,this.graph=new ni}function ri(){this.items=new x,this.subnode=new Array(4).fill(null)}function oi(){}function si(){this.pt=new d,this.level=0,this.env=null,this.computeKey(arguments[0])}function ai(){ri.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function ui(){}function ci(){ri.apply(this)}function li(){this.root=null,this.minExtent=1,this.root=new ci}function hi(t){this.geometryFactory=t||new Ut}function fi(t){this.geometryFactory=t||new Ut,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new hi(this.geometryFactory)}function di(){this.parser=new hi(this.geometryFactory)}function pi(t){this.geometryFactory=t||new Ut,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Gt(this.geometryFactory)}function gi(t){return[t.x,t.y]}function mi(t){this.geometryFactory=t||new Ut}function yi(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length)yi.call(this,arguments[0],arguments[1],0,0);else if(4===arguments.length){var t=arguments[1];this.noder=arguments[0],this.scaleFactor=t,this.isScaled=!this.isIntegerPrecision()}}function vi(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length)this.inputGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this.inputGeom=arguments[0],this.isClosedEndpointsInInterior=!t.isInBoundary(2)}}function _i(){this.pt=null,this.isClosed=null,this.degree=null,this.pt=arguments[0],this.isClosed=!1,this.degree=0}function bi(){if(this.quadrantSegments=bi.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=bi.CAP_ROUND,this.joinStyle=bi.JOIN_ROUND,this.mitreLimit=bi.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=bi.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var t=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(t)}else if(4===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e),this.setJoinStyle(n),this.setMitreLimit(i)}}function xi(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function wi(){this.array_=[]}function Li(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new xi}function Ei(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=Xt.COUNTERCLOCKWISE,this.inputLine=arguments[0]}function Ci(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function Si(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new Wt,this.seg1=new Wt,this.offset0=new Wt,this.offset1=new Wt,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[1],e=arguments[2];this.precisionModel=arguments[0],this.bufParams=t,this.li=new Vt,this.filletAngleQuantum=Math.PI/2/t.getQuadrantSegments(),t.getQuadrantSegments()>=8&&t.getJoinStyle()===bi.JOIN_ROUND&&(this.closingSegLengthFactor=Si.MAX_CLOSING_SEG_LEN_FACTOR),this.init(e)}function Ii(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[1];this.precisionModel=arguments[0],this.bufParams=t}function Ni(){this.subgraphs=null,this.seg=new Wt,this.cga=new Xt,this.subgraphs=arguments[0]}function Pi(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[1];this.upwardSeg=new Wt(arguments[0]),this.leftDepth=t}function Ti(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var t=arguments[1],e=arguments[2];this.inputGeom=arguments[0],this.distance=t,this.curveBuilder=e}function Mi(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this.li=arguments[0]}function Ai(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new zn,this.bufParams=arguments[0]}function Oi(){this.li=new Vt,this.segStrings=null,this.segStrings=arguments[0]}function Ri(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,0>=e)throw new i("Scale factor must be non-zero");1!==e&&(this.pt=new d(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new d,this.p1Scaled=new d),this.initCorners(this.pt)}function Di(){this.tempEnv1=new L,this.selectedSegment=new Wt}function ki(){this.index=null,this.index=arguments[0]}function Fi(){Di.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[1],e=arguments[2];this.hotPixel=arguments[0],this.parentEdge=t,this.hotPixelVertexIndex=e}function zi(){this.li=null,this.interiorIntersections=null,this.li=arguments[0],this.interiorIntersections=new x}function Bi(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new Vt,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function Ui(){if(this.argGeom=null,this.distance=null,this.bufParams=new bi,this.resultGeometry=null,this.saveException=null,1===arguments.length)this.argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this.argGeom=arguments[0],this.bufParams=t}}function Gi(){this.comps=null,this.comps=arguments[0]}function qi(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length)qi.call(this,arguments[0],qi.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var t=arguments[1],e=arguments[2];this.component=arguments[0],this.segIndex=t,this.pt=e}}function ji(){this.pts=null,this.pts=arguments[0]}function Vi(){this.locations=null,this.locations=arguments[0]}function Hi(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new he,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length)Hi.call(this,arguments[0],arguments[1],0);else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=t,this.geom[1]=e,this.terminateDistance=n}}function Yi(){this.factory=null,this.directedEdges=new x,this.coordinates=null,this.factory=arguments[0]}function Xi(){this._isMarked=!1,this._isVisited=!1,this.data=null}function Wi(){Xi.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Re.quadrant(r,o),this.angle=Math.atan2(o,r)}function Zi(){Wi.call(this,arguments[0],arguments[1],arguments[2],arguments[3])}function Ki(){Xi.apply(this),this.dirEdge=null,0===arguments.length||2===arguments.length&&this.setDirectedEdges(arguments[0],arguments[1])}function Ji(){this.outEdges=new x,this.sorted=!1}function Qi(){if(Xi.apply(this),this.pt=null,this.deStar=null,1===arguments.length)Qi.call(this,arguments[0],new Ji);else if(2===arguments.length){var t=arguments[1];this.pt=arguments[0],this.deStar=t}}function $i(){Ki.apply(this),this.line=null,this.line=arguments[0]}function tr(){this.nodeMap=new rt}function er(){this.edges=new Q,this.dirEdges=new Q,this.nodeMap=new tr}function nr(){er.apply(this)}function ir(){this.graph=new nr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function rr(){this.edgeRing=null,this.next=null,this.label=-1,Wi.call(this,arguments[0],arguments[1],arguments[2],arguments[3])}function or(){Ki.apply(this),this.line=null,this.line=arguments[0]}function sr(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1,this.factory=arguments[0]}function ar(){}function ur(){er.apply(this),this.factory=null,this.factory=arguments[0]}function cr(){this.lineStringAdder=new lr(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length?cr.call(this,!1):1===arguments.length&&(this.extractOnlyPolygonal=arguments[0])}function lr(){this.p=null,this.p=arguments[0]}function hr(){}function fr(){if(this.edgeEnds=new x,1===arguments.length)fr.call(this,null,arguments[0]);else if(2===arguments.length){var t=arguments[1];en.call(this,t.getEdge(),t.getCoordinate(),t.getDirectedCoordinate(),new We(t.getLabel())),this.insert(t)}}function dr(){hn.apply(this)}function pr(){$e.call(this,arguments[0],arguments[1])}function gr(){rn.apply(this)}function mr(){this.li=new Vt,this.ptLocator=new he,this.arg=null,this.nodes=new tn(new gr),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null,this.arg=arguments[0]}function yr(){this.rectEnv=null,this.rectEnv=arguments[0].getEnvelopeInternal()}function vr(){this.li=new Vt,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new d(t.getMinX(),t.getMinY()),this.diagUp1=new d(t.getMaxX(),t.getMaxY()),this.diagDown0=new d(t.getMinX(),t.getMaxY()),this.diagDown1=new d(t.getMaxX(),t.getMinY())}function _r(){this._isDone=!1}function br(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function xr(){_r.apply(this),this.rectEnv=null,this._intersects=!1,this.rectEnv=arguments[0]}function wr(){_r.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Lr(){_r.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new d,this.p1=new d,this.rectEnv=arguments[0].getEnvelopeInternal(),this.rectIntersector=new vr(this.rectEnv)}function Er(){this._relate=null,2===arguments.length?(kn.call(this,arguments[0],arguments[1]),this._relate=new mr(this.arg)):3===arguments.length&&(kn.call(this,arguments[0],arguments[1],arguments[2]),this._relate=new mr(this.arg))}function Cr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Cr.extractFactory(t),this.inputGeoms=t}function Sr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[1];this.pointGeom=arguments[0],this.otherGeom=t,this.geomFact=t.getFactory()}function Ir(){this.sortIndex=-1,this.comps=null;var t=arguments[1];this.sortIndex=arguments[0],this.comps=t}function Nr(){this.inputPolys=null,this.geomFactory=null,this.inputPolys=arguments[0],null===this.inputPolys&&(this.inputPolys=new x)}function Pr(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length)I(arguments[0],m)?this.extract(arguments[0]):arguments[0]instanceof B&&this.extract(arguments[0]);else if(2===arguments.length){var t=arguments[0];this.geomFact=arguments[1],this.extract(t)}}function Tr(){this.geometryFactory=new Ut,this.geomGraph=null,this.disconnectedRingcoord=null,this.geomGraph=arguments[0]}function Mr(){this.items=new x,this.subnode=[null,null]}function Ar(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else 2===arguments.length&&this.init(arguments[0],arguments[1])}function Or(){this.pt=0,this.level=0,this.interval=null,this.computeKey(arguments[0])}function Rr(){Mr.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function Dr(){Mr.apply(this)}function kr(){this.root=null,this.minExtent=1,this.root=new Dr}function Fr(){}function zr(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Ar,this.ring=arguments[0],this.buildIndex()}function Br(){Di.apply(this),this.mcp=null,this.p=null;var t=arguments[1];this.mcp=arguments[0],this.p=t}function Ur(){this.nodes=new tn(new gr)}function Gr(){this.li=new Vt,this.geomGraph=null,this.nodeGraph=new Ur,this.invalidPoint=null,this.geomGraph=arguments[0]}function qr(){this.graph=null,this.rings=new x,this.totalEnv=new L,this.index=null,this.nestedPt=null,this.graph=arguments[0]}function jr(){if(this.errorType=null,this.pt=null,1===arguments.length)jr.call(this,arguments[0],null);else if(2===arguments.length){var t=arguments[1];this.errorType=arguments[0],null!==t&&(this.pt=t.copy())}}function Vr(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null,this.parentGeometry=arguments[0]}function Hr(){It.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[1];this.targetPM=arguments[0],this.removeCollapsed=t}function Yr(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1,this.targetPM=arguments[0]}function Xr(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new Wt,this.pts=arguments[0]}function Wr(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0,this.inputGeom=arguments[0]}function Zr(){ne.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[1];this.isEnsureValidTopology=arguments[0],this.distanceTolerance=t}function Kr(){if(this.parent=null,this.index=null,2===arguments.length)Kr.call(this,arguments[0],arguments[1],null,-1);else if(4===arguments.length){var t=arguments[2],e=arguments[3];Wt.call(this,arguments[0],arguments[1]),this.parent=t,this.index=e}}function Jr(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length)Jr.call(this,arguments[0],2);else if(2===arguments.length){var t=arguments[1];this.parentLine=arguments[0],this.minimumSize=t,this.init()}}function Qr(){this.index=new li}function $r(){this.querySeg=null,this.items=new x,this.querySeg=arguments[0]}function to(){this.li=new Vt,this.inputIndex=new Qr,this.outputIndex=new Qr,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[1];this.inputIndex=arguments[0],this.outputIndex=t}function eo(){this.inputIndex=new Qr,this.outputIndex=new Qr,this.distanceTolerance=0}function no(){this.inputGeom=null,this.lineSimplifier=new eo,this.linestringMap=null,this.inputGeom=arguments[0]}function io(){ne.apply(this),this.linestringMap=null,this.linestringMap=arguments[0]}function ro(){this.tps=null,this.tps=arguments[0]}function oo(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function so(){}function ao(){}function uo(){}function co(){this.p=null,1===arguments.length?this.p=new d(arguments[0]):2===arguments.length?this.p=new d(arguments[0],arguments[1]):3===arguments.length&&(this.p=new d(arguments[0],arguments[1],arguments[2]))}function lo(){this._isOnConstraint=null,this.constraint=null,co.call(this,arguments[0])}function ho(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function fo(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function po(){}function go(){this.subdiv=null,this.lastEdge=null,this.subdiv=arguments[0],this.init()}function mo(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0])c.call(this,arguments[0]);else if(arguments[0]instanceof Wt){var t=arguments[0];c.call(this,"Locate failed to converge (at edge: "+t+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new Wt(t)}}else if(2===arguments.length){var e=arguments[1];c.call(this,mo.msgWithSpatial(arguments[0],e)),this.seg=new Wt(e)}}function yo(){}function vo(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new Wt,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/vo.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new go(this)}function _o(){}function bo(){this.triList=new x}function xo(){this.triList=new x}function wo(){this.coordList=new w,this.triCoords=new x}function Lo(){if(this.ls=null,this.data=null,2===arguments.length)this.ls=new Wt(arguments[0],arguments[1]);else if(3===arguments.length){var t=arguments[2];this.ls=new Wt(arguments[0],arguments[1]),this.data=t}else if(6===arguments.length){var e=arguments[3],n=arguments[4],i=arguments[5];Lo.call(this,new d(arguments[0],arguments[1],arguments[2]),new d(e,n,i))}else if(7===arguments.length){var r=arguments[3],o=arguments[4],s=arguments[5],a=arguments[6];Lo.call(this,new d(arguments[0],arguments[1],arguments[2]),new d(r,o,s),a)}}function Eo(){}function Co(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[1];this.p=new d(arguments[0]),this.left=null,this.right=null,this.count=1,this.data=t}else if(3===arguments.length){var e=arguments[2];this.p=new d(arguments[0],arguments[1]),this.left=null,this.right=null,this.count=1,this.data=e}}function So(){this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length?So.call(this,0):1===arguments.length&&(this.tolerance=arguments[0])}function Io(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[1];this.p=arguments[0],this.tolerance=t}function No(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new ao,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[1];this.initialVertices=new x(arguments[0]),this.tolerance=t,this.kdt=new So(t)}function Po(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function To(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function Mo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Ao(){}Array.prototype.fill||(Array.prototype.fill=function(t){for(var e=Object(this),n=parseInt(e.length,10),i=parseInt(arguments[1],10)||0,r=0>i?Math.max(n+i,0):Math.min(i,n),o=arguments[2],s=void 0===o?n:parseInt(o,10)||0,a=0>s?Math.max(n+s,0):Math.min(s,n);a>r;r++)e[r]=t;return e}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return 0>t?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,l(h,c),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new h("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length)f.isTrue(arguments[0],null);else if(2===arguments.length){var t=arguments[1];if(!arguments[0])throw null===t?new h:new h(t)}},f.equals=function(){if(2===arguments.length)f.equals(arguments[0],arguments[1],null);else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];if(!e.equals(t))throw new h("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))}},e(d.prototype,{setOrdinate:function(t,e){switch(t){case d.X:this.x=e;break;case d.Y:this.y=e;break;case d.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!n.equalsWithTolerance(this.x,e.x,i)&&!!n.equalsWithTolerance(this.y,e.y,i)}},getOrdinate:function(t){switch(t){case d.X:return this.x;case d.Y:return this.y;case d.Z:return this.z}throw new i("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof d&&this.equals2D(t)},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},clone:function(){try{var t=null;return null}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new d(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*t+d.hashCode(this.x))+d.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,s,u]},getClass:function(){return d}}),d.hashCode=function(){if(1===arguments.length){var t=r.doubleToLongBits(arguments[0]);return Math.trunc(t^t>>>32)}},e(p.prototype,{compare:function(t,e){var n=t,i=e,r=p.compare(n.x,i.x);if(0!==r)return r;var o=p.compare(n.y,i.y);return 0!==o?o:this.dimensionsToTest<=2?0:p.compare(n.z,i.z)},interfaces_:function(){return[a]},getClass:function(){return p}}),p.compare=function(t,e){return e>t?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},d.DimensionalComparator=p,d.serialVersionUID=0x5cbf2c235c7e5800,d.NULL_ORDINATE=r.NaN,d.X=0,d.Y=1,d.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},(y.prototype=new Error).name="IndexOutOfBoundsException",(v.prototype=Object.create(m.prototype)).constructor=v,v.prototype.get=function(){},v.prototype.set=function(){},v.prototype.isEmpty=function(){},(_.prototype=new Error).name="NoSuchElementException",(b.prototype=new Error).name="OperationNotSupported",(x.prototype=Object.create(v.prototype)).constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[v,m]},x.prototype.add=function(t){return this.array_.push(t),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},x.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},x.prototype.iterator=function(){return new Oo(this)},x.prototype.get=function(t){if(0>t||t>=this.size())throw new y;return this.array_[t]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},x.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;i>n;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Oo=function(t){this.arrayList_=t,this.position_=0};Oo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _;return this.arrayList_.get(this.position_++)},Oo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Oo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Oo.prototype.remove=function(){throw new b},l(w,x),e(w.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e}return x.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=x.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length)x.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof d&&"boolean"==typeof arguments[1]){var t=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(t))return null;x.prototype.add.call(this,t)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(arguments[2])for(var i=0;i<e.length;i++)this.add(e[i],n);else for(i=e.length-1;i>=0;i--)this.add(e[i],n);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof d){var r=arguments[0],o=arguments[1];if(!arguments[2]){var s=this.size();if(s>0){if(r>0&&this.get(r-1).equals2D(o))return null;if(s>r&&this.get(r).equals2D(o))return null}}x.prototype.add.call(this,r,o)}}else if(4===arguments.length){var a=arguments[0],u=arguments[1],c=arguments[2],l=arguments[3],h=1;for(c>l&&(h=-1),i=c;i!==l;i+=h)this.add(a[i],u);return!0}},closeRing:function(){this.size()>0&&this.add(new d(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),e(L.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof L))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new L:new L(this.minx>t.minx?this.minx:t.minx,this.maxx<t.maxx?this.maxx:t.maxx,this.miny>t.miny?this.miny:t.miny,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof L){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof L){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof d){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof L){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=i,this.maxy=i):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),i<this.miny&&(this.miny=i),i>this.maxy&&(this.maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e>t?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof L)return this.covers(arguments[0]);if(arguments[0]instanceof d)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},centre:function(){return this.isNull()?null:new d((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof L){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];o>r?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),a>s?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+d.hashCode(this.minx))+d.hashCode(this.maxx))+d.hashCode(this.miny))+d.hashCode(this.maxy)},interfaces_:function(){return[o,u]},getClass:function(){return L}}),L.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),c=Math.min(i.x,r.x),l=Math.max(i.x,r.x);return!(c>u||a>l||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),c=Math.min(i.y,r.y),l=Math.max(i.y,r.y),c>u||a>l))}},L.serialVersionUID=0x51845cd552189800,l(C,E),e(C.prototype,{interfaces_:function(){return[]},getClass:function(){return C}}),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),S.toLocationSymbol=function(t){switch(t){case S.EXTERIOR:return"e";case S.BOUNDARY:return"b";case S.INTERIOR:return"i";case S.NONE:return"-"}throw new i("Unknown location value: "+t)},S.INTERIOR=0,S.BOUNDARY=1,S.EXTERIOR=2,S.NONE=-1,e(N.prototype,{interfaces_:function(){return[]},getClass:function(){return N}}),N.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/N.LOG_10},N.min=function(t,e,n,i){var r=t;return r>e&&(r=e),r>n&&(r=n),r>i&&(r=i),r},N.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return e>t?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return r>i?r:i>o?o:i}},N.wrap=function(t,e){return 0>t?e- -t%e:t%e},N.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2];return t>(n=arguments[0])&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var n,i=arguments[1],r=arguments[2],o=arguments[3];return i>(n=arguments[0])&&(n=i),r>n&&(n=r),o>n&&(n=o),n}},N.average=function(t,e){return(t+e)/2},N.LOG_10=Math.log(10),P.prototype.append=function(t){this.str+=t},P.prototype.setCharAt=function(t,e){return this.str.substr(0,t)+e+this.str.substr(t+1)},P.prototype.toString=function(t){return this.str},T.prototype.intValue=function(){return this.value},T.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},T.isNaN=function(t){return Number.isNaN(t)},M.isWhitespace=function(t){return 32>=t&&t>=0||127==t},M.toUpperCase=function(t){return t.toUpperCase()},e(A.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=A.magnitude(n.hi),r=A.TEN.pow(i);(n=n.divide(r)).gt(A.TEN)?(n=n.divide(A.TEN),i+=1):n.lt(A.ONE)&&(n=n.multiply(A.TEN),i-=1);for(var o=i+1,s=new P,a=A.MAX_PRINT_DIGITS-1,u=0;a>=u;u++){t&&u===o&&s.append(".");var c=Math.trunc(n.hi);if(0>c)break;var l=!1,h=0;c>9?(l=!0,h="9"):h="0"+c,s.append(h),n=n.subtract(A.valueOf(c)).multiply(A.TEN),l&&n.selfAdd(A.TEN);var f=!0,d=A.magnitude(n.hi);if(0>d&&Math.abs(d)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){return arguments[0]instanceof A?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof A){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e,n,i,r,o=arguments[0],s=null,a=null,u=null,c=null;return this.hi=c=(i=this.hi/o)+(u=(this.hi-(r=i*o)-(c=(s=(u=A.SPLIT*i)-(s=u-i))*(a=(c=A.SPLIT*o)-(a=c-o))-r+s*(n=o-a)+(e=i-s)*a+e*n)+this.lo-i*arguments[1])/o),this.lo=i-c+u,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof A){var t,e,n,i,o=arguments[0],s=null,a=null,u=null,c=null;return new A(c=(n=this.hi/o.hi)+(u=(this.hi-(i=n*o.hi)-(c=(s=(u=A.SPLIT*n)-(s=u-n))*(a=(c=A.SPLIT*o.hi)-(a=c-o.hi))-i+s*(e=o.hi-a)+(t=n-s)*a+t*e)+this.lo-n*o.lo)/o.hi),n-c+u)}if("number"==typeof arguments[0]){var l=arguments[0];return r.isNaN(l)?A.createNaN():A.copy(this).selfDivide(l,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return A.valueOf(1);var e=new A(this),n=A.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return 0>t?n.reciprocal():n},ceil:function(){if(this.isNaN())return A.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new A(t,e)},compareTo:function(t){return this.hi<t.hi?-1:this.hi>t.hi?1:this.lo<t.lo?-1:this.lo>t.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){return arguments[0]instanceof A?(this.init(arguments[0]),this):"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return A.valueOf(0);if(this.isNegative())return A.NaN;var t=1/Math.sqrt(this.hi),e=A.valueOf(this.hi*t),n=this.subtract(e.sqr());return e.add(n.hi*(.5*t))},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null;return this.hi=(n=(r=this.hi+e)+(s=e-(o=r-this.hi)+(this.hi-(r-o))+this.lo))+(i=s+(r-n)),this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var a,u=arguments[0],c=arguments[1],l=(n=null,i=null,r=null,o=null,s=null,(n=(r=this.hi+u)+(o=u-(o=r-this.hi)+(this.hi-(r-o))+(a=this.lo+c)))+(o=c-(s=a-this.lo)+(this.lo-(a-s))+(i=o+(r-n)))),h=o+(n-l);return this.hi=l,this.lo=h,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e,n,i=arguments[0],r=null,o=null,s=null,a=null;r=(s=A.SPLIT*this.hi)-(r=s-this.hi);var u=(s=this.hi*i)+(a=r*(o=(a=A.SPLIT*i)-(o=a-i))-s+r*(n=i-o)+(e=this.hi-r)*o+e*n+(this.hi*arguments[1]+this.lo*i)),c=a+(r=s-u);return this.hi=u,this.lo=c,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return A.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new A(t,e)},negate:function(){return this.isNaN()?this:new A(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof A){var t=arguments[0];return t.isNaN()?A.createNaN():A.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?A.createNaN():A.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=A.magnitude(this.hi);return t>=-3&&20>=t?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;return"."===n.charAt(0)?r="0"+n:0>i?r="0."+A.stringOfChar("0",-i)+n:-1===n.indexOf(".")&&(r=n+A.stringOfChar("0",i-n.length)+".0"),this.isNegative()?"-"+r:r},reciprocal:function(){var t,e,n,i,r=null,o=null,s=null,a=null,u=(n=1/this.hi)+(s=(1-(i=n*this.hi)-(a=(r=(s=A.SPLIT*n)-(r=s-n))*(o=(a=A.SPLIT*this.hi)-(o=a-this.hi))-i+r*(e=this.hi-o)+(t=n-r)*o+t*e)-n*this.lo)/this.hi);return new A(u,n-u+s)},toSciNotation:function(){if(this.isZero())return A.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=A.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},abs:function(){return this.isNaN()?A.NaN:this.isNegative()?this.negate():new A(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof A){var t=arguments[0];return A.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return A.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0])this.hi=arguments[0],this.lo=0;else if(arguments[0]instanceof A){var t=arguments[0];this.hi=t.hi,this.lo=t.lo}}else if(2===arguments.length){var e=arguments[1];this.hi=arguments[0],this.lo=e}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?A.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[u,o,s]},getClass:function(){return A}}),A.sqr=function(t){return A.valueOf(t).selfMultiply(t)},A.valueOf=function(){return"string"==typeof arguments[0]?A.parse(arguments[0]):"number"==typeof arguments[0]?new A(arguments[0]):void 0},A.sqrt=function(t){return A.valueOf(t).sqrt()},A.parse=function(t){for(var e=0,n=t.length;M.isWhitespace(t.charAt(e));)e++;var i=!1;if(n>e){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new A,s=0,a=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,M.isDigit(c)){var l=c-"0";o.selfMultiply(A.TEN),o.selfAdd(l),s++}else{if("."!==c){if("e"===c||"E"===c){var h=t.substring(e);try{u=T.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+c+"' at position "+e+" in string "+t)}a=s}}var f=o,d=s-a-u;if(0===d)f=o;else if(d>0){var p=A.TEN.pow(d);f=o.divide(p)}else 0>d&&(p=A.TEN.pow(-d),f=o.multiply(p));return i?f.negate():f},A.createNaN=function(){return new A(r.NaN,r.NaN)},A.copy=function(t){return new A(t)},A.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return e>=10*Math.pow(10,i)&&(i+=1),i},A.stringOfChar=function(t,e){for(var n=new P,i=0;e>i;i++)n.append(t);return n.toString()},A.PI=new A(3.141592653589793,1.2246467991473532e-16),A.TWO_PI=new A(6.283185307179586,2.4492935982947064e-16),A.PI_2=new A(1.5707963267948966,6.123233995736766e-17),A.E=new A(2.718281828459045,1.4456468917292502e-16),A.NaN=new A(r.NaN,r.NaN),A.EPS=1.23259516440783e-32,A.SPLIT=134217729,A.MAX_PRINT_DIGITS=32,A.TEN=A.valueOf(10),A.ONE=A.valueOf(1),A.SCI_NOT_EXPONENT_CHAR="E",A.SCI_NOT_ZERO="0.0E0",e(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.orientationIndex=function(t,e,n){var i=O.orientationIndexFilter(t,e,n);if(1>=i)return i;var r=A.valueOf(e.x).selfAdd(-t.x),o=A.valueOf(e.y).selfAdd(-t.y),s=A.valueOf(n.x).selfAdd(-e.x),a=A.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},O.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},O.intersection=function(t,e,n,i){var r=A.valueOf(i.y).selfSubtract(n.y).selfMultiply(A.valueOf(e.x).selfSubtract(t.x)),o=A.valueOf(i.x).selfSubtract(n.x).selfMultiply(A.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=A.valueOf(i.x).selfSubtract(n.x).selfMultiply(A.valueOf(t.y).selfSubtract(n.y)),u=A.valueOf(i.y).selfSubtract(n.y).selfMultiply(A.valueOf(t.x).selfSubtract(n.x)),c=a.subtract(u).selfDivide(s).doubleValue(),l=A.valueOf(t.x).selfAdd(A.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),h=A.valueOf(e.x).selfSubtract(t.x).selfMultiply(A.valueOf(t.y).selfSubtract(n.y)),f=A.valueOf(e.y).selfSubtract(t.y).selfMultiply(A.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue();return new d(l,A.valueOf(n.y).selfAdd(A.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue())},O.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(0>=o)return O.signum(s);i=r+o}else{if(!(0>r))return O.signum(s);if(o>=0)return O.signum(s);i=-r-o}var a=O.DP_SAFE_EPSILON*i;return s>=a||-s>=a?O.signum(s):2},O.signum=function(t){return t>0?1:0>t?-1:0},O.DP_SAFE_EPSILON=1e-15,e(R.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[s]},getClass:function(){return R}}),R.X=0,R.Y=1,R.Z=2,R.M=3,D.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;e+r>s;s++)n[i+o]=t[s],o++},D.getProperty=function(t){return{"line.separator":"\n"}[t]},e(k.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new C;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new C;return t},getCoordinate:function(){var t=new d;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return k}}),k.intersection=function(t,e,n,i){var o=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,u=n.y-i.y,c=i.x-n.x,l=n.x*i.y-i.x*n.y,h=o*c-u*s,f=(s*l-c*a)/h,p=(u*a-o*l)/h;if(r.isNaN(f)||r.isInfinite(f)||r.isNaN(p)||r.isInfinite(p))throw new C;return new d(f,p)},e(F.prototype,{create:function(){1===arguments.length&&(arguments[0]instanceof Array||I(arguments[0],R))},interfaces_:function(){return[]},getClass:function(){return F}}),e(z.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return z}}),e(B.prototype,{isGeometryCollection:function(){return this.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof B){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof B&&this.equalsExact(e)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(B.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=n,this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new L(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===B.SORTINDEX_MULTIPOINT||this.getSortIndex()===B.SORTINDEX_MULTILINESTRING||this.getSortIndex()===B.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[s,o,u]},getClass:function(){return B}}),B.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},B.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},B.serialVersionUID=0x799ea46522854c00,B.SORTINDEX_POINT=0,B.SORTINDEX_MULTIPOINT=1,B.SORTINDEX_LINESTRING=2,B.SORTINDEX_LINEARRING=3,B.SORTINDEX_MULTILINESTRING=4,B.SORTINDEX_POLYGON=5,B.SORTINDEX_MULTIPOLYGON=6,B.SORTINDEX_GEOMETRYCOLLECTION=7,B.geometryChangedFilter={interfaces_:function(){return[z]},filter:function(t){t.geometryChangedAction()}},e(U.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return U}}),e(G.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return G}}),e(q.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[G]},getClass:function(){return q}}),e(j.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[G]},getClass:function(){return j}}),e(V.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[G]},getClass:function(){return V}}),e(H.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[G]},getClass:function(){return H}}),G.Mod2BoundaryNodeRule=q,G.EndPointBoundaryNodeRule=j,G.MultiValentEndPointBoundaryNodeRule=V,G.MonoValentEndPointBoundaryNodeRule=H,G.MOD2_BOUNDARY_RULE=new q,G.ENDPOINT_BOUNDARY_RULE=new j,G.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new V,G.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new H,G.OGC_SFS_BOUNDARY_RULE=G.MOD2_BOUNDARY_RULE,e(Y.prototype,{interfaces_:function(){return[]},getClass:function(){return Y}}),Y.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Y.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Y.indexOf(i,e)<0)return i}return null},Y.scroll=function(t,e){var n=Y.indexOf(e,t);if(0>n)return null;var i=new Array(t.length).fill(null);D.arraycopy(t,n,i,0,t.length-n),D.arraycopy(t,0,i,t.length-n,n),D.arraycopy(i,0,t,0,t.length)},Y.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},Y.intersection=function(t,e){for(var n=new w,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Y.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Y.removeRepeatedPoints=function(t){return Y.hasRepeatedPoints(t)?new w(t,!1).toCoordinateArray():t},Y.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;n>=i;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Y.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;var r=0;for(n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},Y.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new d(t[n]);return e}if(5===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];for(n=0;a>n;n++)o[s+n]=new d(i[r+n])}},Y.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},Y.envelope=function(t){for(var e=new L,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Y.toCoordinateArray=function(t){return t.toArray(Y.coordArrayType)},Y.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Y.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Y.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},Y.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Y.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Y.extract=function(t,e,n){e=N.clamp(e,0,t.length);var i=(n=N.clamp(n,-1,t.length))-e+1;0>n&&(i=0),e>=t.length&&(i=0),e>n&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;n>=s;s++)r[o++]=t[s];return r},e(X.prototype,{compare:function(t,e){return Y.compare(t,e)},interfaces_:function(){return[a]},getClass:function(){return X}}),e(W.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Y.compare(n,i);return Y.isEqualReversed(n,i)?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Y.increasingDirection(n),o=Y.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var c=n[s].compareTo(i[a]);if(0!==c)return c;s+=r,a+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return W}}),Y.ForwardComparator=X,Y.BidirectionalComparator=W,Y.coordArrayType=new Array(0).fill(null),Z.prototype.get=function(){},Z.prototype.put=function(){},Z.prototype.size=function(){},Z.prototype.values=function(){},Z.prototype.entrySet=function(){},K.prototype=new Z,(J.prototype=new m).contains=function(){},(Q.prototype=new J).contains=function(t){for(var e=0,n=this.array_.length;n>e;e++)if(this.array_[e]===t)return!0;return!1},Q.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},Q.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Q.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},Q.prototype.size=function(){return this.array_.length},Q.prototype.isEmpty=function(){return 0===this.array_.length},Q.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},Q.prototype.iterator=function(){return new Ro(this)};var Ro=function(t){this.hashSet_=t,this.position_=0};Ro.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _;return this.hashSet_.array_[this.position_++]},Ro.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Ro.prototype.remove=function(){throw new b};var Do=0;(rt.prototype=new K).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(0>n)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Do,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,0>(i=t.compareTo(r.key)))r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Do,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>i?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(tt(t)==nt(tt(tt(t))))1==$(e=it(tt(tt(t))))?(et(tt(t),Do),et(e,Do),et(tt(tt(t)),1),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),Do),et(tt(tt(t)),1),this.rotateRight(tt(tt(t))));else{var e;1==$(e=nt(tt(tt(t))))?(et(tt(t),Do),et(e,Do),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),Do),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=Do},rt.prototype.values=function(){var t=new x,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new Q,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),st.prototype=new J,(at.prototype=new st).contains=function(t){for(var e=0,n=this.array_.length;n>e;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;n>e;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new b},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new ko(this)};var ko=function(t){this.treeSet_=t,this.position_=0};ko.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _;return this.treeSet_.array_[this.position_++]},ko.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ko.prototype.remove=function(){throw new b},ut.sort=function(){var t,e,n,i=arguments[0];if(1!==arguments.length)if(2===arguments.length)n=arguments[1],i.sort(function(t,e){return n.compare(t,e)});else{if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t]);return}if(4===arguments.length){for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t]);return}}else i.sort(function(t,e){return t.compareTo(e)})},ut.asList=function(t){for(var e=new x,n=0,i=t.length;i>n;n++)e.add(t[n]);return e},e(ct.prototype,{interfaces_:function(){return[]},getClass:function(){return ct}}),ct.toDimensionSymbol=function(t){switch(t){case ct.FALSE:return ct.SYM_FALSE;case ct.TRUE:return ct.SYM_TRUE;case ct.DONTCARE:return ct.SYM_DONTCARE;case ct.P:return ct.SYM_P;case ct.L:return ct.SYM_L;case ct.A:return ct.SYM_A}throw new i("Unknown dimension value: "+t)},ct.toDimensionValue=function(t){switch(M.toUpperCase(t)){case ct.SYM_FALSE:return ct.FALSE;case ct.SYM_TRUE:return ct.TRUE;case ct.SYM_DONTCARE:return ct.DONTCARE;case ct.SYM_P:return ct.P;case ct.SYM_L:return ct.L;case ct.SYM_A:return ct.A}throw new i("Unknown dimension symbol: "+t)},ct.P=0,ct.L=1,ct.A=2,ct.FALSE=-1,ct.TRUE=-2,ct.DONTCARE=-3,ct.SYM_FALSE="F",ct.SYM_TRUE="T",ct.SYM_DONTCARE="*",ct.SYM_P="0",ct.SYM_L="1",ct.SYM_A="2",e(lt.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return lt}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),l(ft,B),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new L,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return B.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ut.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=ct.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=ct.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<this.geometries.length;e++)t[e]=this.geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(ut.asList(this.geometries)),n=new at(ut.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],o=this.getNumGeometries(),s=r.getNumGeometries(),a=0;o>a&&s>a;){var u=this.getGeometryN(a),c=r.getGeometryN(a),l=u.compareToSameClass(c,i);if(0!==l)return l;a++}return o>a?1:s>a?-1:0}},apply:function(){if(I(arguments[0],U))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(I(arguments[0],ht)){var n=arguments[0];if(0===this.geometries.length)return null;for(e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],lt)){var i=arguments[0];for(i.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(I(arguments[0],z)){var r=arguments[0];for(r.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=B.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,l(dt,ft),e(dt.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ct.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new pt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new dt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return dt}}),dt.serialVersionUID=0x7155d2ab4afa8000,e(pt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof _t?this.boundaryLineString(this.geom):this.geom instanceof dt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){return this.geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new x;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue();this.bnRule.isInBoundary(s.count)&&e.add(o.getKey())}return Y.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.getBoundary=function(){return 1===arguments.length?new pt(arguments[0]).getBoundary():2===arguments.length?new pt(arguments[0],arguments[1]).getBoundary():void 0},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(yt.prototype,{interfaces_:function(){return[]},getClass:function(){return yt}}),yt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;e>i;i++)n[i]=t;return new String(n)},yt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[1],r="",o=new function(){}(new function(){}(yt.getStackTrace(arguments[0]))),s=0;i>s;s++)try{r+=o.readLine()+yt.NEWLINE}catch(t){if(!(t instanceof mt))throw t;f.shouldNeverReachHere()}return r}},yt.split=function(t,e){for(var n=e.length,i=new x,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},yt.toString=function(){if(1===arguments.length)return yt.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},yt.spaces=function(t){return yt.chars(" ",t)},yt.NEWLINE=D.getProperty("line.separator"),yt.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),e(vt.prototype,{interfaces_:function(){return[]},getClass:function(){return vt}}),vt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;r>o;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},vt.isRing=function(t){var e=t.size();return 0===e||!(3>=e)&&t.getOrdinate(0,R.X)===t.getOrdinate(e-1,R.X)&&t.getOrdinate(0,R.Y)===t.getOrdinate(e-1,R.Y)},vt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;n>o;o++)for(var s=0;i>s;s++){var a=t.getOrdinate(o,s),u=e.getOrdinate(o,s);if(!(t.getOrdinate(o,s)===e.getOrdinate(o,s)||r.isNaN(a)&&r.isNaN(u)))return!1}return!0},vt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(vt.copy(e,0,i,0,r),r>0)for(var o=r;n>o;o++)vt.copy(e,r-1,i,o,1);return i},vt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;n>=i;i++)vt.swap(t,i,e-i)},vt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},vt.copy=function(t,e,n,i,r){for(var o=0;r>o;o++)vt.copyCoord(t,e+o,n,i+o)},vt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new P;i.append("(");for(var r=0;e>r;r++){r>0&&i.append(" ");for(var o=0;n>o;o++)o>0&&i.append(","),i.append(yt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},vt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:3>=n?vt.createClosedRing(t,e,4):e.getOrdinate(0,R.X)===e.getOrdinate(n-1,R.X)&&e.getOrdinate(0,R.Y)===e.getOrdinate(n-1,R.Y)?e:vt.createClosedRing(t,e,n+1)},vt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();vt.copy(e,0,i,0,r);for(var o=r;n>o;o++)vt.copy(e,0,i,o,1);return i},l(_t,B),e(_t.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new L:this.points.expandEnvelope(new L)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return B.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&vt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ct.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Xt.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return vt.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this.points.size()&&n<t.points.size();){var i=this.points.getCoordinate(e).compareTo(t.points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this.points.size()?1:n<t.points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this.points,(t=arguments[0]).points)},apply:function(){if(I(arguments[0],U))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(I(arguments[0],ht)){var n=arguments[0];if(0===this.points.size())return null;for(e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else I(arguments[0],lt)?arguments[0].filter(this):I(arguments[0],z)&&arguments[0].filter(this)},getBoundary:function(){return new pt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof _t},clone:function(){var t=B.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new _t(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return _t}}),_t.serialVersionUID=0x2b2b51ba435c8e00,e(bt.prototype,{interfaces_:function(){return[]},getClass:function(){return bt}}),l(xt,B),e(xt.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new L;var t=new L;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return B.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ct.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this.coordinates,(t=arguments[0]).coordinates)},apply:function(){if(I(arguments[0],U)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(I(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else I(arguments[0],lt)?arguments[0].filter(this):I(arguments[0],z)&&arguments[0].filter(this)},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=B.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new xt(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[bt]},getClass:function(){return xt}}),xt.serialVersionUID=0x44077bad161cbc00,e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),l(Lt,B),e(Lt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return B.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(Xt.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(Xt.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;5>n;n++){if((o=t.getX(n))!==e.getMinX()&&o!==e.getMaxX())return!1;if((s=t.getY(n))!==e.getMinY()&&s!==e.getMaxY())return!1}var i=t.getX(0),r=t.getY(0);for(n=1;4>=n;n++){var o,s;if((o=t.getX(n))!==i==((s=t.getY(n))!==r))return!1;i=o,r=s}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(!this.shell.equalsExact(n.shell,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var i=0;i<this.holes.length;i++)if(!this.holes[i].equalsExact(n.holes[i],e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ut.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);D.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=Y.minCoordinate(e.getCoordinates());Y.scroll(i,r),D.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],Xt.isCCW(e.getCoordinates())===n&&Y.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length)return this.shell.compareToSameClass(arguments[0].shell);if(2===arguments.length){var t=arguments[1],e=arguments[0],n=this.shell.compareToSameClass(e.shell,t);if(0!==n)return n;for(var i=this.getNumInteriorRing(),r=e.getNumInteriorRing(),o=0;i>o&&r>o;){var s=this.getInteriorRingN(o),a=e.getInteriorRingN(o),u=s.compareToSameClass(a,t);if(0!==u)return u;o++}return i>o?1:r>o?-1:0}},apply:function(){if(I(arguments[0],U)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(I(arguments[0],ht)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],lt))arguments[0].filter(this);else if(I(arguments[0],z)){var i=arguments[0];for(i.filter(this),this.shell.apply(i),e=0;e<this.holes.length;e++)this.holes[e].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=B.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Lt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[wt]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0x307ffefd8dc97200,l(Et,ft),e(Et.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){return 1===arguments.length?this.geometries[arguments[0]].getCoordinate():ft.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ct.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Et(t,this.factory)},interfaces_:function(){return[bt]},getClass:function(){return Et}}),Et.serialVersionUID=-0x6fb1ed4162e0fc00,l(Ct,_t),e(Ct.prototype,{getSortIndex:function(){return B.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ct.FALSE},isClosed:function(){return!!this.isEmpty()||_t.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return vt.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!_t.prototype.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Ct.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Ct(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.MINIMUM_VALID_SIZE=4,Ct.serialVersionUID=-0x3b229e262367a600,l(St,ft),e(St.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<this.geometries.length;e++)t[e]=this.geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new x,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new St(t,this.factory)},interfaces_:function(){return[wt]},getClass:function(){return St}}),St.serialVersionUID=-0x7a5aa1369171980,e(It.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof Lt?this.editPolygon(t,e):t instanceof xt?e.edit(t,this.factory):t instanceof _t?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new x,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Et?this.factory.createMultiPoint(i.toArray([])):n.getClass()===dt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===St?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new x,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return It}}),It.GeometryEditorOperation=Nt,e(Pt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Nt]},getClass:function(){return Pt}}),e(Tt.prototype,{edit:function(t,e){if(t instanceof Ct)return e.createLinearRing(this.editCoordinates(t.getCoordinates(),t));if(t instanceof _t)return e.createLineString(this.editCoordinates(t.getCoordinates(),t));if(t instanceof xt){var n=this.editCoordinates(t.getCoordinates(),t);return n.length>0?e.createPoint(n[0]):e.createPoint()}return t},interfaces_:function(){return[Nt]},getClass:function(){return Tt}}),e(Mt.prototype,{edit:function(t,e){return t instanceof Ct?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof _t?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof xt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Nt]},getClass:function(){return Mt}}),It.NoOpGeometryOperation=Pt,It.CoordinateOperation=Tt,It.CoordinateSequenceOperation=Mt,e(At.prototype,{setOrdinate:function(t,e,n){switch(e){case R.X:this.coordinates[t].x=n;break;case R.Y:this.coordinates[t].y=n;break;case R.Z:this.coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case R.X:return this.coordinates[t].x;case R.Y:return this.coordinates[t].y;case R.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length)return this.coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this.coordinates[t].x,e.y=this.coordinates[t].y,e.z=this.coordinates[t].z}},getCoordinateCopy:function(t){return new d(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new At(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new At(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new P(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[R,u]},getClass:function(){return At}}),At.serialVersionUID=-0xcb44a778db18e00,e(Ot.prototype,{readResolve:function(){return Ot.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new At(arguments[0]);if(I(arguments[0],R))return new At(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),2>e?new At(t):new At(t,e)}},interfaces_:function(){return[F,u]},getClass:function(){return Ot}}),Ot.instance=function(){return Ot.instanceObject},Ot.serialVersionUID=-0x38e49fa6cf6f2e00,Ot.instanceObject=new Ot;var Fo,zo=Object.defineProperty,Bo=function(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&(function(t){t.forEach(this.add?this.add:function(t){this.set(t[0],t[1])},this)}).call(this,t))):new n(t)}return e||zo(t,"size",{get:kt}),t.constructor=n,n.prototype=t,n}({delete:function(t){return this.has(t)&&(this._keys.splice(Fo,1),this._values.splice(Fo,1),this._itp.forEach(function(t){Fo<t[0]&&t[0]--})),Fo>-1},has:function(t){return(function(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(Fo=t.length;Fo--&&!Rt(t[Fo],e););else Fo=t.indexOf(e);return Fo>-1}).call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[Fo]:void 0},set:function(t,e){return this.has(t)?this._values[Fo]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return Dt(this._itp,this._keys)},values:function(){return Dt(this._itp,this._values)},entries:function(){return Dt(this._itp,this._keys,this._values)},forEach:function(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),Uo="undefined"!=typeof Map&&Map.prototype.values?Map:Bo;(Ft.prototype=new Z).get=function(t){return this.map_.get(t)||null},Ft.prototype.put=function(t,e){return this.map_.set(t,e),e},Ft.prototype.values=function(){for(var t=new x,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},Ft.prototype.entrySet=function(){var t=new Q;return this.map_.entries().forEach(function(e){return t.add(e)}),t},Ft.prototype.size=function(){return this.map_.size()},e(zt.prototype,{equals:function(t){return t instanceof zt&&this.modelType===t.modelType&&this.scale===t.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new T(n).compareTo(new T(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===zt.FLOATING||this.modelType===zt.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===zt.FLOATING?t="Floating":this.modelType===zt.FLOATING_SINGLE?t="Floating-Single":this.modelType===zt.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return r.isNaN(t)?t:this.modelType===zt.FLOATING_SINGLE?t:this.modelType===zt.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof d){var e=arguments[0];if(this.modelType===zt.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===zt.FLOATING?t=16:this.modelType===zt.FLOATING_SINGLE?t=6:this.modelType===zt.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[u,o]},getClass:function(){return zt}}),zt.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(Bt.prototype,{readResolve:function(){return Bt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[u]},getClass:function(){return Bt}}),Bt.serialVersionUID=-552860263173159e4,Bt.nameToTypeMap=new Ft,zt.Type=Bt,zt.serialVersionUID=0x6bee6404e9a25c00,zt.FIXED=new Bt("FIXED"),zt.FLOATING=new Bt("FLOATING"),zt.FLOATING_SINGLE=new Bt("FLOATING SINGLE"),zt.maximumPreciseValue=9007199254740992,e(Ut.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d(t.getMinX(),t.getMinY()),new d(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d(t.getMinX(),t.getMinY()),new d(t.getMinX(),t.getMaxY()),new d(t.getMaxX(),t.getMaxY()),new d(t.getMaxX(),t.getMinY()),new d(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],R))return new _t(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new dt(null,this):1===arguments.length?new dt(arguments[0],this):void 0},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Ut.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Lt)return this.createMultiPolygon(Ut.toPolygonArray(t));if(a instanceof _t)return this.createMultiLineString(Ut.toLineStringArray(t));if(a instanceof xt)return this.createMultiPoint(Ut.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(I(arguments[0],R))return new xt(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Lt(null,null,this);if(1===arguments.length){if(I(arguments[0],R))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Ct)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Lt(arguments[0],arguments[1],this)},getSRID:function(){return this.SRID},createGeometryCollection:function(){return 0===arguments.length?new ft(null,this):1===arguments.length?new ft(arguments[0],this):void 0},createGeometry:function(t){return new It(this).edit(t,{edit:function(){if(2===arguments.length)return this.coordinateSequenceFactory.create(arguments[0])}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],R))return new Ct(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new St(null,this):1===arguments.length?new St(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new Et(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Et(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],R)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());vt.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},interfaces_:function(){return[u]},getClass:function(){return Ut}}),Ut.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.getDefaultCoordinateSequenceFactory=function(){return Ot.instance()},Ut.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ut.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ut.serialVersionUID=-0x5ea75f2051eeb400;var Go={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(Gt.prototype,{read:function(t){var e,n;t=t.replace(/[\n\r]/g," ");var i=Go.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Go.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),jo[n]&&(e=jo[n].apply(this,[i[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!qo[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+qo[e].apply(this,[t])+")"}});var qo={coordinate:function(t){return t.x+" "+t.y},point:function(t){return qo.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+qo.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(qo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(qo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+qo.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+qo.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;i>n;++n)e.push("("+qo.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+qo.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},jo={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Go.spaces);return this.geometryFactory.createPoint(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(Go.trimParens,"$1"),i.push(jo.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(Go.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(Go.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Go.parenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(Go.trimParens,"$1"),i.push(jo.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Go.parenComma),s=[],a=0,u=o.length;u>a;++a)e=o[a].replace(Go.trimParens,"$1"),n=jo.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Go.doubleParenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(Go.trimParens,"$1"),i.push(jo.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;r>i;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(qt.prototype,{write:function(t){return this.parser.write(t)}}),e(qt,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(jt.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new P;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==jt.NO_INTERSECTION},getEdgeDistance:function(t,e){return jt.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===jt.COLLINEAR_INTERSECTION},toString:function(){return qt.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+qt.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return jt}}),jt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return f.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},jt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return f.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},jt.DONT_INTERSECT=0,jt.DO_INTERSECT=1,jt.COLLINEAR=2,jt.NO_INTERSECTION=0,jt.POINT_INTERSECTION=1,jt.COLLINEAR_INTERSECTION=2,l(Vt,jt),e(Vt.prototype,{isInSegmentEnvelopes:function(t){var e=new L(this.inputLines[0][0],this.inputLines[0][1]),n=new L(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return jt.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,L.intersects(e,n,t)&&0===Xt.orientationIndex(e,n,t)&&0===Xt.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=jt.POINT_INTERSECTION,null):void(this.result=jt.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var r=null;try{r=k.intersection(t,e,n,i)}catch(o){if(!(o instanceof C))throw o;r=Vt.nearestEndpoint(t,e,n,i)}return r},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new d(Vt.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=O.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);D.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&D.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new d(t),o=new d(e),s=new d(n),a=new d(i),u=new d;this.normalizeToEnvCentre(r,o,s,a,u);var c=this.safeHCoordinateIntersection(r,o,s,a);return c.x+=u.x,c.y+=u.y,c},computeCollinearIntersection:function(t,e,n,i){var r=L.intersects(t,e,n),o=L.intersects(t,e,i),s=L.intersects(n,i,t),a=L.intersects(n,i,e);return r&&o?(this.intPt[0]=n,this.intPt[1]=i,jt.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=t,this.intPt[1]=e,jt.COLLINEAR_INTERSECTION):r&&s?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||a?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||s?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):o&&s?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||a?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):o&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||s?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):jt.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<i.x?n.x:i.x,l=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,d=((s>l?s:l)+(f>u?u:f))/2;r.x=((o>c?o:c)+(h>a?a:h))/2,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!L.intersects(t,e,n,i))return jt.NO_INTERSECTION;var r=Xt.orientationIndex(t,e,n),o=Xt.orientationIndex(t,e,i);if(r>0&&o>0||0>r&&0>o)return jt.NO_INTERSECTION;var s=Xt.orientationIndex(n,i,t),a=Xt.orientationIndex(n,i,e);return s>0&&a>0||0>s&&0>a?jt.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new d(n):0===o?this.intPt[0]=new d(i):0===s?this.intPt[0]=new d(t):0===a&&(this.intPt[0]=new d(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),jt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Vt}}),Vt.nearestEndpoint=function(t,e,n,i){var r=t,o=Xt.distancePointLine(t,n,i),s=Xt.distancePointLine(e,n,i);return o>s&&(o=s,r=e),o>(s=Xt.distancePointLine(n,t,e))&&(o=s,r=n),o>(s=Xt.distancePointLine(i,t,e))&&(o=s,r=i),r},e(Ht.prototype,{interfaces_:function(){return[]},getClass:function(){return Ht}}),Ht.orientationIndex=function(t,e,n){return Ht.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},Ht.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?i>=e||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):-i>=e?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?i>=-e?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(n>=t))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(n-=(s=Math.floor(n/t))*t,0>(i-=s*e))return-r;if(i>e)return r;if(t>n+n){if(i+i>e)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(t-=(s=Math.floor(t/n))*n,0>(e-=s*i))return r;if(e>i)return-r;if(n>t+t){if(e+e>i)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(Yt.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.y-this.p.y,o=e.y-this.p.y,s=Ht.signOfDet2x2(t.x-this.p.x,r,e.x-this.p.x,o);if(0===s)return this.isPointOnSegment=!0,null;r>o&&(s=-s),s>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==S.EXTERIOR},getLocation:function(){return this.isPointOnSegment?S.BOUNDARY:this.crossingCount%2==1?S.INTERIOR:S.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return Yt}}),Yt.locatePointInRing=function(){if(arguments[0]instanceof d&&I(arguments[1],R)){for(var t=arguments[1],e=new Yt(arguments[0]),n=new d,i=new d,r=1;r<t.size();r++)if(t.getCoordinate(r,n),t.getCoordinate(r-1,i),e.countSegment(n,i),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof d&&arguments[1]instanceof Array){var o=arguments[1];for(e=new Yt(arguments[0]),r=1;r<o.length;r++)if(e.countSegment(n=o[r],i=o[r-1]),e.isOnSegment())return e.getLocation();return e.getLocation()}},e(Xt.prototype,{interfaces_:function(){return[]},getClass:function(){return Xt}}),Xt.orientationIndex=function(t,e,n){return O.orientationIndex(t,e,n)},Xt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++)e+=(t[i].x-n)*(t[i-1].y-t[i+1].y);return e/2}if(I(arguments[0],R)){var r=arguments[0],o=r.size();if(3>o)return 0;var s=new d,a=new d,u=new d;for(r.getCoordinate(0,a),r.getCoordinate(1,u),u.x-=n=a.x,e=0,i=1;o-1>i;i++)s.y=a.y,a.x=u.x,a.y=u.y,r.getCoordinate(i+1,u),u.x-=n,e+=a.x*(s.y-u.y);return e/2}},Xt.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Xt.distancePointLine(t,n,i);if(n.equals(i))return Xt.distancePointLine(i,t,e);var r=!1;if(L.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,a=((t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y))/o;(0>a||a>1||0>s||s>1)&&(r=!0)}}else r=!0;return r?N.min(Xt.distancePointLine(t,n,i),Xt.distancePointLine(e,n,i),Xt.distancePointLine(n,t,e),Xt.distancePointLine(i,t,e)):0},Xt.isPointInRing=function(t,e){return Xt.locatePointInRing(t,e)!==S.EXTERIOR},Xt.computeLength=function(t){var e=t.size();if(1>=e)return 0;var n=0,i=new d;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;e>s;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,c=a-r,l=u-o;n+=Math.sqrt(c*c+l*l),r=a,o=u}return n},Xt.isCCW=function(t){var e=t.length-1;if(3>e)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;e>=o;o++){var s=t[o];s.y>n.y&&(n=s,r=o)}var a=r;do{0>(a-=1)&&(a=e)}while(t[a].equals2D(n)&&a!==r);var u=r;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==r);var c=t[a],l=t[u];if(c.equals2D(n)||l.equals2D(n)||c.equals2D(l))return!1;var h=Xt.computeOrientation(c,n,l);return 0===h?c.x>l.x:h>0},Xt.locatePointInRing=function(t,e){return Yt.locatePointInRing(t,e)},Xt.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i)*Math.sqrt(i)},Xt.computeOrientation=function(t,e,n){return Xt.orientationIndex(t,e,n)},Xt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new i("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=Xt.distancePointLine(t,e[r],e[r+1]);n>o&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return s.distance(a);var c=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),l=((s.x-a.x)*(u.x-a.x)+(s.y-a.y)*(u.y-a.y))/c;return 0>=l?s.distance(a):l>=1?s.distance(u):Math.abs(((a.y-s.y)*(u.x-a.x)-(a.x-s.x)*(u.y-a.y))/c)*Math.sqrt(c)}},Xt.isOnLine=function(t,e){for(var n=new Vt,i=1;i<e.length;i++)if(n.computeIntersection(t,e[i-1],e[i]),n.hasIntersection())return!0;return!1},Xt.RIGHT=Xt.CLOCKWISE=-1,Xt.LEFT=Xt.COUNTERCLOCKWISE=1,Xt.STRAIGHT=Xt.COLLINEAR=0,e(Wt.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof Wt){var t=arguments[0],e=Xt.orientationIndex(this.p0,this.p1,t.p0),n=Xt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):0>=e&&0>=n?Math.max(e,n):0}if(arguments[0]instanceof d)return Xt.orientationIndex(this.p0,this.p1,arguments[0])},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof Wt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new Vt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof d){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new d(t);var e=this.projectionFactor(t),n=new d;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Wt){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(0>=r&&0>=o)return null;var s=this.project(i.p0);0>r&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return 0>o&&(a=this.p0),o>1&&(a=this.p1),new Wt(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return Xt.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return Wt.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return 0>=i?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var a=this.closestPoint(t.p1);i>(o=a.distance(t.p1))&&(i=o,n[0]=a,n[1]=t.p1);var u=t.closestPoint(this.p0);i>(o=u.distance(this.p0))&&(i=o,n[0]=this.p0,n[1]=u);var c=t.closestPoint(this.p1);return i>(o=c.distance(this.p1))&&(i=o,n[0]=this.p1,n[1]=c),n},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&1>e)return this.project(t);var n=this.p0.distance(t);return this.p1.distance(t)>n?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return k.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof C))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(0>=s)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new d(n-u,i+a)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return 0>e?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof Wt){var t=arguments[0];return Xt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof d)return Xt.distancePointLine(arguments[0],this.p0,this.p1)},pointAlong:function(t){var e=new d;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[o,u]},getClass:function(){return Wt}}),Wt.midPoint=function(t,e){return new d((t.x+e.x)/2,(t.y+e.y)/2)},Wt.serialVersionUID=0x2d2172135f411c00,e(Zt.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])||Zt.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||Zt.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||Zt.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))&&this.matrix[S.EXTERIOR][S.INTERIOR]===ct.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===ct.FALSE},isCoveredBy:function(){return(Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])||Zt.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||Zt.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||Zt.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))&&this.matrix[S.INTERIOR][S.EXTERIOR]===ct.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===ct.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3);this.matrix[n][e%3]=ct.toDimensionValue(t.charAt(e))}else 3===arguments.length&&(this.matrix[arguments[0]][arguments[1]]=arguments[2])},isContains:function(){return Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.EXTERIOR][S.INTERIOR]===ct.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===ct.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3);this.setAtLeast(n,e%3,ct.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.matrix[i][r]<o&&(this.matrix[i][r]=o)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.INTERIOR][S.EXTERIOR]===ct.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===ct.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===ct.A&&e===ct.A||t===ct.L&&e===ct.L||t===ct.L&&e===ct.A||t===ct.P&&e===ct.A||t===ct.P&&e===ct.L)&&this.matrix[S.INTERIOR][S.INTERIOR]===ct.FALSE&&(Zt.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||Zt.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||Zt.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))},isOverlaps:function(t,e){return t===ct.P&&e===ct.P||t===ct.A&&e===ct.A?Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&Zt.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR])&&Zt.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR]):t===ct.L&&e===ct.L&&1===this.matrix[S.INTERIOR][S.INTERIOR]&&Zt.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR])&&Zt.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR])},isEquals:function(t,e){return t===e&&Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.INTERIOR][S.EXTERIOR]===ct.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===ct.FALSE&&this.matrix[S.EXTERIOR][S.INTERIOR]===ct.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===ct.FALSE},toString:function(){for(var t=new P("123456789"),e=0;3>e;e++)for(var n=0;3>n;n++)t.setCharAt(3*e+n,ct.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(var e=0;3>e;e++)for(var n=0;3>n;n++)if(!Zt.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[S.INTERIOR][S.INTERIOR]===ct.FALSE&&this.matrix[S.INTERIOR][S.BOUNDARY]===ct.FALSE&&this.matrix[S.BOUNDARY][S.INTERIOR]===ct.FALSE&&this.matrix[S.BOUNDARY][S.BOUNDARY]===ct.FALSE},isCrosses:function(t,e){return t===ct.P&&e===ct.L||t===ct.P&&e===ct.A||t===ct.L&&e===ct.A?Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&Zt.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR]):t===ct.L&&e===ct.P||t===ct.A&&e===ct.P||t===ct.A&&e===ct.L?Zt.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&Zt.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR]):t===ct.L&&e===ct.L&&0===this.matrix[S.INTERIOR][S.INTERIOR]},interfaces_:function(){return[s]},getClass:function(){return Zt}}),Zt.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===ct.SYM_DONTCARE||e===ct.SYM_TRUE&&(t>=0||t===ct.TRUE)||e===ct.SYM_FALSE&&t===ct.FALSE||e===ct.SYM_P&&t===ct.P||e===ct.SYM_L&&t===ct.L||e===ct.SYM_A&&t===ct.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[1];return new Zt(arguments[0]).matches(n)}},Zt.isTrue=function(t){return t>=0||t===ct.TRUE};var Vo=Object.freeze({Coordinate:d,CoordinateList:w,Envelope:L,LineSegment:Wt,GeometryFactory:Ut,Geometry:B,Point:xt,LineString:_t,LinearRing:Ct,Polygon:Lt,GeometryCollection:ft,MultiPoint:Et,MultiLineString:dt,MultiPolygon:St,Dimension:ct,IntersectionMatrix:Zt});e(Kt.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);0!==i&&(e+=i,this.lineCentSum.x+=i*((t[n].x+t[n+1].x)/2),this.lineCentSum.y+=i*((t[n].y+t[n+1].y)/2))}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=Xt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!Xt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;Kt.centroid3(t,e,n,this.triangleCent3);var o=Kt.area2(t,e,n);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof Lt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof B){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof xt)this.addPoint(n.getCoordinate());else if(n instanceof _t)this.addLineSegments(n.getCoordinates());else if(n instanceof Lt)this.add(n);else if(n instanceof ft){var i=n;for(e=0;e<i.getNumGeometries();e++)this.add(i.getGeometryN(e))}}},interfaces_:function(){return[]},getClass:function(){return Kt}}),Kt.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},Kt.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},Kt.getCentroid=function(t){return new Kt(t).getCentroid()},(Jt.prototype=new Error).name="EmptyStackException",(Qt.prototype=new v).add=function(t){return this.array_.push(t),!0},Qt.prototype.get=function(t){if(0>t||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},Qt.prototype.push=function(t){return this.array_.push(t),t},Qt.prototype.pop=function(t){if(0===this.array_.length)throw new Jt;return this.array_.pop()},Qt.prototype.peek=function(){if(0===this.array_.length)throw new Jt;return this.array_[this.array_.length-1]},Qt.prototype.empty=function(){return 0===this.array_.length},Qt.prototype.isEmpty=function(){return this.empty()},Qt.prototype.search=function(t){return this.array_.indexOf(t)},Qt.prototype.size=function(){return this.array_.length},Qt.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},e($t.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[U]},getClass:function(){return $t}}),$t.filterCoordinates=function(t){for(var e=new $t,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(te.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ut.sort(t,1,t.length,new ee(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new w;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new x,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r)}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==Xt.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new at,i=0;i<e.length;i++)n.add(e[i]);for(i=0;i<t.length;i++)Xt.isPointInRing(t[i],e)||n.add(t[i]);var r=Y.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)e[n]=n<t.length?t[n]:t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new Qt;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&Xt.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return te}}),te.extractCoordinates=function(t){var e=new $t;return t.apply(e),e.getCoordinates()},e(ee.prototype,{compare:function(t,e){return ee.polarCompare(this.origin,t,e)},interfaces_:function(){return[a]},getClass:function(){return ee}}),ee.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=Xt.computeOrientation(t,e,n);if(a===Xt.COUNTERCLOCKWISE)return 1;if(a===Xt.CLOCKWISE)return-1;var u=i*i+r*r,c=o*o+s*s;return c>u?-1:u>c?1:0},te.RadialComparator=ee,e(ne.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Ct&&!i.isEmpty()||(n=!1);for(var r=new x,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Ct||(n=!1),r.add(s))}if(n)return this.factory.createPolygon(i,r.toArray([]));var a=new x;return null!==i&&a.add(i),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Ut.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof xt)return this.transformPoint(t,null);if(t instanceof Et)return this.transformMultiPoint(t,null);if(t instanceof Ct)return this.transformLinearRing(t,null);if(t instanceof _t)return this.transformLineString(t,null);if(t instanceof dt)return this.transformMultiLineString(t,null);if(t instanceof Lt)return this.transformPolygon(t,null);if(t instanceof St)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return i>0&&4>i&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return ne}}),e(ie.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;n>i;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new d(o)),0===i&&this._isClosed&&t.set(t.size()-1,new d(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new w(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;n>i;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new d(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var s=this.seg.distance(t);s<this.snapTolerance&&n>s&&(n=s,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return ie}}),ie.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(re.prototype,{snapTo:function(t,e){return new oe(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=new oe(t,this.extractTargetCoordinates(this.srcGeom),!0).transform(this.srcGeom),i=n;return e&&I(i,wt)&&(i=n.buffer(0)),i},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new at,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);e>i&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return re}}),re.snap=function(t,e,n){var i=new Array(2).fill(null),r=new re(t);i[0]=r.snapTo(e,n);var o=new re(e);return i[1]=o.snapTo(i[0],n),i},re.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=re.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===zt.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[1];return Math.min(re.computeOverlaySnapTolerance(arguments[0]),re.computeOverlaySnapTolerance(r))}},re.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*re.SNAP_PRECISION_FACTOR},re.snapToSelf=function(t,e,n){return new re(t).snapToSelf(e,n)},re.SNAP_PRECISION_FACTOR=1e-9,l(oe,ne),e(oe.prototype,{snapLine:function(t,e){var n=new ie(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return oe}}),e(se.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=se.signExpBits(this.commonBits),this.isFirst=!1,null):se.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=se.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=se.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Long.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return se}}),se.getBit=function(t,e){return 0!=(t&1<<e)?1:0},se.signExpBits=function(t){return t>>52},se.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},se.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(se.getBit(t,i)!==se.getBit(e,i))return n;n++}return 52},e(ae.prototype,{addCommonBits:function(t){var e=new ce(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new d(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new ce(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return ae}}),e(ue.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[U]},getClass:function(){return ue}}),e(ce.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return ce}}),ae.CommonCoordinateFilter=ue,ae.Translater=ce,e(le.prototype,{next:function(){if(this.atStart)return this.atStart=!1,le.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new _;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new le(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return le}}),le.isAtomic=function(t){return!(t instanceof ft)},e(he.prototype,{locateInternal:function(){if(arguments[0]instanceof d&&arguments[1]instanceof Lt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return S.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===S.EXTERIOR)return S.EXTERIOR;if(i===S.BOUNDARY)return S.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===S.INTERIOR)return S.EXTERIOR;if(s===S.BOUNDARY)return S.BOUNDARY}return S.INTERIOR}if(arguments[0]instanceof d&&arguments[1]instanceof _t){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return S.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?Xt.isOnLine(a,c)?S.INTERIOR:S.EXTERIOR:S.BOUNDARY}if(arguments[0]instanceof d&&arguments[1]instanceof xt){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?S.INTERIOR:S.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?Xt.locatePointInRing(t,e.getCoordinates()):S.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==S.EXTERIOR},updateLocationInfo:function(t){t===S.INTERIOR&&(this.isIn=!0),t===S.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof xt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof _t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Lt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof St){var o=e;for(i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}}else if(e instanceof ft)for(var a=new le(e);a.hasNext();){var u=a.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?S.EXTERIOR:e instanceof _t?this.locateInternal(t,e):e instanceof Lt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?S.BOUNDARY:this.numBoundaries>0||this.isIn?S.INTERIOR:S.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return he}}),e(fe.prototype,{interfaces_:function(){return[]},getClass:function(){return fe}}),fe.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],s=arguments[1],a=s.x-o.x,u=s.y-o.y;if(0===a&&0===u)throw new i("Cannot compute the octant for two identical points "+o);return fe.octant(a,u)}},e(de.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return de}}),e(pe.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:fe.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return qt.toLineString(new At(this.pts))},interfaces_:function(){return[de]},getClass:function(){return pe}}),e(ge.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return ge}}),e(me.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[ge,u]},getClass:function(){return me}}),e(ye.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return ye}}),e(ve.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return ve}}),e(_e.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){},interfaces_:function(){return[]},getClass:function(){return _e}}),e(be.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[ge,u]},getClass:function(){return be}}),be.serialVersionUID=0x5a1e55ec41369800;var Ho={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return Ho.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ut.sort(n,e):ut.sort(n);for(var i=t.iterator(),r=0,o=n.length;o>r;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new x;return e.add(t),e}};e(xe.prototype,{expandToQueue:function(t,e){var n=xe.isComposite(this.boundable1),r=xe.isComposite(this.boundable2);if(n&&r)return xe.area(this.boundable1)>xe.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new i("neither boundable is composite")},isLeaves:function(){return!(xe.isComposite(this.boundable1)||xe.isComposite(this.boundable2))},compareTo:function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=new xe(r.next(),e,this.itemDistance);o.getDistance()<i&&n.add(o)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return xe}}),xe.area=function(t){return t.getBounds().getArea()},xe.isComposite=function(t){return t instanceof be},e(we.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof be?t+=this.size(n):n instanceof me&&(t+=1)}return t}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof me&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new x:t}if(1===arguments.length){for(var e=arguments[0],n=new x,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof be){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof me?n.add(r.getItem()):f.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new me(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new x;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(f.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof be?this.boundablesAtLevel(n,s,r):(f.isTrue(s instanceof me),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new x;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(I(arguments[2],ve)&&arguments[0]instanceof Object&&arguments[1]instanceof be)for(var r=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof be?this.query(r,u,o):u instanceof me?o.visitItem(u.getItem()):f.shouldNeverReachHere())}else if(I(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof be){var c=arguments[0],l=arguments[2];for(s=arguments[1].getChildBoundables(),a=0;a<s.size();a++)u=s.get(a),this.getIntersectsOp().intersects(u.getBounds(),c)&&(u instanceof be?this.query(c,u,l):u instanceof me?l.add(u.getItem()):f.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof be&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof be){var i=this.depth(n);i>t&&(t=i)}}return t+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=new x;n.add(this.createNode(e));var i=new x(t);Ho.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[u]},getClass:function(){return we}}),we.compareDoubles=function(t,e){return t>e?1:e>t?-1:0},we.IntersectsOp=function(){},we.serialVersionUID=-0x35ef64c82d4c5400,we.DEFAULT_NODE_CAPACITY=10,e(Le.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Le}}),l(Ee,we),e(Ee.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(t.length>0);for(var n=new x,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new Ce(t)},size:function(){return 0===arguments.length?we.prototype.size.call(this):we.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return we.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void we.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Ee.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;e>o;o++){i[o]=new x;for(var s=0;r.hasNext()&&n>s;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length)return we.prototype.query.call(this,arguments[0]);2===arguments.length?we.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(I(arguments[2],ve)&&arguments[0]instanceof Object&&arguments[1]instanceof be?we.prototype.query.call(this,arguments[0],arguments[1],arguments[2]):I(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof be&&we.prototype.query.call(this,arguments[0],arguments[1],arguments[2]))},getComparator:function(){return Ee.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return we.prototype.createParentBoundables.call(this,t,e)},remove:function(){return 2===arguments.length?we.prototype.remove.call(this,arguments[0],arguments[1]):we.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?we.prototype.depth.call(this):we.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new x(t);Ho.sort(i,Ee.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(I(arguments[0],Le)){var t=arguments[0],e=new xe(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof xe)return this.nearestNeighbour(arguments[0],r.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof Ee&&I(arguments[1],Le)){var n=arguments[0],i=arguments[1];return e=new xe(this.getRoot(),n.getRoot(),i),this.nearestNeighbour(e)}if(arguments[0]instanceof xe&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=null,u=new ye;for(u.add(o);!u.isEmpty()&&s>0;){var c=u.poll(),l=c.getDistance();if(l>=s)break;c.isLeaves()?(s=l,a=c):c.expandToQueue(u,s)}return[a.getBoundable(0).getItem(),a.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[2],f=new me(arguments[0],arguments[1]);return e=new xe(this.getRoot(),f,h),this.nearestNeighbour(e)[0]}},interfaces_:function(){return[_e,u]},getClass:function(){return Ee}}),Ee.centreX=function(t){return Ee.avg(t.getMinX(),t.getMaxX())},Ee.avg=function(t,e){return(t+e)/2},Ee.centreY=function(t){return Ee.avg(t.getMinY(),t.getMaxY())},l(Ce,be),e(Ce.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new L(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ce}}),Ee.STRtreeNode=Ce,Ee.serialVersionUID=0x39920f7d5f261e0,Ee.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return we.compareDoubles(Ee.centreX(t.getBounds()),Ee.centreX(e.getBounds()))}},Ee.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return we.compareDoubles(Ee.centreY(t.getBounds()),Ee.centreY(e.getBounds()))}},Ee.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Ee.DEFAULT_NODE_CAPACITY=10,e(Se.prototype,{interfaces_:function(){return[]},getClass:function(){return Se}}),Se.relativeSign=function(t,e){return e>t?-1:t>e?1:0},Se.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Se.relativeSign(e.x,n.x),r=Se.relativeSign(e.y,n.y);switch(t){case 0:return Se.compareValue(i,r);case 1:return Se.compareValue(r,i);case 2:return Se.compareValue(r,-i);case 3:return Se.compareValue(-i,r);case 4:return Se.compareValue(-i,-r);case 5:return Se.compareValue(-r,-i);case 6:return Se.compareValue(-r,i);case 7:return Se.compareValue(i,-r)}return f.shouldNeverReachHere("invalid octant value"),0},Se.compareValue=function(t,e){return 0>t?-1:t>0?1:0>e?-1:e>0?1:0},e(Ie.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Se.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return Ie}}),e(Ne.prototype,{getSplitCoordinates:function(){var t=new w;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new T(e+1))}},addEdgeCoordinates:function(t,e,n){var i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new d(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));r&&n.add(new d(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new T(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new d(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return r&&(o[s]=new d(e.coord)),new Me(o,this.edge.getData())},add:function(t,e){var n=new Ie(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(f.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new c("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new c("bad split edge end point at "+r)},interfaces_:function(){return[]},getClass:function(){return Ne}}),e(Pe.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nextNode=this.nodeIt.hasNext()?this.nodeIt.next():null},interfaces_:function(){return[g]},getClass:function(){return Pe}}),e(Te.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[de]},getClass:function(){return Te}}),e(Me.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:fe.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new d(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},toString:function(){return qt.toLineString(new At(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;return i<this.pts.length&&t.equals2D(this.pts[i])&&(n=i),this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[Te]},getClass:function(){return Me}}),Me.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new x;return Me.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(n)},e(Ae.prototype,{overlap:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this.overlapSeg1),t.getLineSegment(e,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Ae}}),e(Oe.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){if(i.tempEnv1.init(this.pts[e],this.pts[n]),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var r=Math.trunc((e+n)/2);r>e&&this.computeSelect(t,e,r,i),n>r&&this.computeSelect(t,r,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){return null===this.env&&(this.env=new L(this.pts[this.start],this.pts[this.end])),this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this.pts[t],a=this.pts[e],u=n.pts[i],c=n.pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var l=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);l>t&&(h>i&&this.computeOverlapsInternal(t,l,n,i,h,o),r>h&&this.computeOverlapsInternal(t,l,n,h,r,o)),e>l&&(h>i&&this.computeOverlapsInternal(l,e,n,i,h,o),r>h&&this.computeOverlapsInternal(l,e,n,h,r,o))},interfaces_:function(){return[]},getClass:function(){return Oe}}),e(Re.prototype,{interfaces_:function(){return[]},getClass:function(){return Re}}),Re.isNorthern=function(t){return t===Re.NE||t===Re.NW},Re.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Re.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=e>t?t:e;return 0===n&&3===(t>e?t:e)?3:n},Re.isInHalfPlane=function(t,e){return e===Re.SE?t===Re.SE||t===Re.SW:t===e||t===e+1},Re.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Re.NE:Re.SE:e>=0?Re.NW:Re.SW}if(arguments[0]instanceof d&&arguments[1]instanceof d){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new i("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Re.NE:Re.SE:r.y>=n.y?Re.NW:Re.SW}},Re.NE=0,Re.NW=1,Re.SW=2,Re.SE=3,e(De.prototype,{interfaces_:function(){return[]},getClass:function(){return De}}),De.getChainStartIndices=function(t){var e=0,n=new x;n.add(new T(e));do{var i=De.findChainEnd(t,e);n.add(new T(i)),e=i}while(e<t.length-1);return De.toIntArray(n)},De.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Re.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||Re.quadrant(t[r-1],t[r])===i);)r++;return r-1},De.getChains=function(){if(1===arguments.length)return De.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new x,i=De.getChainStartIndices(t),r=0;r<i.length-1;r++){var o=new Oe(t,i[r],i[r+1],e);n.add(o)}return n}},De.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(ke.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return ke}}),e(Fe.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[ke]},getClass:function(){return Fe}}),l(ze,Fe),e(ze.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Me.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=De.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this.idCounter++),this.index.insert(n.getEnvelope(),n),this.monoChains.add(n)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new Be(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return ze}}),l(Be,Ae),e(Be.prototype,{overlap:function(){if(4!==arguments.length)return Ae.prototype.overlap.apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],i=arguments[0].getContext(),r=e.getContext();this.si.processIntersections(i,t,r,n)},interfaces_:function(){return[]},getClass:function(){return Be}}),ze.SegmentOverlapAction=Be,l(Ue,c),e(Ue.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Ue}}),Ue.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Ge.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Ge}}),e(qe.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=r,this.intSegments[1]=o,this.intSegments[2]=s,this.intSegments[3]=a,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[Ge]},getClass:function(){return qe}}),qe.createAllIntersectionsFinder=function(t){var e=new qe(t);return e.setFindAllIntersections(!0),e},qe.createAnyIntersectionFinder=function(t){return new qe(t)},qe.createIntersectionCounter=function(t){var e=new qe(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(je.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new qe(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new ze;return t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new Ue(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+qt.toLineString(t[0],t[1])+" and "+qt.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return je}}),je.computeIntersections=function(t){var e=new je(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(Ve.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Ve}}),Ve.toSegmentStrings=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new pe(i.getCoordinates(),i))}return e},Ve.checkValid=function(t){new Ve(t).checkValid()},e(He.prototype,{map:function(t){for(var e=new x,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Ut.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return He}}),He.map=function(t,e){return new He(e).map(t)},e(Ye.prototype,{interfaces_:function(){return[]},getClass:function(){return Ye}}),Ye.opposite=function(t){return t===Ye.LEFT?Ye.RIGHT:t===Ye.RIGHT?Ye.LEFT:t},Ye.ON=0,Ye.LEFT=1,Ye.RIGHT=2,e(Xe.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==S.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===S.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Ye.ON]=this.location[Ye.ON],e[Ye.LEFT]=S.NONE,e[Ye.RIGHT]=S.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===S.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[Ye.LEFT];this.location[Ye.LEFT]=this.location[Ye.RIGHT],this.location[Ye.RIGHT]=t},toString:function(){var t=new P;return this.location.length>1&&t.append(S.toLocationSymbol(this.location[Ye.LEFT])),t.append(S.toLocationSymbol(this.location[Ye.ON])),this.location.length>1&&t.append(S.toLocationSymbol(this.location[Ye.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[Ye.ON]=t,this.location[Ye.LEFT]=e,this.location[Ye.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:S.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===S.NONE)return!0;return!1},setLocation:function(){1===arguments.length?this.setLocation(Ye.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(S.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Xe}}),e(We.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;2>e;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Xe(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){return 1===arguments.length?this.elt[arguments[0]].get(Ye.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},toString:function(){var t=new P;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){2===arguments.length?this.elt[arguments[0]].setLocation(Ye.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new Xe(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return We}}),We.toLineLabel=function(t){for(var e=new We(S.NONE),n=0;2>n;n++)e.setLocation(n,t.getLocation(n));return e},e(Ze.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=Xt.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new Ue("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Ue("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();f.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this.maxNodeDegree&&(this.maxNodeDegree=e),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this.pts.add(i[o])}else for(r=i.length-2,n&&(r=i.length-1),o=r;o>=0;o--)this.pts.add(i[o])},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Xt.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Ye.RIGHT);if(n===S.NONE)return null;if(this.label.getLocation(e)===S.NONE)return this.label.setLocation(e,n),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return Ze}}),l(Ke,Ze),e(Ke.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return Ke}}),l(Je,Ze),e(Je.prototype,{buildMinimalRings:function(){var t=new x,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new Ke(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return Je}}),e(Qe.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Qe}}),l($e,Qe),e($e.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=S.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==S.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return Qe.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new We(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof $e)this.mergeLabel(arguments[0].label);else if(arguments[0]instanceof We)for(var t=arguments[0],e=0;2>e;e++){var n=this.computeMergedLocation(t,e);this.label.getLocation(e)===S.NONE&&this.label.setLocation(e,n)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=S.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case S.BOUNDARY:n=S.INTERIOR;break;case S.INTERIOR:n=S.BOUNDARY;break;default:n=S.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return $e}}),e(tn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof d){var t=arguments[0];return null===(e=this.nodeMap.get(t))&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof $e){var e,n=arguments[0];return null===(e=this.nodeMap.get(n.getCoordinate()))?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new x,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===S.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return tn}}),e(en.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Xt.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){return this.compareDirection(t)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Re.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return en}}),l(nn,en),e(nn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new We(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new Ue("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;2>e;e++)this.label.isArea(e)&&this.label.getLocation(e,Ye.LEFT)===S.INTERIOR&&this.label.getLocation(e,Ye.RIGHT)===S.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){en.prototype.print.call(this,t),t.print(" "+this.depth[Ye.LEFT]+"/"+this.depth[Ye.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,S.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,S.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Ye.LEFT&&(i=-1);var r=Ye.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return nn}}),nn.depthFactor=function(t,e){return t===S.EXTERIOR&&e===S.INTERIOR?1:t===S.INTERIOR&&e===S.EXTERIOR?-1:0},e(rn.prototype,{createNode:function(t){return new $e(t,null)},interfaces_:function(){return[]},getClass:function(){return rn}}),e(on.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){return arguments[0]instanceof $e?this.nodes.addNode(arguments[0]):arguments[0]instanceof d?this.nodes.addNode(arguments[0]):void 0},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){D.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===S.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&Xt.computeOrientation(t,e,i)===Xt.COLLINEAR&&Re.quadrant(t,e)===Re.quadrant(n,i)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){D.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new nn(n,!0),r=new nn(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return on}}),on.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},e(sn.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this.geometryFactory);e.add(i)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new Ue("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new x,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Je(i,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),c=u.getLinearRing(),l=c.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;l.contains(i)&&Xt.isPointInRing(r,c.getCoordinates())&&(h=!0),h&&(null===o||s.contains(l))&&(o=u)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return f.isTrue(1>=e,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];on.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),i=new x,r=this.buildMinimalEdgeRings(n,this.shellList,i);this.sortShellsAndHoles(r,this.shellList,i),this.placeFreeHoles(this.shellList,i)}},interfaces_:function(){return[]},getClass:function(){return sn}}),e(an.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Bn.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this.op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Bn.isResultOfOp(i,e)&&e===Bn.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return an}}),e(un.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Bn.INTERSECTION)){var i=n.getLabel();Bn.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return un}}),e(cn.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return cn}}),e(ln.prototype,{locate:function(t){return ln.locate(t,this.geom)},interfaces_:function(){return[cn]},getClass:function(){return ln}}),ln.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Xt.isPointInRing(t,e.getCoordinates())},ln.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!ln.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(ln.isPointInRing(t,r))return!1}return!0},ln.containsPoint=function(t,e){if(e instanceof Lt)return ln.containsPointInPolygon(t,e);if(e instanceof ft)for(var n=new le(e);n.hasNext();){var i=n.next();if(i!==e&&ln.containsPoint(t,i))return!0}return!1},ln.locate=function(t,e){return e.isEmpty()?S.EXTERIOR:ln.containsPoint(t,e)?S.INTERIOR:S.EXTERIOR},e(hn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=S.NONE,n=this.iterator();n.hasNext();)(o=(r=n.next()).getLabel()).isArea(t)&&o.getLocation(t,Ye.LEFT)!==S.NONE&&(e=o.getLocation(t,Ye.LEFT));if(e===S.NONE)return null;var i=e;for(n=this.iterator();n.hasNext();){var r,o;if((o=(r=n.next()).getLabel()).getLocation(t,Ye.ON)===S.NONE&&o.setLocation(t,Ye.ON,i),o.isArea(t)){var s=o.getLocation(t,Ye.LEFT),a=o.getLocation(t,Ye.RIGHT);if(a!==S.NONE){if(a!==i)throw new Ue("side location conflict",r.getCoordinate());s===S.NONE&&f.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),i=s}else f.isTrue(o.getLocation(t,Ye.LEFT)===S.NONE,"found single null side"),o.setLocation(t,Ye.RIGHT,i),o.setLocation(t,Ye.LEFT,i)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){D.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Ye.LEFT);f.isTrue(i!==S.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();f.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Ye.LEFT),u=s.getLocation(t,Ye.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++)if(this.edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===S.NONE&&(this.ptInAreaLocation[t]=ln.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new P;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=(o=n.next()).getLabel(),r=0;2>r;r++)i.isLine(r)&&i.getLocation(r)===S.BOUNDARY&&(e[r]=!0);for(n=this.iterator();n.hasNext();){var o;for(i=(o=n.next()).getLabel(),r=0;2>r;r++)if(i.isAnyNull(r)){var s=S.NONE;if(e[r])s=S.EXTERIOR;else{var a=o.getCoordinate();s=this.getLocation(r,a,t)}i.setAllLocationsIfNull(r,s)}}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return hn}}),l(fn,hn),e(fn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new Ue("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){this.insertEdgeEnd(t,t)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(1>e)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Re.isNorthern(r)&&Re.isNorthern(o)?n:Re.isNorthern(r)||Re.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){D.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(Ye.LEFT)),i=t.getDepth(Ye.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new Ue("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];o>a;a++){var u=this.edgeList.get(a);u.getLabel(),u.setEdgeDepths(Ye.RIGHT,s),s=u.getDepth(Ye.LEFT)}return s}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var o=this.resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){var n=arguments[0];for(t=0,e=this.iterator();e.hasNext();)e.next().getEdgeRing()===n&&t++;return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=S.NONE,e=this.iterator();e.hasNext();){var n=(r=e.next()).getSym();if(!r.isLineEdge()){if(r.isInResult()){t=S.INTERIOR;break}if(n.isInResult()){t=S.EXTERIOR;break}}}if(t===S.NONE)return null;var i=t;for(e=this.iterator();e.hasNext();){var r;n=(r=e.next()).getSym(),r.isLineEdge()?r.getEdge().setCovered(i===S.INTERIOR):(r.isInResult()&&(i=S.EXTERIOR),n.isInResult()&&(i=S.INTERIOR))}},computeLabelling:function(t){hn.prototype.computeLabelling.call(this,t),this.label=new We(S.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0;2>i;i++){var r=n.getLocation(i);r!==S.INTERIOR&&r!==S.BOUNDARY||this.label.setLocation(i,S.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return fn}}),l(dn,rn),e(dn.prototype,{createNode:function(t){return new $e(t,new fn)},interfaces_:function(){return[]},getClass:function(){return dn}}),e(pn.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return pn}}),e(gn.prototype,{isDelete:function(){return this.eventType===gn.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){return this.xValue<t.xValue?-1:this.xValue>t.xValue?1:this.eventType<t.eventType?-1:this.eventType>t.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===gn.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return gn}}),gn.INSERT=1,gn.DELETE=2,e(mn.prototype,{interfaces_:function(){return[]},getClass:function(){return mn}}),e(yn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(yn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return yn}}),yn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},l(vn,mn),e(vn.prototype,{prepareEvents:function(){Ho.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof yn&&I(arguments[0],v)&&I(arguments[1],v)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&I(arguments[0],v)&&arguments[1]instanceof yn){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new pn(n,r),s=new gn(e,n.getMinX(r),o);this.events.add(s),this.events.add(new gn(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;e>o;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length){var n=arguments[1];for(t=arguments[0].iterator();t.hasNext();)e=t.next(),this.addEdge(e,n)}},interfaces_:function(){return[]},getClass:function(){return vn}}),e(_n.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return qt.toLineString(new d(this.min,0),new d(this.max,0))},interfaces_:function(){return[]},getClass:function(){return _n}}),e(bn.prototype,{compare:function(t,e){var n=(t.min+t.max)/2,i=(e.min+e.max)/2;return i>n?-1:n>i?1:0},interfaces_:function(){return[a]},getClass:function(){return bn}}),_n.NodeComparator=bn,l(xn,_n),e(xn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return xn}}),l(wn,_n),e(wn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return wn}}),e(Ln.prototype,{buildTree:function(){Ho.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new x;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new xn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){D.out.println(qt.toLineString(new d(t.min,this.level),new d(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new wn(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return Ln}}),e(En.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Ct){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof _t&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[z]},getClass:function(){return En}}),En.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(En.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(En.getLines(e,n))}},En.getLines=function(){if(1===arguments.length)return En.getLines(arguments[0],!1);if(2===arguments.length){if(I(arguments[0],m)&&I(arguments[1],m)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();En.getLines(n,t)}return t}if(arguments[0]instanceof B&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=new x;return i.apply(new En(o,r)),o}if(arguments[0]instanceof B&&I(arguments[1],m)){var s=arguments[0],a=arguments[1];return s instanceof _t?a.add(s):s.apply(new En(a)),a}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&I(arguments[0],m)&&I(arguments[1],m)){var u=arguments[1],c=arguments[2];for(e=arguments[0].iterator();e.hasNext();)n=e.next(),En.getLines(n,u,c);return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof B&&I(arguments[1],m)){var l=arguments[1];return arguments[0].apply(new En(l,arguments[2])),l}}},e(Cn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[ve]},getClass:function(){return Cn}}),e(Sn.prototype,{locate:function(t){var e=new Yt(t),n=new In(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[cn]},getClass:function(){return Sn}}),e(In.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[ve]},getClass:function(){return In}}),e(Nn.prototype,{init:function(t){for(var e=En.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new Wt(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Cn;return this.index.query(t,e,n),n.getItems()}3===arguments.length&&this.index.query(arguments[0],arguments[1],arguments[2])},interfaces_:function(){return[]},getClass:function(){return Nn}}),Sn.SegmentVisitor=In,Sn.IntervalIndexedGeometry=Nn,e(Pn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){return this.compare(t.segmentIndex,t.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Pn}}),e(Tn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);i||n--;var r=new Array(n).fill(null),o=0;r[o++]=new d(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)r[o++]=this.edge.pts[s];return i&&(r[o]=e.coord),new Rn(r,new We(this.edge.label))},add:function(t,e,n){var i=new Pn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Tn}}),e(Mn.prototype,{getChainStartIndices:function(t){var e=0,n=new x;n.add(new T(e));do{var i=this.findChainEnd(t,e);n.add(new T(i)),e=i}while(e<t.length-1);return Mn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Re.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&Re.quadrant(t[i-1],t[i])===n;)i++;return i-1},interfaces_:function(){return[]},getClass:function(){return Mn}}),Mn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(An.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return n>e?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],c=this.pts[i],l=this.pts[r],h=o.pts[s],f=o.pts[a];if(r-i==1&&a-s==1)return u.addIntersections(this.e,i,o.e,s),null;if(this.env1.init(c,l),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+r)/2),p=Math.trunc((s+a)/2);d>i&&(p>s&&this.computeIntersectsForChain(i,d,o,s,p,u),a>p&&this.computeIntersectsForChain(i,d,o,p,a,u)),r>d&&(p>s&&this.computeIntersectsForChain(d,r,o,s,p,u),a>p&&this.computeIntersectsForChain(d,r,o,p,a,u))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return An}}),e(On.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;2>t;t++)for(var e=0;3>e;e++)if(this.depth[t][e]!==On.NULL_VALUE)return!1;return!0}return 1===arguments.length?this.depth[arguments[0]][1]===On.NULL_VALUE:2===arguments.length?this.depth[arguments[0]][arguments[1]]===On.NULL_VALUE:void 0},normalize:function(){for(var t=0;2>t;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),0>e&&(e=0);for(var n=1;3>n;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][Ye.RIGHT]-this.depth[t][Ye.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?S.EXTERIOR:S.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;2>e;e++)for(var n=1;3>n;n++){var i=t.getLocation(e,n);i!==S.EXTERIOR&&i!==S.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=On.depthAtLocation(i):this.depth[e][n]+=On.depthAtLocation(i))}else 3===arguments.length&&arguments[2]===S.INTERIOR&&this.depth[arguments[0]][arguments[1]]++},interfaces_:function(){return[]},getClass:function(){return On}}),On.depthAtLocation=function(t){return t===S.EXTERIOR?0:t===S.INTERIOR?1:On.NULL_VALUE},On.NULL_VALUE=-1,l(Rn,Qe),e(Rn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Rn(t,We.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Rn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Rn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new An(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new L;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r=new d(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;a<this.pts.length&&r.equals2D(this.pts[a])&&(o=a,s=0),this.eiList.add(r,o,s)},toString:function(){var t=new P;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return Rn}}),Rn.updateIM=function(){if(2!==arguments.length)return Qe.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Ye.ON),t.getLocation(1,Ye.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Ye.LEFT),t.getLocation(1,Ye.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Ye.RIGHT),t.getLocation(1,Ye.RIGHT),2))},l(Dn,on),e(Dn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e).getLabel(),i=1;n.getLocation(t,Ye.ON)===S.BOUNDARY&&i++;var r=Dn.determineBoundary(this.boundaryNodeRule,i);n.setLocation(t,r)},computeSelfNodes:function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new yn(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this.edges,n,t||!(this.parentGeom instanceof Ct||this.parentGeom instanceof Lt||this.parentGeom instanceof St)),this.addSelfIntersectionNodes(this.argIndex),n}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,n){var i=new yn(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof xt){var t=arguments[0].getCoordinate();this.insertPoint(this.argIndex,t,S.INTERIOR)}else arguments[0]instanceof d&&this.insertPoint(this.argIndex,arguments[0],S.INTERIOR)},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),S.EXTERIOR,S.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,S.INTERIOR,S.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],S.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],S.BOUNDARY)},addLineString:function(t){var e=Y.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Rn(e,new We(this.argIndex,S.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),f.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===S.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=Y.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,o=n;Xt.isCCW(i)&&(r=n,o=e);var s=new Rn(i,new We(this.argIndex,S.BOUNDARY,r,o));this.lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this.argIndex,i[0],S.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new We(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new vn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return on.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof St&&(this.useBoundaryDeterminationRule=!1),t instanceof Lt)this.addPolygon(t);else if(t instanceof _t)this.addLineString(t);else if(t instanceof xt)this.addPoint(t);else if(t instanceof Et)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof St)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return I(this.parentGeom,wt)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Sn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){return 1===arguments.length?this.lineEdgeMap.get(arguments[0]):on.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Dn}}),Dn.determineBoundary=function(t,e){return t.isInBoundary(e)?S.BOUNDARY:S.INTERIOR},e(kn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return kn}}),e(Fn.prototype,{compareTo:function(t){return Fn.compareOriented(this.pts,this._orientation,t.pts,t._orientation)},interfaces_:function(){return[o]},getClass:function(){return Fn}}),Fn.orientation=function(t){return 1===Y.increasingDirection(t)},Fn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,c=i?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var h=(u+=r)===s,f=(c+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},e(zn.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new Fn(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new Fn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return zn}}),l(Bn,kn),e(Bn.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new We(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new x;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?Bn.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this.ptLocator.locate(t,i)!==S.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new x,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new x;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ve.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new sn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new an(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new un(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&Bn.isResultOfOp(i.getLocation(0,Ye.RIGHT),i.getLocation(1,Ye.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;2>r;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(f.isTrue(!i.isNull(r,Ye.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,Ye.LEFT,i.getLocation(r,Ye.LEFT)),f.isTrue(!i.isNull(r,Ye.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,Ye.RIGHT,i.getLocation(r,Ye.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Bn}}),Bn.overlayOp=function(t,e,n){return new Bn(t,e).getResultGeometry(n)},Bn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Bn.createEmptyResult(Bn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return He.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Gn.overlayOp(t,e,Bn.INTERSECTION)},Bn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Bn.createEmptyResult(Bn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Gn.overlayOp(t,e,Bn.SYMDIFFERENCE)},Bn.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Bn.INTERSECTION:o=Math.min(i,r);break;case Bn.UNION:o=Math.max(i,r);break;case Bn.DIFFERENCE:o=i;break;case Bn.SYMDIFFERENCE:o=Math.max(i,r)}return o},Bn.createEmptyResult=function(t,e,n,i){var r=null;switch(Bn.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Bn.difference=function(t,e){return t.isEmpty()?Bn.createEmptyResult(Bn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Gn.overlayOp(t,e,Bn.DIFFERENCE))},Bn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Bn.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1];switch(r===S.BOUNDARY&&(r=S.INTERIOR),o===S.BOUNDARY&&(o=S.INTERIOR),arguments[2]){case Bn.INTERSECTION:return r===S.INTERIOR&&o===S.INTERIOR;case Bn.UNION:return r===S.INTERIOR||o===S.INTERIOR;case Bn.DIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR;case Bn.SYMDIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR||r!==S.INTERIOR&&o===S.INTERIOR}return!1}},Bn.INTERSECTION=1,Bn.UNION=2,Bn.DIFFERENCE=3,Bn.SYMDIFFERENCE=4,e(Un.prototype,{selfSnap:function(t){return new re(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new ae,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=Bn.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||D.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=re.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return re.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Un}}),Un.overlayOp=function(t,e,n){return new Un(t,e).getResultGeometry(n)},Un.union=function(t,e){return Un.overlayOp(t,e,Bn.UNION)},Un.intersection=function(t,e){return Un.overlayOp(t,e,Bn.INTERSECTION)},Un.symDifference=function(t,e){return Un.overlayOp(t,e,Bn.SYMDIFFERENCE)},Un.difference=function(t,e){return Un.overlayOp(t,e,Bn.DIFFERENCE)},e(Gn.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=Bn.overlayOp(this.geom[0],this.geom[1],t),n=!0}catch(t){if(!(t instanceof c))throw t;i=t}if(!n)try{e=Un.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof c?i:t}return e},interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.overlayOp=function(t,e,n){return new Gn(t,e).getResultGeometry(n)},Gn.union=function(t,e){return Gn.overlayOp(t,e,Bn.UNION)},Gn.intersection=function(t,e){return Gn.overlayOp(t,e,Bn.INTERSECTION)},Gn.symDifference=function(t,e){return Gn.overlayOp(t,e,Bn.SYMDIFFERENCE)},Gn.difference=function(t,e){return Gn.overlayOp(t,e,Bn.DIFFERENCE)},e(qn.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var r=Gn.overlayOp(i,t,Bn.INTERSECTION),o=this.widestGeometry(r);n=o.getEnvelopeInternal().getWidth(),e=qn.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ft){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof B){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=jn.getBisectorY(t);return this.factory.createLineString([new d(e.getMinX(),n),new d(e.getMaxX(),n)])},add:function(t){if(t instanceof Lt)this.addPolygon(t);else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return qn}}),qn.centre=function(t){return new d(qn.avg(t.getMinX(),t.getMaxX()),qn.avg(t.getMinY(),t.getMaxY()))},qn.avg=function(t,e){return(t+e)/2},e(jn.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return qn.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return jn}}),jn.getBisectorY=function(t){return new jn(t).getBisectorY()},qn.SafeBisectorFinder=jn,e(Vn.prototype,{addEndpoints:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof _t)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof _t)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];for(n=1;n<i.length-1;n++)this.add(i[n])}},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new d(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return Vn}}),e(Hn.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof xt)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof d){var i=arguments[0],r=i.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new d(i),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return Hn}}),e(Yn.prototype,{interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.toDegrees=function(t){return 180*t/Math.PI},Yn.normalize=function(t){for(;t>Math.PI;)t-=Yn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Yn.PI_TIMES_2;return t},Yn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},Yn.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},Yn.isObtuse=function(t,e,n){return 0>(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)},Yn.interiorAngle=function(t,e,n){var i=Yn.angle(e,t),r=Yn.angle(e,n);return Math.abs(r-i)},Yn.normalizePositive=function(t){if(0>t){for(;0>t;)t+=Yn.PI_TIMES_2;t>=Yn.PI_TIMES_2&&(t=0)}else{for(;t>=Yn.PI_TIMES_2;)t-=Yn.PI_TIMES_2;0>t&&(t=0)}return t},Yn.angleBetween=function(t,e,n){var i=Yn.angle(e,t),r=Yn.angle(e,n);return Yn.diff(i,r)},Yn.diff=function(t,e){var n=null;return(n=e>t?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Yn.toRadians=function(t){return t*Math.PI/180},Yn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Yn.COUNTERCLOCKWISE:0>n?Yn.CLOCKWISE:Yn.NONE},Yn.angleBetweenOriented=function(t,e,n){var i=Yn.angle(e,t),r=Yn.angle(e,n)-i;return r<=-Math.PI?r+Yn.PI_TIMES_2:r>Math.PI?r-Yn.PI_TIMES_2:r},Yn.PI_TIMES_2=2*Math.PI,Yn.PI_OVER_2=Math.PI/2,Yn.PI_OVER_4=Math.PI/4,Yn.COUNTERCLOCKWISE=Xt.COUNTERCLOCKWISE,Yn.CLOCKWISE=Xt.CLOCKWISE,Yn.NONE=Xt.COLLINEAR,e(Xn.prototype,{area:function(){return Xn.area(this.p0,this.p1,this.p2)},signedArea:function(){return Xn.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new i("Supplied point is null.");return Xn.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return Xn.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Xn.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Xn.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Xn.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Xn.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Xn.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Xn}}),Xn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Xn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Xn.det=function(t,e,n,i){return t*i-e*n},Xn.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,c=i.y-o,l=s*c-a*u,h=t.x-r,f=t.y-o;return e.z+(c*h-a*f)/l*(n.z-e.z)+(-u*h+s*f)/l*(i.z-e.z)},Xn.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},Xn.isAcute=function(t,e,n){return!(!Yn.isAcute(t,e,n)||!Yn.isAcute(e,n,t)||!Yn.isAcute(n,t,e))},Xn.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,c=2*Xn.det(o,s,a,u);return new d(i-Xn.det(s,o*o+s*s,u,a*a+u*u)/c,r+Xn.det(o,o*o+s*s,a,a*a+u*u)/c)},Xn.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y;return new k(new k(t.x+n/2,t.y+i/2,1),new k(t.x-i+n/2,t.y+n+i/2,1))},Xn.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n));return new d(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))},Xn.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,c=r*u-o*a,l=o*s-i*u,h=i*a-r*s;return Math.sqrt(c*c+l*l+h*h)/2},Xn.centroid=function(t,e,n){return new d((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},Xn.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o;return new d((i*t.x+r*e.x+o*n.x)/s,(i*t.y+r*e.y+o*n.y)/s)},e(Wn.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new d(t[0])],null}var e=this.input.convexHull().getCoordinates();if(t=e,e[0].equals2D(e[e.length-1])&&(t=new Array(e.length-1).fill(null),Y.copyDeep(e,0,t,0,e.length-1)),t.length<=2)return this.extremalPts=Y.copyDeep(t),null;for(var n=Wn.lowestPoint(t),i=Wn.pointWitMinAngleWithX(t,n),r=0;r<t.length;r++){var o=Wn.pointWithMinAngleWithSegment(t,n,i);if(Yn.isObtuse(n,o,i))return this.extremalPts=[new d(n),new d(i)],null;if(Yn.isObtuse(o,n,i))n=o;else{if(!Yn.isObtuse(o,i,n))return this.extremalPts=[new d(n),new d(i),new d(o)],null;i=o}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new d((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=Xn.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Wn}}),Wn.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var s=t[o];if(s!==e){var a=s.x-e.x,u=s.y-e.y;0>u&&(u=-u);var c=u/Math.sqrt(a*a+u*u);n>c&&(n=c,i=s)}}return i},Wn.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},Wn.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,s=0;s<t.length;s++){var a=t[s];if(a!==e&&a!==n){var u=Yn.angleBetween(e,a,n);i>u&&(i=u,o=a)}}return o},e(Zn.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof Lt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new Wt,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new te(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,o=n,s=o;r>=i;)i=r,s=Zn.nextIndex(t,o=s),r=e.distancePerpendicular(t[s]);return i<this.minWidth&&(this.minPtIndex=o,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new Wt(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,s=-r.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var u=Zn.computeC(t,e,this.convexHullPts[a]);u>i&&(i=u),n>u&&(n=u);var c=Zn.computeC(-e,t,this.convexHullPts[a]);c>s&&(s=c),o>c&&(o=c)}var l=Zn.computeSegmentForLine(-t,-e,s),h=Zn.computeSegmentForLine(-t,-e,o),f=Zn.computeSegmentForLine(-e,t,i),d=Zn.computeSegmentForLine(-e,t,n),p=f.lineIntersection(l),g=d.lineIntersection(l),m=d.lineIntersection(h),y=f.lineIntersection(h),v=this.inputGeom.getFactory().createLinearRing([p,g,m,y,p]);return this.inputGeom.getFactory().createPolygon(v,null)},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},Zn.computeC=function(t,e,n){return t*n.y-e*n.x},Zn.getMinimumDiameter=function(t){return new Zn(t).getDiameter()},Zn.getMinimumRectangle=function(t){return new Zn(t).getMinimumRectangle()},Zn.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new d(0,n/e),r=new d(1,n/e-t/e)):(i=new d(n/t,0),r=new d(n/t-e/t,1)),new Wt(i,r)};var Yo=Object.freeze({Centroid:Kt,CGAlgorithms:Xt,ConvexHull:te,InteriorPointArea:qn,InteriorPointLine:Vn,InteriorPointPoint:Hn,RobustLineIntersector:Vt,MinimumBoundingCircle:Wn,MinimumDiameter:Zn});e(Kn.prototype,{getResultGeometry:function(){return new Jn(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>=t)throw new i("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Kn}}),Kn.densifyPoints=function(t,e,n){for(var i=new Wt,r=new w,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var u=s/a,c=1;a>c;c++){var l=i.pointAlong(c*u/s);n.makePrecise(l),r.add(l,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},Kn.densify=function(t,e){var n=new Kn(t);return n.setDistanceTolerance(e),n.getResultGeometry()},l(Jn,ne),e(Jn.prototype,{transformMultiPolygon:function(t,e){var n=ne.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=ne.prototype.transformPolygon.call(this,t,e);return e instanceof St?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=Kn.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof _t&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Jn}}),Kn.DensifyTransformer=Jn;var Xo=Object.freeze({Densifier:Kn});e(Qn.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[1];return this._orig.equals2D(arguments[0])&&this._sym._orig.equals(t)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=Re.quadrant(e,n),s=Re.quadrant(i,r);return o>s?1:s>o?-1:Xt.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){return this.compareAngularDirection(t)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},Qn.create=function(t,e){var n=new Qn(t),i=new Qn(e);return n.init(i),n},l($n,Qn),e($n.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return $n}}),$n.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},$n.isMarked=function(t){return t.isMarked()},$n.setMark=function(t,e){t.setMark(e)},$n.markBoth=function(t){t.mark(),t.sym().mark()},$n.mark=function(t){t.mark()},e(ti.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return Qn.init(n,i),n},createEdge:function(t){return new Qn(t)},addEdge:function(t,e){if(!ti.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return ti}}),ti.isValidEdge=function(t,e){return 0!==e.compareTo(t)},l(ei,$n),e(ei.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return ei}}),l(ni,ti),e(ni.prototype,{createEdge:function(t){return new ei(t)},interfaces_:function(){return[]},getClass:function(){return ni}}),e(ii.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new w,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new w,n=t;for(this.ringStartEdge=null,$n.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),$n.markBoth(n=i)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{$n.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();$n.isMarked(e)||this.process(e)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();$n.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof B)arguments[0].apply({interfaces_:function(){return[z]},filter:function(t){t instanceof _t&&this.add(t)}});else if(I(arguments[0],m))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.add(e)}else if(arguments[0]instanceof _t){var n=arguments[0];null===this.factory&&(this.factory=n.getFactory());var i=n.getCoordinateSequence(),r=!1;for(t=1;t<i.size();t++){var o=this.graph.addEdge(i.getCoordinate(t-1),i.getCoordinate(t));null!==o&&(r||(o.setStart(),r=!0))}}},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.dissolve=function(t){var e=new ii;return e.add(t),e.getResult()};var Wo=Object.freeze({LineDissolver:ii});e(ri.prototype,{hasChildren:function(){for(var t=0;4>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;4>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;4>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||this.items.remove(e)},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;4>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;4>e;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[u]},getClass:function(){return ri}}),ri.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},oi.exponent=function(t){return function(t,e){var n,i,r,o;if(o||(n=0>e||0>1/e,isFinite(e)||(o={d:32752,c:0,b:0,a:0},n&&(o.d+=32768),i=Math.pow(2,11)-1,r=0)),!o){for(i=1023,r=Math.abs(e);r>=2;)i++,r/=2;for(;1>r&&i>0;)i--,r*=2;0>=i&&(r/=2)}return i}(0,t)-1023},oi.powerOf2=function(t){return Math.pow(2,t)},e(si.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=si.computeQuadLevel(t),this.env=new L,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[1],n=oi.powerOf2(arguments[0]);this.pt.x=Math.floor(e.getMinX()/n)*n,this.pt.y=Math.floor(e.getMinY()/n)*n,this.env.init(this.pt.x,this.pt.x+n,this.pt.y,this.pt.y+n)}},getEnvelope:function(){return this.env},getCentre:function(){return new d((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return si}}),si.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight();return oi.exponent(e>n?e:n)+1},l(ai,ri),e(ai.prototype,{find:function(t){var e=ri.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=ri.getSubnodeIndex(t,this.centrex,this.centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}return new ai(new L(e,n,i,r),this.level-1)},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e=ri.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.createNode=function(t){var e=new si(t);return new ai(e.getEnvelope(),e.getLevel())},ai.createExpanded=function(t,e){var n=new L(e);null!==t&&n.expandToInclude(t.env);var i=ai.createNode(n);return null!==t&&i.insertNode(t),i},e(ui.prototype,{interfaces_:function(){return[]},getClass:function(){return ui}}),ui.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e));return oi.exponent(n/i)<=ui.MIN_BINARY_EXPONENT},ui.MIN_BINARY_EXPONENT=-50,l(ci,ri),e(ci.prototype,{insert:function(t,e){var n=ri.getSubnodeIndex(t,ci.origin.x,ci.origin.y);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getEnvelope().contains(t)){var r=ai.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getEnvelope().contains(e));var i=ui.isZeroWidth(e.getMinX(),e.getMaxX()),r=ui.isZeroWidth(e.getMinY(),e.getMaxY());(i||r?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.origin=new d(0,0),e(li.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=li.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Cn;return this.query(t,e),e.getItems()}2===arguments.length&&this.root.visit(arguments[0],arguments[1])},queryAll:function(){var t=new x;return this.root.addAllItems(t),t},remove:function(t,e){var n=li.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[_e,u]},getClass:function(){return li}}),li.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(i=(n-=e/2)+e/2),r===o&&(o=(r-=e/2)+e/2),new L(n,i,r,o))},li.serialVersionUID=-0x678b60c967a25400;var Zo=Object.freeze({Quadtree:li}),Ko=Object.freeze({STRtree:Ee}),Jo=Object.freeze({quadtree:Zo,strtree:Ko}),Qo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(hi.prototype,{read:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!$o[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Qo.indexOf(n)?$o[n].apply(this,[e.coordinates]):$o[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},write:function(t){var e=t.getGeometryType();if(!ts[e])throw new Error("Geometry is not supported");return ts[e].apply(this,[t])}});var $o={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!$o[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=$o.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new d(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new d(t[0],t[1]),new d(t[2],t[1]),new d(t[2],t[3]),new d(t[0],t[3]),new d(t[0],t[1])])},Point:function(t){var e=new d(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push($o.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=$o.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push($o.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=$o.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=$o.coordinates.apply(this,[t[r]]),s=this.geometryFactory.createLinearRing(o);i.push(s)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push($o.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},ts={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ts.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=ts.Point.apply(this,[t.geometries[n]]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i)e.push(ts.coordinate.apply(this,[n[i]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=ts.LineString.apply(this,[t.geometries[n]]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ts.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=ts.LineString.apply(this,[t.holes[i]]);e.push(r.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=ts.Polygon.apply(this,[t.geometries[n]]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(ts[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(fi.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===zt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;n>e;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;n>e;e++)this.reducePrecision(t.geometries[e])}}),e(di.prototype,{write:function(t){return this.parser.write(t)}}),e(pi.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===zt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;n>e;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;r>i;i++)this.reducePrecision(t.geometries[i])}}),e(mi.prototype,{read:function(t){return t instanceof ol.geom.Point?this.convertFromPoint(t):t instanceof ol.geom.LineString?this.convertFromLineString(t):t instanceof ol.geom.LinearRing?this.convertFromLinearRing(t):t instanceof ol.geom.Polygon?this.convertFromPolygon(t):t instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof ol.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new d(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(gi);return new ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(gi);return new ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(gi)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(gi));return new ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new ol.geom.MultiPoint(t.getCoordinates().map(gi))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.write(t.geometries[n]));return new ol.geom.GeometryCollection(e)}});var es=Object.freeze({GeoJSONReader:fi,GeoJSONWriter:di,OL3Parser:mi,WKTReader:pi,WKTWriter:qt});e(yi.prototype,{rescale:function(){if(I(arguments[0],m))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){var n=arguments[0];for(2===n.length&&(new d(n[0]),new d(n[1])),t=0;t<n.length;t++)n[t].x=n[t].x/this.scaleFactor+this.offsetX,n[t].y=n[t].y/this.scaleFactor+this.offsetY;2===n.length&&n[0].equals2D(n[1])&&D.out.println(n)}},scale:function(){if(I(arguments[0],m)){for(var t=arguments[0],e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Me(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){var r=arguments[0],o=new Array(r.length).fill(null);for(n=0;n<r.length;n++)o[n]=new d(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);return Y.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[ke]},getClass:function(){return yi}});var ns=Object.freeze({MCIndexNoder:ze,ScaledNoder:yi,SegmentString:de});e(vi.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n).getCoordinate();if(e.contains(i))return this.nonSimpleLocation=i,!1;e.add(i)}return!0},isSimplePolygonal:function(t){for(var e=En.getLines(t).iterator();e.hasNext();){var n=e.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Dn(0,t),n=new Vt,i=e.computeSelfNodes(n,!0);return!(i.hasIntersection()&&(i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new _i(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof _t?this.isSimpleLinearGeometry(t):t instanceof dt?this.isSimpleLinearGeometry(t):t instanceof Et?this.isSimpleMultiPoint(t):I(t,wt)?this.isSimplePolygonal(t):!(t instanceof ft)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return vi}}),e(_i.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return _i}}),vi.EndpointInfo=_i,e(bi.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=bi.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=bi.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=t&&(this.quadrantSegments=1),this.joinStyle!==bi.JOIN_ROUND&&(this.quadrantSegments=bi.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=0>t?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},bi.CAP_ROUND=1,bi.CAP_FLAT=2,bi.CAP_SQUARE=3,bi.JOIN_ROUND=1,bi.JOIN_MITRE=2,bi.JOIN_BEVEL=3,bi.DEFAULT_QUADRANT_SEGMENTS=8,bi.DEFAULT_MITRE_LIMIT=5,bi.DEFAULT_SIMPLIFY_FACTOR=.01,e(xi.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return 0>n&&(n=this.getRightmostSideOfSegment(t,e-1)),0>n&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=Xt.computeOrientation(this.minCoord,n,e),r=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===Xt.COUNTERCLOCKWISE?r=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===Xt.CLOCKWISE&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge().getCoordinates();if(0>e||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Ye.LEFT;return n[e].y<n[e+1].y&&(i=Ye.RIGHT),i},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode().getEdges();this.minDe=t.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===Ye.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return xi}}),wi.prototype.addLast=function(t){this.array_.push(t)},wi.prototype.removeFirst=function(){return this.array_.shift()},wi.prototype.isEmpty=function(){return 0===this.array_.length},e(Li.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();)if((i=n.next()).isVisited()||i.getSym().isVisited()){e=i;break}if(null===e)throw new Ue("unable to find edge to compute depths at "+t.getCoordinate());for(t.getEdges().computeDepths(e),n=t.getEdges().iterator();n.hasNext();){var i;(i=n.next()).setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Ye.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Ye.RIGHT)>=1&&e.getDepth(Ye.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new Q,n=new wi,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},compareTo:function(t){return this.rightMostCoord.x<t.rightMostCoord.x?-1:this.rightMostCoord.x>t.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new L,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this.env=t}return this.env},addReachable:function(t){var e=new Qt;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(Ye.LEFT,t.getDepth(Ye.RIGHT)),e.setDepth(Ye.RIGHT,t.getDepth(Ye.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return Li}}),e(Ei.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],o=this.inputLine[e],s=this.inputLine[n];return!(!this.isConcave(r,o,s)||!this.isShallow(r,o,s,i))&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Ei.DELETE,r=!0,i=!0),e=this.findNextNonDeletedIndex(t=r?n:e),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return Xt.computeOrientation(t,e,n)===this.angleOrientation&&i>Xt.distancePointLine(e,t,n)},isShallowSampled:function(t,e,n,i,r){var o=Math.trunc((i-n)/Ei.NUM_PTS_TO_CHECK);0>=o&&(o=1);for(var s=n;i>s;s+=o)if(!this.isShallow(t,e,this.inputLine[s],r))return!1;return!0},isConcave:function(t,e,n){return Xt.computeOrientation(t,e,n)===this.angleOrientation},simplify:function(t){this.distanceTol=Math.abs(t),0>t&&(this.angleOrientation=Xt.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Ei.DELETE;)e++;return e},isShallow:function(t,e,n,i){return i>Xt.distancePointLine(e,t,n)},collapseLine:function(){for(var t=new w,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Ei.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Ei}}),Ei.simplify=function(t,e){return new Ei(t).simplify(e)},Ei.INIT=0,Ei.DELETE=1,Ei.KEEP=1,Ei.NUM_PTS_TO_CHECK=10,e(Ci.prototype,{getCoordinates:function(){return this.ptList.toArray(Ci.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new d(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new Ut).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new d(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Ci}}),Ci.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(Si.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=Xt.computeOrientation(this.s0,this.s1,this.s2),i=n===Xt.CLOCKWISE&&this.side===Ye.LEFT||n===Xt.COUNTERCLOCKWISE&&this.side===Ye.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new Wt(t,e),i=new Wt;this.computeOffsetSegment(n,Ye.LEFT,this.distance,i);var r=new Wt;this.computeOffsetSegment(n,Ye.RIGHT,this.distance,r);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this.bufParams.getEndCapStyle()){case bi.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,Xt.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case bi.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case bi.CAP_SQUARE:var s=new d;s.x=Math.abs(this.distance)*Math.cos(o),s.y=Math.abs(this.distance)*Math.sin(o);var a=new d(i.p1.x+s.x,i.p1.y+s.y),u=new d(r.p1.x+s.x,r.p1.y+s.y);this.segList.addPt(a),this.segList.addPt(u)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=k.intersection(e.p0,e.p1,n.p0,n.p1),(0>=i?1:o.distance(t)/Math.abs(i))>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof C))throw t;o=new d(0,0),r=!1}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=Math.atan2(e.y-t.y,e.x-t.x),s=Math.atan2(n.y-t.y,n.x-t.x);i===Xt.CLOCKWISE?s>=o&&(o+=2*Math.PI):o>=s&&(o-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,o,s,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Si.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===bi.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===bi.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new d(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new d(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,o=Yn.angle(r,this.seg0.p0),s=(Yn.angle(r,this.seg1.p1),Yn.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)/2),a=Yn.normalize(o+s),u=Yn.normalize(a+Math.PI),c=i*n,l=n-c*Math.abs(Math.sin(s)),h=new Wt(r,new d(r.x+c*Math.cos(u),r.y+c*Math.sin(u))),f=h.pointAlongOffset(1,l),p=h.pointAlongOffset(1,-l);this.side===Ye.LEFT?(this.segList.addPt(f),this.segList.addPt(p)):(this.segList.addPt(p),this.segList.addPt(f))},computeOffsetSegment:function(t,e,n,i){var r=e===Ye.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,c=r*n*s/a;i.p0.x=t.p0.x-c,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-c,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o,s=i===Xt.CLOCKWISE?-1:1,a=Math.abs(e-n),u=Math.trunc(a/this.filletAngleQuantum+.5);if(1>u)return null;o=a/u;for(var c=0,l=new d;a>c;){var h=e+s*c;l.x=t.x+r*Math.cos(h),l.y=t.y+r*Math.sin(h),this.segList.addPt(l),c+=o}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Si.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new d((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var i=new d((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new d(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Ci,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Si.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===bi.JOIN_BEVEL||this.bufParams.getJoinStyle()===bi.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,Xt.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Si}}),Si.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Si.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Si.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Si.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Ii.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=0>e,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Y.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=Ei.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Ye.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Ei.simplify(t,i),u=a.length-1;for(n.initSideSegments(a[0],a[1],Ye.LEFT),n.addFirstSegment(),s=2;u>=s;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===Ye.RIGHT&&(i=-i);var r=Ei.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;o>=s;s++)n.addNextSegment(r[s],1!==s);n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=Ei.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Ye.LEFT);for(var o=2;r>=o;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Ei.simplify(t,-n),a=s.length-1;for(e.initSideSegments(s[a],s[a-1],Ye.LEFT),o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case bi.CAP_ROUND:e.createCircle(t);break;case bi.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,0>e&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],i):this.bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,0>e,i):this.computeLineBufferCurve(t,i),i.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Ii.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=Ei.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Ye.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Ei.simplify(t,i),u=a.length-1;for(n.initSideSegments(a[0],a[1],Ye.LEFT),n.addFirstSegment(),s=2;u>=s;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new Si(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Ii}}),Ii.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new d(t[n]);return e},e(Ni.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(I(arguments[2],v)&&arguments[0]instanceof d&&arguments[1]instanceof nn){var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates();for(n=0;n<u.length-1;n++)if(this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse(),!(Math.max(this.seg.p0.x,this.seg.p1.x)<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||Xt.computeOrientation(this.seg.p0,this.seg.p1,o)===Xt.RIGHT)){var c=s.getDepth(Ye.LEFT);this.seg.p0.equals(u[n])||(c=s.getDepth(Ye.RIGHT));var l=new Pi(this.seg,c);a.add(l)}}else if(I(arguments[2],v)&&arguments[0]instanceof d&&I(arguments[1],v)){var h=arguments[0],f=arguments[2];for(n=arguments[1].iterator();n.hasNext();){var p=n.next();p.isForward()&&this.findStabbedSegments(h,p,f)}}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Ho.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return Ni}}),e(Pi.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:0!=(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg))?n:this.upwardSeg.compareTo(e.upwardSeg)},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return Pi}}),Ni.DepthSegment=Pi,e(Ti.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},addPolygon:function(t){var e=this.distance,n=Ye.LEFT;this.distance<0&&(e=-this.distance,n=Ye.RIGHT);var i=t.getExteriorRing(),r=Y.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,S.EXTERIOR,S.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Y.removeRepeatedPoints(s.getCoordinates());this.distance>0&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,e,Ye.opposite(n),S.INTERIOR,S.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new Xn(t[0],t[1],t[2]),i=n.inCentre();return Xt.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=Y.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new Me(t,new We(0,S.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<Ct.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Ct.MINIMUM_VALID_SIZE&&Xt.isCCW(t)&&(o=r,s=i,n=Ye.opposite(n));var a=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof Lt)this.addPolygon(t);else if(t instanceof _t)this.addLineString(t);else if(t instanceof xt)this.addPoint(t);else if(t instanceof Et)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof St)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return 0>e;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return 0>e&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Ti}}),e(Mi.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Mi.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Ge]},getClass:function(){return Mi}}),Mi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Ai.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new We(t.getLabel())).flip(),n.merge(i);var r=Ai.depthDelta(i),o=e.getDepthDelta();e.setDepthDelta(o+r)}else this.edgeList.add(t),t.setDepthDelta(Ai.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new Ni(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new x,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Li;r.create(i),e.add(r)}}return Ho.sort(e,Ho.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new ze,n=new Vt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Mi(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new Ti(t,e,new Ii(n,this.bufParams)).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this.graph=new on(new dn),this.graph.addEdges(this.edgeList.getEdges());var r=this.createSubgraphs(this.graph),o=new sn(this.geomFact);this.buildSubgraphs(r,o);var s=o.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(s)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new Rn(r.getCoordinates(),new We(s));this.insertUniqueEdge(a)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.depthDelta=function(t){var e=t.getLocation(0,Ye.LEFT),n=t.getLocation(0,Ye.RIGHT);return e===S.INTERIOR&&n===S.EXTERIOR?1:e===S.EXTERIOR&&n===S.INTERIOR?-1:0},Ai.convertSegStrings=function(t){for(var e=new Ut,n=new x;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(Oi.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this.segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this.segStrings)}else if(2===arguments.length){var n=arguments[0];for(t=arguments[1].iterator();t.hasNext();){e=t.next().getCoordinates();for(var i=1;i<e.length-1;i++)if(e[i].equals(n))throw new c("found endpt/interior pt intersection at index "+i+" :pt "+n)}}},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3];if(h===d&&f===p)return null;var g=h.getCoordinates()[f],m=h.getCoordinates()[f+1],y=d.getCoordinates()[p],v=d.getCoordinates()[p+1];if(this.li.computeIntersection(g,m,y,v),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,y,v)))throw new c("found non-noded intersection at "+g+"-"+m+" and "+y+"-"+v)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length){var n=arguments[0].getCoordinates();for(t=0;t<n.length-2;t++)this.checkCollapse(n[t],n[t+1],n[t+2])}},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new c("found non-noded collapse at "+Oi.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Oi}}),Oi.fact=new Ut,e(Ri.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this.maxx<n||this.minx>i||this.maxy<r||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new d(this.maxx,this.maxy),this.corner[1]=new d(this.minx,this.maxy),this.corner[2]=new d(this.minx,this.miny),this.corner[3]=new d(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Ri.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new L(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&i||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Ri}}),Ri.SAFE_ENV_EXPANSION_FACTOR=.75,e(Di.prototype,{select:function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},interfaces_:function(){return[]},getClass:function(){return Di}}),e(ki.prototype,{snap:function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getSafeEnvelope(),r=new Fi(t,e,n);return this.index.query(i,{interfaces_:function(){return[ve]},visitItem:function(t){t.select(i,r)}}),r.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return ki}}),l(Fi,Di),e(Fi.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return Di.prototype.select.apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();return null!==this.parentEdge&&e===this.parentEdge&&t===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(e,t))},interfaces_:function(){return[]},getClass:function(){return Fi}}),ki.HotPixelSnapAction=Fi,e(zi.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Ge]},getClass:function(){return zi}}),e(Bi.prototype,{checkCorrectness:function(t){var e=new Oi(Me.getNodedSubstrings(t));try{e.checkValid()}catch(t){if(!(t instanceof E))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return Me.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new zi(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(I(arguments[0],m))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Me)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new Ri(i[r],this.scaleFactor,this.li);this.pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new ze,this.pointSnapper=new ki(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=new Ri(e.next(),this.scaleFactor,this.li);this.pointSnapper.snap(n)}},interfaces_:function(){return[ke]},getClass:function(){return Bi}}),e(Ui.prototype,{bufferFixedPrecision:function(t){var e=new yi(new Bi(new zt(1)),t.getScale()),n=new Ai(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=Ui.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof Ue))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=new zt(Ui.precisionScaleFactor(this.argGeom,this.distance,arguments[0]));this.bufferFixedPrecision(e)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===zt.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Ai(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof c))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Ui(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof B&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2];return(r=new Ui(arguments[0])).setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof bi&&arguments[0]instanceof B&&"number"==typeof arguments[1]){var i=arguments[1];return(r=new Ui(arguments[0],arguments[2])).getResultGeometry(i)}}else if(4===arguments.length){var r,o=arguments[1],s=arguments[2],a=arguments[3];return(r=new Ui(arguments[0])).setQuadrantSegments(s),r.setEndCapStyle(a),r.getResultGeometry(o)}},Ui.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=N.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),o=Math.trunc(Math.log(r+2*(e>0?e:0))/Math.log(10)+1);return Math.pow(10,n-o)},Ui.CAP_ROUND=bi.CAP_ROUND,Ui.CAP_BUTT=bi.CAP_FLAT,Ui.CAP_FLAT=bi.CAP_FLAT,Ui.CAP_SQUARE=bi.CAP_SQUARE,Ui.MAX_PRECISION_DIGITS=12;var is=Object.freeze({BufferOp:Ui,BufferParameters:bi});e(Gi.prototype,{filter:function(t){t instanceof Lt&&this.comps.add(t)},interfaces_:function(){return[lt]},getClass:function(){return Gi}}),Gi.getPolygons=function(){if(1===arguments.length)return Gi.getPolygons(arguments[0],new x);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Lt?e.add(t):t instanceof ft&&t.apply(new Gi(e)),e}},e(qi.prototype,{isInsideArea:function(){return this.segIndex===qi.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return qi}}),qi.INSIDE_AREA=-1,e(ji.prototype,{filter:function(t){t instanceof xt&&this.pts.add(t)},interfaces_:function(){return[lt]},getClass:function(){return ji}}),ji.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof xt?Ho.singletonList(t):ji.getPoints(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof xt?n.add(e):e instanceof ft&&e.apply(new ji(n)),n}},e(Vi.prototype,{filter:function(t){(t instanceof xt||t instanceof _t||t instanceof Lt)&&this.locations.add(new qi(t,0,t.getCoordinate()))},interfaces_:function(){return[lt]},getClass:function(){return Vi}}),Vi.getLocations=function(t){var e=new x;return t.apply(new Vi(e)),e},e(Hi.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Gi.getPolygons(this.geom[e]);if(r.size()>0){var o=Vi.getLocations(this.geom[i]);if(this.computeContainmentDistance(o,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&I(arguments[0],v)&&I(arguments[1],v)){for(var s=arguments[0],a=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var l=s.get(c),h=0;h<a.size();h++)if(this.computeContainmentDistance(l,a.get(h),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof qi&&arguments[1]instanceof Lt){var f=arguments[0],d=arguments[1],p=arguments[2],g=f.getCoordinate();if(S.EXTERIOR!==this.ptLocator.locate(g,d))return this.minDistance=0,p[0]=f,p[1]=new qi(d,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=En.getLines(this.geom[0]),n=En.getLines(this.geom[1]),i=ji.getPoints(this.geom[0]),r=ji.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof _t&&arguments[1]instanceof xt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){if((f=Xt.distancePointLine(r,i[o],i[o+1]))<this.minDistance){this.minDistance=f;var s=new Wt(i[o],i[o+1]).closestPoint(r);n[0]=new qi(t,o,s),n[1]=new qi(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof _t&&arguments[1]instanceof _t){var a=arguments[0],u=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this.minDistance)return null;i=a.getCoordinates();var l=u.getCoordinates();for(o=0;o<i.length-1;o++)for(var h=0;h<l.length-1;h++){var f;if((f=Xt.distanceLineLine(i[o],i[o+1],l[h],l[h+1]))<this.minDistance){this.minDistance=f;var d=new Wt(i[o],i[o+1]),p=new Wt(l[h],l[h+1]),g=d.closestPoints(p);c[0]=new qi(a,o,g[0]),c[1]=new qi(u,h,g[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new qi(r,0,r.getCoordinate()),n[1]=new qi(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new i("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return Hi}}),Hi.distance=function(t,e){return new Hi(t,e).distance()},Hi.isWithinDistance=function(t,e,n){return new Hi(t,e,n).distance()<=n},Hi.nearestPoints=function(t,e){return new Hi(t,e).nearestPoints()};var rs=Object.freeze({DistanceOp:Hi});e(Yi.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new w,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&Y.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return Yi}}),e(Xi.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return Xi}}),Xi.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},Xi.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},Xi.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)},l(Wi,Xi),e(Wi.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Xt.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){return this.compareDirection(t)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return Wi}}),Wi.toEdges=function(t){for(var e=new x,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},l(Zi,Wi),e(Zi.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Zi}}),l(Ki,Xi),e(Ki.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0]))return this.dirEdge[arguments[0]];if(arguments[0]instanceof Qi){var t=arguments[0];return this.dirEdge[0].getFromNode()===t?this.dirEdge[0]:this.dirEdge[1].getFromNode()===t?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return Ki}}),e(Ji.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(Ho.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof Ki){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e).getEdge()===t)return e;return-1}if(arguments[0]instanceof Wi){var n=arguments[0];for(this.sortEdges(),e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e)===n)return e;return-1}if(Number.isInteger(arguments[0])){var i=arguments[0]%this.outEdges.size();return 0>i&&(i+=this.outEdges.size()),i}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Ji}}),l(Qi,Xi),e(Qi.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){0===arguments.length?this.pt=null:1===arguments.length&&this.deStar.remove(arguments[0])},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return Qi}}),Qi.getEdgesBetween=function(t,e){var n=new Q(Wi.toEdges(t.getOutEdges().getEdges())),i=Wi.toEdges(e.getOutEdges().getEdges());return n.retainAll(i),n},l($i,Ki),e($i.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return $i}}),e(tr.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return tr}}),e(er.prototype,{findNodesOfDegree:function(t){for(var e=new x,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof Ki){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof Wi){var e=arguments[0];null!==(r=e.getSym())&&r.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof Qi){for(var n=arguments[0],i=n.getOutEdges().getEdges().iterator();i.hasNext();){var r,o=i.next();null!==(r=o.getSym())&&this.remove(r),this.dirEdges.remove(o);var s=o.getEdge();null!==s&&this.edges.remove(s)}this.nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){return arguments[0]instanceof Ki?this.edges.contains(arguments[0]):arguments[0]instanceof Wi?this.dirEdges.contains(arguments[0]):void 0},add:function(){if(arguments[0]instanceof Qi)this.nodeMap.add(arguments[0]);else if(arguments[0]instanceof Ki){var t=arguments[0];this.edges.add(t),this.add(t.getDirEdge(0)),this.add(t.getDirEdge(1))}else arguments[0]instanceof Wi&&this.dirEdges.add(arguments[0])},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return er}}),l(nr,er),e(nr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=Y.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[e.length-1],i=this.getNode(e[0]),r=this.getNode(n),o=new Zi(i,r,e[1],!0),s=new Zi(r,i,e[e.length-2],!1),a=new $i(t);a.setDirectedEdges(o,s),this.add(a)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new Qi(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return nr}}),e(ir.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;Xi.setMarked(this.graph.nodeIterator(),!1),Xi.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new Yi(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof B)arguments[0].apply({interfaces_:function(){return[z]},filter:function(t){t instanceof _t&&this.add(t)}});else if(I(arguments[0],m)){var t=arguments[0];this.mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof _t){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory()),this.graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return ir}});var os=Object.freeze({LineMerger:ir}),ss=Object.freeze({OverlayOp:Bn});l(rr,Wi),e(rr.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return rr}}),l(or,Ki),e(or.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return or}}),e(sr.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new w,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();sr.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),this.ring.isValid())},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Ct){var t=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(t)}else if(arguments[0]instanceof sr){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new x),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=Xt.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return qt.toLineString(new At(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&D.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof E))throw t;D.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return sr}}),sr.findDirEdgesInRing=function(t){var e=t,n=new x;do{n.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},sr.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(i=t.length-1;i>=0;i--)n.add(t[i],!1)},sr.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),c=u.getRing(),l=c.getEnvelopeInternal();if(!l.equals(i)&&l.contains(i)){r=Y.ptNotInList(n.getCoordinates(),c.getCoordinates());var h=!1;Xt.isPointInRing(r,c.getCoordinates())&&(h=!0),h&&(null===o||s.contains(l))&&(s=(o=u).getRing().getEnvelopeInternal())}}return o},e(ar.prototype,{compare:function(t,e){var n=e;return t.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return ar}}),sr.EnvelopeComparator=ar,l(ur,er),e(ur.prototype,{findEdgeRing:function(t){var e=new sr(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;)return null},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();ur.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=Y.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[e.length-1],i=this.getNode(e[0]),r=this.getNode(n),o=new rr(i,r,e[1],!0),s=new rr(r,i,e[e.length-2],!1),a=new or(t);a.setDirectedEdges(o,s),this.add(a)},deleteCutEdges:function(){this.computeNextCWEdges(),ur.findLabeledEdgeRings(this.dirEdges);for(var t=new x,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var r=n.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),ur.label(this.dirEdges,-1);var t=ur.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new x,n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var r=this.findEdgeRing(i);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new Qi(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=ur.findIntersectionNodes(n,i);if(null!==r)for(var o=r.iterator();o.hasNext();){var s=o.next();ur.computeNextCCWEdges(s,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new Q,n=new Qt,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();for(ur.deleteAllEdges(r),i=r.getOutEdges().getEdges().iterator();i.hasNext();){var o=i.next();o.setMarked(!0);var s=o.getSym();null!==s&&s.setMarked(!0);var a=o.getEdge();e.add(a.getLine());var u=o.getToNode();1===ur.getDegreeNonDeleted(u)&&n.push(u)}}return e},interfaces_:function(){return[]},getClass:function(){return ur}}),ur.findLabeledEdgeRings=function(t){for(var e=new x,n=1,i=t.iterator();i.hasNext();){var r=i.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var o=sr.findDirEdgesInRing(r);ur.label(o,n),n++}}return e},ur.getDegreeNonDeleted=function(t){for(var e=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().isMarked()||e++;return e},ur.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var n=e.next();n.setMarked(!0);var i=n.getSym();null!==i&&i.setMarked(!0)}},ur.label=function(t,e){for(var n=t.iterator();n.hasNext();)n.next().setLabel(e)},ur.computeNextCWEdges=function(t){for(var e=null,n=null,i=t.getOutEdges().getEdges().iterator();i.hasNext();){var r=i.next();r.isMarked()||(null===e&&(e=r),null!==n&&n.getSym().setNext(r),n=r)}null!==n&&n.getSym().setNext(e)},ur.computeNextCCWEdges=function(t,e){for(var n=null,i=null,r=t.getOutEdges().getEdges(),o=r.size()-1;o>=0;o--){var s=r.get(o),a=s.getSym(),u=null;s.getLabel()===e&&(u=s);var c=null;a.getLabel()===e&&(c=a),null===u&&null===c||(null!==c&&(i=c),null!==u&&(null!==i&&(i.setNext(u),i=null),null===n&&(n=u)))}null!==i&&(f.isTrue(null!==n),i.setNext(n))},ur.getDegree=function(t,e){for(var n=0,i=t.getOutEdges().getEdges().iterator();i.hasNext();)i.next().getLabel()===e&&n++;return n},ur.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();ur.getDegree(r,e)>1&&(null===i&&(i=new x),i.add(r)),n=n.getNext(),f.isTrue(null!==n,"found null DE in ring"),f.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(cr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Ut),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Ut.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),cr.assignHolesToShells(this.holeList,this.shellList),Ho.sort(this.shellList,new sr.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(cr.findDisjointShells(this.shellList),n=!1),this.polyList=cr.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(I(arguments[0],m))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.add(e)}else if(arguments[0]instanceof _t){var n=arguments[0];this.geomFactory=n.getFactory(),null===this.graph&&(this.graph=new ur(this.geomFactory)),this.graph.addEdge(n)}else arguments[0]instanceof B&&arguments[0].apply(this.lineStringAdder)},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new x,this.shellList=new x;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},cr.extractPolygons=function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},cr.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();cr.assignHoleToShell(i,e)}},cr.assignHoleToShell=function(t,e){var n=sr.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},cr.findDisjointShells=function(t){cr.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(lr.prototype,{filter:function(t){t instanceof _t&&this.p.add(t)},interfaces_:function(){return[z]},getClass:function(){return lr}}),cr.LineStringAdder=lr;var as=Object.freeze({Polygonizer:cr});e(hr.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var s=new en(t,n.coord,o,new We(t.getLabel()));e.add(s)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var s=new We(t.getLabel());s.flip();var a=new en(t,n.coord,o,s);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,c=null;if(!a.hasNext())return null;var l=a.next();do{u=c,c=l,l=null,a.hasNext()&&(l=a.next()),null!==c&&(this.createEdgeEndForPrev(r,o,c,u),this.createEdgeEndForNext(r,o,c,l))}while(null!==c)}},interfaces_:function(){return[]},getClass:function(){return hr}}),l(fr,en),e(fr.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();)(o=r.next().getLabel().getLocation(t))===S.BOUNDARY&&n++,o===S.INTERIOR&&(i=!0);var o=S.NONE;i&&(o=S.INTERIOR),n>0&&(o=Dn.determineBoundary(e,n)),this.label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===S.INTERIOR)return this.label.setLocation(t,e,S.INTERIOR),null;r===S.EXTERIOR&&this.label.setLocation(t,e,S.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,Ye.LEFT),this.computeLabelSide(t,Ye.RIGHT)},updateIM:function(t){Rn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this.label=e?new We(S.NONE,S.NONE,S.NONE):new We(S.NONE);for(var i=0;2>i;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return fr}}),l(dr,hn),e(dr.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new fr(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return dr}}),l(pr,$e),e(pr.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return pr}}),l(gr,rn),e(gr.prototype,{createNode:function(t){return new pr(t,new dr)},interfaces_:function(){return[]},getClass:function(){return gr}}),e(mr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,S.EXTERIOR)},computeIM:function(){var t=new Zt;if(t.set(S.EXTERIOR,S.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new hr,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(t)&&(i===S.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,S.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.addNode(o.coord);i===S.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,S.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();f.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(S.INTERIOR,S.EXTERIOR,e.getDimension()),t.set(S.BOUNDARY,S.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(S.EXTERIOR,S.INTERIOR,n.getDimension()),t.set(S.EXTERIOR,S.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return mr}}),e(yr.prototype,{isContainedInBoundary:function(t){if(t instanceof Lt)return!1;if(t instanceof xt)return this.isPointContainedInBoundary(t);if(t instanceof _t)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new d,i=new d,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof xt)return this.isPointContainedInBoundary(arguments[0].getCoordinate());if(arguments[0]instanceof d){var t=arguments[0];return t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX()||t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return yr}}),yr.contains=function(t,e){return new yr(t).contains(e)},e(vr.prototype,{intersects:function(t,e){var n=new L(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return vr}}),e(_r.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ft)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return _r}}),e(br.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new xr(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new wr(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new Lr(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return br}}),br.intersects=function(t,e){return new br(t).intersects(e)},l(xr,_r),e(xr.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return xr}}),l(wr,_r),e(wr.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Lt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new d,i=0;4>i;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&ln.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return wr}}),l(Lr,_r),e(Lr.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=En.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Lr}}),l(Er,kn),e(Er.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Er}}),Er.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||Er.relate(t,e).isCovers())},Er.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?br.intersects(t,e):e.isRectangle()?br.intersects(e,t):Er.relate(t,e).isIntersects())},Er.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Er.relate(t,e).isTouches(t.getDimension(),e.getDimension())},Er.within=function(t,e){return e.contains(t)},Er.coveredBy=function(t,e){return Er.covers(e,t)},Er.relate=function(){if(2===arguments.length)return new Er(arguments[0],arguments[1]).getIntersectionMatrix();if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof B&&arguments[1]instanceof B){var t=arguments[2];return Er.relateWithCheck(arguments[0],arguments[1]).matches(t)}if(I(arguments[2],G)&&arguments[0]instanceof B&&arguments[1]instanceof B)return new Er(arguments[0],arguments[1],arguments[2]).getIntersectionMatrix()}},Er.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Er.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},Er.disjoint=function(t,e){return!t.intersects(e)},Er.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Er.relate(t,e)},Er.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Er.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},Er.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?yr.contains(t,e):Er.relate(t,e).isContains())};var us=Object.freeze({RelateOp:Er});e(Cr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new x,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Cr}}),Cr.combine=function(){return 1===arguments.length?new Cr(arguments[0]).combine():2===arguments.length?new Cr(Cr.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Cr(Cr.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Cr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Cr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(n=new x).add(t),n.add(e),n}if(3===arguments.length){var n,i=arguments[0],r=arguments[1],o=arguments[2];return(n=new x).add(i),n.add(r),n.add(o),n}},e(Sr.prototype,{union:function(){for(var t=new he,e=new at,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n).getCoordinate();t.locate(i,this.otherGeom)===S.EXTERIOR&&e.add(i)}if(0===e.size())return this.otherGeom;var r,o=Y.toCoordinateArray(e);return r=1===o.length?this.geomFact.createPoint(o[0]):this.geomFact.createMultiPointFromCoords(o),Cr.combine(r,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.union=function(t,e){return new Sr(t,e).union()},e(Ir.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[lt]},getClass:function(){return Ir}}),Ir.extract=function(){if(2===arguments.length)return Ir.extract(arguments[0],arguments[1],new x);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return t.getSortIndex()===e?n.add(t):t instanceof ft&&t.apply(new Ir(e,n)),n}},e(Nr.prototype,{reduceToGeometries:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next(),r=null;I(i,v)?r=this.unionTree(i):i instanceof B&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new x,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Cr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Ee(Nr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(1>=i-n){var r=Nr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Nr.getGeometry(e,n),Nr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=(r=this.binaryUnion(e,n,o),this.binaryUnion(e,o,i));return this.unionSafe(r,s)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Nr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new x,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Cr.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.restrictToPolygons=function(t){if(I(t,wt))return t;var e=Gi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ut.toPolygonArray(e))},Nr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Nr.union=function(t){return new Nr(t).union()},Nr.STRTREE_NODE_CAPACITY=4,e(Pr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return Gn.overlayOp(t,e,Bn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(I(arguments[0],m))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.extract(e)}else if(arguments[0]instanceof B){var n=arguments[0];null===this.geomFact&&(this.geomFact=n.getFactory()),Ir.extract(n,B.SORTINDEX_POLYGON,this.polygons),Ir.extract(n,B.SORTINDEX_LINESTRING,this.lines),Ir.extract(n,B.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var i=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(i)}var r=null;this.polygons.size()>0&&(r=Nr.union(this.polygons));var o,s=this.unionWithNull(n,r);return null===(o=null===t?s:null===s?t:Sr.union(t,s))?this.geomFact.createGeometryCollection():o},interfaces_:function(){return[]},getClass:function(){return Pr}}),Pr.union=function(){if(1===arguments.length){if(I(arguments[0],m))return new Pr(arguments[0]).union();if(arguments[0]instanceof B)return new Pr(arguments[0]).union()}else if(2===arguments.length)return new Pr(arguments[0],arguments[1]).union()};var cs=Object.freeze({UnaryUnionOp:Pr});e(Tr.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=Tr.findDifferentPoint(n,i),o=e.findEdgeInSameDirection(i,r),s=e.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,Ye.RIGHT)===S.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,Ye.RIGHT)===S.INTERIOR&&(a=s.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof Lt&&this.visitInteriorRing((r=t).getExteriorRing(),e),t instanceof St)for(var n=t,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.visitInteriorRing(r.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,Ye.RIGHT)===S.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{f.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new Je(i,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,Ye.RIGHT)===S.INTERIOR)for(var o=0;o<i.size();o++)if(!(r=i.get(o)).isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new x;this.geomGraph.computeSplitEdges(t);var e=new on(new dn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(Mr.prototype,{hasChildren:function(){for(var t=0;2>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;2>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;2>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||this.items.remove(e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;2>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return Mr}}),Mr.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(Ar.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length)return!(this.min>arguments[1]||this.max<arguments[0])},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Ar){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length)return arguments[0]>=this.min&&arguments[1]<=this.max},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Ar}}),e(Or.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Or.computeLevel(t),this.interval=new Ar,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=oi.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.computeLevel=function(t){var e=t.getWidth();return oi.exponent(e)+1},l(Rr,Mr),e(Rr.prototype,{getInterval:function(){return this.interval},find:function(t){var e=Mr.getSubnodeIndex(t,this.centre);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e=Mr.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=Mr.getSubnodeIndex(t,this.centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new Rr(new Ar(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.createNode=function(t){var e=new Or(t);return new Rr(e.getInterval(),e.getLevel())},Rr.createExpanded=function(t,e){var n=new Ar(e);null!==t&&n.expandToInclude(t.interval);var i=Rr.createNode(n);return null!==t&&i.insert(t),i},l(Dr,Mr),e(Dr.prototype,{insert:function(t,e){var n=Mr.getSubnodeIndex(t,Dr.origin);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getInterval().contains(t)){var r=Rr.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getInterval().contains(e)),(ui.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return Dr}}),Dr.origin=0,e(kr.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=kr.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Ar(t,t))}if(arguments[0]instanceof Ar){var e=arguments[0],n=new x;return this.query(e,n),n}}else 2===arguments.length&&this.root.addAllItemsFromOverlapping(arguments[0],arguments[1])},iterator:function(){var t=new x;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=kr.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(i=(n-=e/2)+e/2),new Ar(n,i))},e(Fr.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return Fr}}),e(zr.prototype,{testLineSegment:function(t,e){var n,i,r=e.p0,o=e.p1;i=o.y-t.y,((n=r.y-t.y)>0&&0>=i||i>0&&0>=n)&&Ht.signOfDet2x2(r.x-t.x,n,o.x-t.x,i)/(i-n)>0&&this.crossings++},buildIndex:function(){this.tree=new kr;for(var t=Y.removeRepeatedPoints(this.ring.getCoordinates()),e=De.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new L(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new Br(this,t),o=n.iterator();o.hasNext();){var s=o.next();this.testMonotoneChain(e,i,s)}return this.crossings%2==1},interfaces_:function(){return[Fr]},getClass:function(){return zr}}),l(Br,Di),e(Br.prototype,{select:function(){if(1!==arguments.length)return Di.prototype.select.apply(this,arguments);this.mcp.testLineSegment(this.p,arguments[0])},interfaces_:function(){return[]},getClass:function(){return Br}}),zr.MCSelecter=Br,e(Ur.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this.nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new hr).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);r===S.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,S.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Ur}}),e(Gr.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var n=e.next();if(n.getEdgeEnds().size()>1)return this.invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Gr}}),e(qr.prototype,{buildIndex:function(){this.index=new Ee;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),s=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=Vr.findPtNotNode(n,o,this.graph);if(null!==a&&Xt.isPointInRing(a,s))return this.nestedPt=a,!1}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return qr}}),e(jr.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return jr.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return jr}}),jr.ERROR=0,jr.REPEATED_POINT=1,jr.HOLE_OUTSIDE_SHELL=2,jr.NESTED_HOLES=3,jr.DISCONNECTED_INTERIOR=4,jr.SELF_INTERSECTION=5,jr.RING_SELF_INTERSECTION=6,jr.NESTED_SHELLS=7,jr.DUPLICATE_RINGS=8,jr.TOO_FEW_POINTS=9,jr.INVALID_COORDINATE=10,jr.RING_NOT_CLOSED=11,jr.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(Vr.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Vr.isValid(t[e]))return this.validErr=new jr(jr.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Lt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new qr(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this.validErr=new jr(jr.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new Gr(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new jr(jr.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new jr(jr.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),o=Vr.findPtNotNode(i,e,n);if(null!==o&&!Xt.isPointInRing(o,r))return o;var s=Vr.findPtNotNode(r,t,n);return null!==s?Xt.isPointInRing(s,i)?s:null:(f.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Tr(t);e.isInteriorsConnected()||(this.validErr=new jr(jr.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new jr(jr.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new zr(n),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),s=Vr.findPtNotNode(o.getCoordinates(),n,e);if(null===s)return null;if(!i.isInside(s))return this.validErr=new jr(jr.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){return t.hasTooFewPoints()?(this.validErr=new jr(jr.TOO_FEW_POINTS,t.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof xt)this.checkInvalidCoordinates(arguments[0].getCoordinates());else if(arguments[0]instanceof Et)this.checkInvalidCoordinates(arguments[0].getCoordinates());else if(arguments[0]instanceof Ct){var t=arguments[0];if(this.checkInvalidCoordinates(t.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(t),null!==this.validErr)return null;var e=new Dn(0,t);if(this.checkTooFewPoints(e),null!==this.validErr)return null;var n=new Vt;e.computeSelfNodes(n,!0,!0),this.checkNoSelfIntersectingRings(e)}else if(arguments[0]instanceof _t){var i=arguments[0];if(this.checkInvalidCoordinates(i.getCoordinates()),null!==this.validErr)return null;e=new Dn(0,i),this.checkTooFewPoints(e)}else if(arguments[0]instanceof Lt){var r=arguments[0];if(this.checkInvalidCoordinates(r),null!==this.validErr)return null;if(this.checkClosedRings(r),null!==this.validErr)return null;if(e=new Dn(0,r),this.checkTooFewPoints(e),null!==this.validErr)return null;if(this.checkConsistentArea(e),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(e),null!==this.validErr))return null;if(this.checkHolesInShell(r,e),null!==this.validErr)return null;if(this.checkHolesNotNested(r,e),null!==this.validErr)return null;this.checkConnectedInteriors(e)}else if(arguments[0]instanceof St){for(var o=arguments[0],s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);if(this.checkInvalidCoordinates(a),null!==this.validErr)return null;if(this.checkClosedRings(a),null!==this.validErr)return null}if(e=new Dn(0,o),this.checkTooFewPoints(e),null!==this.validErr)return null;if(this.checkConsistentArea(e),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(e),null!==this.validErr))return null;for(s=0;s<o.getNumGeometries();s++)if(a=o.getGeometryN(s),this.checkHolesInShell(a,e),null!==this.validErr)return null;for(s=0;s<o.getNumGeometries();s++)if(a=o.getGeometryN(s),this.checkHolesNotNested(a,e),null!==this.validErr)return null;if(this.checkShellsNotNested(o,e),null!==this.validErr)return null;this.checkConnectedInteriors(e)}else if(arguments[0]instanceof ft){var u=arguments[0];for(s=0;s<u.getNumGeometries();s++){var c=u.getGeometryN(s);if(this.checkValid(c),null!==this.validErr)return null}}else if(arguments[0]instanceof B){var l=arguments[0];if(this.validErr=null,l.isEmpty())return null;if(l instanceof xt)this.checkValid(l);else if(l instanceof Et)this.checkValid(l);else if(l instanceof Ct)this.checkValid(l);else if(l instanceof _t)this.checkValid(l);else if(l instanceof Lt)this.checkValid(l);else if(l instanceof St)this.checkValid(l);else{if(!(l instanceof ft))throw new UnsupportedOperationException(l.getClass().getName());this.checkValid(l)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),s=Vr.findPtNotNode(i,r,n);if(null===s)return null;if(!Xt.isPointInRing(s,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new jr(jr.NESTED_SHELLS,s),null;for(var a=null,u=0;u<e.getNumInteriorRing();u++){var c=e.getInteriorRingN(u);if(null===(a=this.checkShellInsideHole(t,c,n)))return null}this.validErr=new jr(jr.NESTED_SHELLS,a)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new jr(jr.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n).getExteriorRing(),r=0;r<t.getNumGeometries();r++)if(n!==r){var o=t.getGeometryN(r);if(this.checkShellNotNested(i,o,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Vr}}),Vr.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e).getEdgeIntersectionList(),r=0;r<t.length;r++){var o=t[r];if(!i.isIntersection(o))return o}return null},Vr.isValid=function(){if(arguments[0]instanceof B)return new Vr(arguments[0]).isValid();if(arguments[0]instanceof d){var t=arguments[0];return!(r.isNaN(t.x)||r.isInfinite(t.x)||r.isNaN(t.y)||r.isInfinite(t.y))}};var ls=Object.freeze({IsValidOp:Vr}),hs=Object.freeze({BoundaryOp:pt,IsSimpleOp:vi,buffer:is,distance:rs,linemerge:os,overlay:ss,polygonize:as,relate:us,union:cs,valid:ls});l(Hr,It.CoordinateOperation),e(Hr.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new d(t[i]);this.targetPM.makePrecise(r),n[i]=r}var o=new w(n,!1).toCoordinateArray(),s=0;e instanceof _t&&(s=2),e instanceof Ct&&(s=4);var a=n;return this.removeCollapsed&&(a=null),o.length<s?a:o},interfaces_:function(){return[]},getClass:function(){return Hr}}),e(Yr.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=t.getFactory().createGeometry(n)),i},reducePointwise:function(t){var e=null;e=this.changePrecisionModel?new It(this.createFactory(t.getFactory(),this.targetPM)):new It;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new Hr(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new It.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new Ut(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:I(e,wt)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new It:new It(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.reduce=function(t,e){return new Yr(e).reduce(t)},Yr.reducePointwise=function(t,e){var n=new Yr(e);return n.setPointwise(!0),n.reduce(t)};var fs=Object.freeze({GeometryPrecisionReducer:Yr});e(Xr.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;e>r;r++){var o=this.seg.distance(this.pts[r]);o>n&&(n=o,i=r)}if(n<=this.distanceTolerance)for(r=t+1;e>r;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);var e=new w;for(t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new d(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.simplify=function(t,e){var n=new Xr(t);return n.setDistanceTolerance(e),n.simplify()},e(Wr.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new Zr(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.simplify=function(t,e){var n=new Wr(t);return n.setDistanceTolerance(e),n.getResultGeometry()},l(Zr,ne),e(Zr.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=ne.prototype.transformPolygon.call(this,t,e);return e instanceof St?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n,i=t.toCoordinateArray();return n=0===i.length?new Array(0).fill(null):Xr.simplify(i,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(n)},transformMultiPolygon:function(t,e){var n=ne.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Lt,i=ne.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof Ct?i:null},interfaces_:function(){return[]},getClass:function(){return Zr}}),Wr.DPTransformer=Zr,l(Kr,Wt),e(Kr.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return Kr}}),e(Jr.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(Jr.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(Jr.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new Kr(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return Jr.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return Jr}}),Jr.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(Qr.prototype,{remove:function(t){this.index.remove(new L(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof Jr)for(var t=arguments[0].getSegments(),e=0;e<t.length;e++)this.add(t[e]);else if(arguments[0]instanceof Wt){var n=arguments[0];this.index.insert(new L(n.p0,n.p1),n)}},query:function(t){var e=new L(t.p0,t.p1),n=new $r(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return Qr}}),e($r.prototype,{visitItem:function(t){L.intersects(t.p0,t.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[ve]},getClass:function(){return $r}}),e(to.prototype,{flatten:function(t,e){var n=new Wt(this.linePts[t],this.linePts[e]);return this.remove(this.line,t,e),this.outputIndex.add(n),n},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;this.line.getResultSize()<this.line.getMinimumSize()&&n+1<this.line.getMinimumSize()&&(o=!1);var s=new Array(1).fill(null),a=this.findFurthestPoint(this.linePts,t,e,s);s[0]>this.distanceTolerance&&(o=!1);var u=new Wt;if(u.p0=this.linePts[t],u.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,u)&&(o=!1),o)return r=this.flatten(t,e),this.line.addToResult(r),null;this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t).iterator();e.hasNext();){var n=e.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new Wt;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;n>a;a++){var u=r.distance(t[a]);u>o&&(o=u,s=a)}return i[0]=o,s},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;n>i;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n).iterator();i.hasNext();){var r=i.next();if(this.hasInteriorIntersection(r,n)){if(to.isInLineSection(t,e,r))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return to}}),to.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(eo.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(e=t.iterator();e.hasNext();){var n=new to(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return eo}}),e(no.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new Ft,this.inputGeom.apply(new ro(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new io(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return no}}),no.simplify=function(t,e){var n=new no(t);return n.setDistanceTolerance(e),n.getResultGeometry()},l(io,ne),e(io.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof _t){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return ne.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return io}}),e(ro.prototype,{filter:function(t){if(t instanceof _t){var e=t;if(e.isEmpty())return null;var n=new Jr(e,e.isClosed()?4:2);this.tps.linestringMap.put(e,n)}},interfaces_:function(){return[z]},getClass:function(){return ro}}),no.LineStringTransformer=io,no.LineStringMapBuilderFilter=ro;var ds=Object.freeze({DouglasPeuckerSimplifier:Wr,TopologyPreservingSimplifier:no});e(oo.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=oo.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[1],i=this.getConstrainedLength(arguments[0])/this.segLen;this.splitPt=n.equals2D(this.seg.p0)?this.seg.pointAlong(i):oo.pointAlongReverse(this.seg,i)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return oo}}),oo.pointAlongReverse=function(t,e){var n=new d;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(so.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return so}}),e(ao.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength()/2,r=new oo(n),o=ao.projectedSplitPoint(t,e),s=2*o.distance(e)*.8;return s>i&&(s=i),r.setMinimumLength(s),r.splitAt(o),r.getSplitPoint()},interfaces_:function(){return[so]},getClass:function(){return ao}}),ao.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(uo.prototype,{interfaces_:function(){return[]},getClass:function(){return uo}}),uo.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},uo.isInCircleDDNormalized=function(t,e,n,i){var r=A.valueOf(t.x).selfSubtract(i.x),o=A.valueOf(t.y).selfSubtract(i.y),s=A.valueOf(e.x).selfSubtract(i.x),a=A.valueOf(e.y).selfSubtract(i.y),u=A.valueOf(n.x).selfSubtract(i.x),c=A.valueOf(n.y).selfSubtract(i.y),l=r.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(c).selfSubtract(u.multiply(a)),f=u.multiply(o).selfSubtract(r.multiply(c)),d=r.multiply(r).selfAdd(o.multiply(o)),p=s.multiply(s).selfAdd(a.multiply(a)),g=u.multiply(u).selfAdd(c.multiply(c));return d.selfMultiply(h).selfAdd(p.selfMultiply(f)).selfAdd(g.selfMultiply(l)).doubleValue()>0},uo.checkRobustInCircle=function(t,e,n,i){var r=uo.isInCircleNonRobust(t,e,n,i),o=uo.isInCircleDDSlow(t,e,n,i),s=uo.isInCircleCC(t,e,n,i),a=Xn.circumcentre(t,e,n);D.out.println("p radius diff a = "+Math.abs(i.distance(a)-t.distance(a))/t.distance(a)),r===o&&r===s||(D.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+s+")"),D.out.println(qt.toLineString(new At([t,e,n,i]))),D.out.println("Circumcentre = "+qt.toPoint(a)+" radius = "+t.distance(a)),D.out.println("p radius diff a = "+Math.abs(i.distance(a)/t.distance(a)-1)),D.out.println("p radius diff b = "+Math.abs(i.distance(a)/e.distance(a)-1)),D.out.println("p radius diff c = "+Math.abs(i.distance(a)/n.distance(a)-1)),D.out.println())},uo.isInCircleDDFast=function(t,e,n,i){var r=A.sqr(t.x).selfAdd(A.sqr(t.y)).selfMultiply(uo.triAreaDDFast(e,n,i)),o=A.sqr(e.x).selfAdd(A.sqr(e.y)).selfMultiply(uo.triAreaDDFast(t,n,i)),s=A.sqr(n.x).selfAdd(A.sqr(n.y)).selfMultiply(uo.triAreaDDFast(t,e,i)),a=A.sqr(i.x).selfAdd(A.sqr(i.y)).selfMultiply(uo.triAreaDDFast(t,e,n));return r.selfSubtract(o).selfAdd(s).selfSubtract(a).doubleValue()>0},uo.isInCircleCC=function(t,e,n,i){var r=Xn.circumcentre(t,e,n),o=t.distance(r);return 0>=i.distance(r)-o},uo.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,c=n.y-i.y;return(r*r+o*o)*(s*c-u*a)+(s*s+a*a)*(u*o-r*c)+(u*u+c*c)*(r*a-s*o)>0},uo.isInCircleDDSlow=function(t,e,n,i){var r=A.valueOf(i.x),o=A.valueOf(i.y),s=A.valueOf(t.x),a=A.valueOf(t.y),u=A.valueOf(e.x),c=A.valueOf(e.y),l=A.valueOf(n.x),h=A.valueOf(n.y),f=s.multiply(s).add(a.multiply(a)).multiply(uo.triAreaDDSlow(u,c,l,h,r,o)),d=u.multiply(u).add(c.multiply(c)).multiply(uo.triAreaDDSlow(s,a,l,h,r,o)),p=l.multiply(l).add(h.multiply(h)).multiply(uo.triAreaDDSlow(s,a,u,c,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(uo.triAreaDDSlow(s,a,u,c,l,h));return f.subtract(d).add(p).subtract(g).doubleValue()>0},uo.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*uo.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*uo.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*uo.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*uo.triArea(t,e,n)>0},uo.isInCircleRobust=function(t,e,n,i){return uo.isInCircleNormalized(t,e,n,i)},uo.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},uo.triAreaDDFast=function(t,e,n){var i=A.valueOf(e.x).selfSubtract(t.x).selfMultiply(A.valueOf(n.y).selfSubtract(t.y)),r=A.valueOf(e.y).selfSubtract(t.y).selfMultiply(A.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(co.prototype,{circleCenter:function(t,e){var n,i=new co(this.getX(),this.getY()),r=new k(this.bisector(i,t),this.bisector(t,e)),o=null;try{o=new co(r.getX(),r.getY())}catch(n){if(!(n instanceof C))throw n;D.err.println("a: "+i+"  b: "+t+"  c: "+e),D.err.println(n)}return o},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY();return new k(new k(t.getX()+n/2,t.getY()+i/2,1),new k(t.getX()-i+n/2,t.getY()+n+i/2,1))},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[1];return this.p.distance(arguments[0].getCoordinate())<e}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return uo.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,c=o*u-s*a,l=this.getX()-i,h=this.getY()-r,f=(u*l-s*h)/c,d=(-a*l+o*h)/c;return t.getZ()+f*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){return new co((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new co(t*this.p.x,t*this.p.y)},cross:function(){return new co(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new co(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,i=e.sub(t),r=n.sub(t),o=i.crossProduct(r);return o>0?co.LEFT:0>o?co.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?co.BEHIND:i.magn()<r.magn()?co.BEYOND:t.equals(n)?co.ORIGIN:e.equals(n)?co.DESTINATION:co.BETWEEN},sum:function(t){return new co(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return r>o&&(r=o),r>(o=this.distance(e,this))&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return co}}),co.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e);return e.z+r/i*(n.z-e.z)}if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3],c=s.x,l=s.y,h=a.x-c,f=u.x-c,d=a.y-l,p=u.y-l,g=h*p-f*d,m=o.x-c,y=o.y-l;return s.z+(p*m-f*y)/g*(a.z-s.z)+(-d*m+h*y)/g*(u.z-s.z)}},co.LEFT=0,co.RIGHT=1,co.BEYOND=2,co.BEHIND=3,co.BETWEEN=4,co.ORIGIN=5,co.DESTINATION=6,l(lo,co),e(lo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return lo}}),e(ho.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new Wt(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return qt.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.makeEdge=function(t,e){var n=new ho,i=new ho,r=new ho,o=new ho;n._rot=i,i._rot=r,r._rot=o,o._rot=n,n.setNext(n),i.setNext(o),r.setNext(r),o.setNext(i);var s=n;return s.setOrig(t),s.setDest(e),s},ho.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();ho.splice(t,e),ho.splice(t.sym(),n),ho.splice(t,e.lNext()),ho.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},ho.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},ho.connect=function(t,e){var n=ho.makeEdge(t.dest(),e.orig());return ho.splice(n,t.lNext()),ho.splice(n.sym(),e),n},e(fo.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);ho.splice(n,e);var i=n;do{e=(n=this.subdiv.connect(e,n.sym())).oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))ho.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return fo}}),e(po.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return po}}),e(go.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[po]},getClass:function(){return go}}),l(mo,c),e(mo.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return mo}}),mo.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(yo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return yo}}),e(vo.prototype,{getTriangleVertices:function(t){var e=new xo;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=ho.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new x,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new w;o.addAll(n,!1),o.closeRing(),o.size()<4&&(D.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);ho.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return ho.splice(e.sym(),n),ho.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);vo.getTriangleEdges(t,e);var n=new Array(3).fill(null);vo.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=ho.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new Qt;n.push(this.startingEdge);for(var i=new Q;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new L(this.frameEnv)},createFrame:function(t){var e,n=t.getWidth(),i=t.getHeight();e=n>i?10*n:10*i,this.frameVertex[0]=new co((t.getMaxX()+t.getMinX())/2,t.getMaxY()+e),this.frameVertex[1]=new co(t.getMinX()-e,t.getMinY()-e),this.frameVertex[2]=new co(t.getMaxX()+e,t.getMinY()-e),this.frameEnv=new L(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new wo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new Q,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new x,n=new Q,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new bo;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new x,n=new Qt;n.push(this.startingEdge);for(var i=new Q;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){ho.splice(t,t.oPrev()),ho.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(++n>i)throw new mo(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new _o,!0);for(var e=new x,n=this.getVertexUniqueEdges(!1).iterator();n.hasNext();){var i=n.next();e.add(this.getVoronoiCellPolygon(i,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Ut.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);ho.splice(n,e);var i=n;do{e=(n=this.connect(e,n.sym())).oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof co)return this.locator.locate(arguments[0]);if(arguments[0]instanceof d)return this.locator.locate(new co(arguments[0]))}else if(2===arguments.length){var t=arguments[0],e=arguments[1],n=this.locator.locate(new co(t));if(null===n)return null;var i=n;n.dest().getCoordinate().equals2D(t)&&(i=n.sym());var r=i;do{if(r.dest().getCoordinate().equals2D(e))return r;r=r.oNext()}while(r!==i);return null}},interfaces_:function(){return[]},getClass:function(){return vo}}),vo.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")},e(_o.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=new co(Xn.circumcentre(e,n,i)),o=0;3>o;o++)t[o].rot().setOrig(r)},interfaces_:function(){return[yo]},getClass:function(){return _o}}),e(bo.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[yo]},getClass:function(){return bo}}),e(xo.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[yo]},getClass:function(){return xo}}),e(wo.prototype,{checkTriangleSize:function(t){t.length>=2?qt.toLineString(t[0],t[1]):t.length>=1&&qt.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;3>e;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[yo]},getClass:function(){return wo}}),vo.TriangleCircumcentreVisitor=_o,vo.TriangleEdgesListVisitor=bo,vo.TriangleVertexListVisitor=xo,vo.TriangleCoordinatesVisitor=wo,vo.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Lo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Lo}}),e(Eo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Eo}}),e(Co.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return Co}}),e(So.prototype,{insert:function(){if(1===arguments.length)return this.insert(arguments[0],null);if(2===arguments.length){var t=arguments[0],e=arguments[1];if(null===this.root)return this.root=new Co(t,e),this.root;if(this.tolerance>0){var n=this.findBestMatchNode(t);if(null!==n)return n.increment(),n}return this.insertExact(t,e)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],i=new x;return this.query(n,i),i}2===arguments.length&&(arguments[0]instanceof L&&I(arguments[1],v)?function(){var n=t[1];e.queryNode(e.root,t[0],!0,{interfaces_:function(){return[Eo]},visit:function(t){n.add(t)}})}():arguments[0]instanceof L&&I(arguments[1],Eo)&&this.queryNode(this.root,arguments[0],!0,arguments[1]))},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null;n?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=o>=s;s>r&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),a&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Io(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,o=!0;null!==n;){if(null!==n&&t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n;i=n,n=(o=r?t.x<n.getX():t.y<n.getY())?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var s=new Co(t,e);return o?i.setLeft(s):i.setRight(s),s},interfaces_:function(){return[]},getClass:function(){return So}}),So.toCoordinates=function(){if(1===arguments.length)return So.toCoordinates(arguments[0],!1);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new w,i=t.iterator();i.hasNext();)for(var r=i.next(),o=e?r.getCount():1,s=0;o>s;s++)n.add(r.getCoordinate(),!0);return n.toCoordinateArray()}},e(Io.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new L(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Eo]},getClass:function(){return Io}}),So.BestMatchVisitor=Io,e(No.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<No.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();)i=r.next(),t[e++]=i.getCoordinate();return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new Ut,e=new te(this.getPointArray(),t);this.convexHull=e.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new d((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),s=new L(i);s.expandBy(o);for(var a=this.kdt.query(s),u=null,c=r.MAX_VALUE,l=a.iterator();l.hasNext();){var h=l.next().getCoordinate();if(!h.equals2D(e)&&!h.equals2D(n)){var f=i.distance(h);o>f&&(null===u||c>f)&&(u=h,c=f)}}return u},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new x,n=0,i=new x,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this.splitPt=this.splitFinder.findSplitPoint(o,s);var a=this.createVertex(this.splitPt,o),u=(this.insertSite(a),new Lo(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),c=new Lo(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(c),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new lo(t)}if(2===arguments.length){var n=arguments[0];return e=null,(e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,arguments[1]):new lo(n)).setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=No.computeVertexEnvelope(this.initialVertices),e=No.computeVertexEnvelope(this.segVertices),n=new L(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),o=Math.max(i,r);this.computeAreaEnv=new L(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new vo(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new go(this.subdiv)),this.incDel=new fo(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof lo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}arguments[0]instanceof d&&this.insertSite(this.createVertex(arguments[0]))},interfaces_:function(){return[]},getClass:function(){return No}}),No.computeVertexEnvelope=function(t){for(var e=new L,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},No.MAX_SPLIT_ITER=99,e(Po.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords),e=Po.toVertices(this.siteCoords);this.subdiv=new vo(t,this.tolerance),new fo(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){arguments[0]instanceof B?this.siteCoords=Po.extractUniqueCoordinates(arguments[0]):I(arguments[0],m)&&(this.siteCoords=Po.unique(Y.toCoordinateArray(arguments[0])))},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Po}}),Po.extractUniqueCoordinates=function(t){if(null===t)return new w;var e=t.getCoordinates();return Po.unique(e)},Po.envelope=function(t){for(var e=new L,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},Po.unique=function(t){var e=Y.copyDeep(t);return ut.sort(e),new w(e,!1)},Po.toVertices=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new co(i))}return e},e(To.prototype,{createSiteVertices:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new lo(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords),e=new x;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=To.createConstraintSegments(this.constraintLines));var n=new No(this.createSiteVertices(this.siteCoords),this.tolerance);n.setConstraints(e,new x(this.constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this.subdiv=n.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Po.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new lo(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return To}}),To.createConstraintSegments=function(){if(1===arguments.length){for(var t=En.getLines(arguments[0]),e=new x,n=t.iterator();n.hasNext();){var i=n.next();To.createConstraintSegments(i,e)}return e}if(2===arguments.length){var r=arguments[1],o=arguments[0].getCoordinates();for(n=1;n<o.length;n++)r.add(new Lo(o[n-1],o[n]))}},e(Mo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Po.toVertices(this.siteCoords);this.subdiv=new vo(t,this.tolerance),new fo(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return Mo.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){arguments[0]instanceof B?this.siteCoords=Po.extractUniqueCoordinates(arguments[0]):I(arguments[0],m)&&(this.siteCoords=Po.unique(Y.toCoordinateArray(arguments[0])))},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Mo}}),Mo.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new x,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o)).setUserData(o.getUserData()),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(Ut.toGeometryArray(i))};var ps=Object.freeze({ConformingDelaunayTriangulationBuilder:To,DelaunayTriangulationBuilder:Po,VoronoiDiagramBuilder:Mo});e(Ao.prototype,{interfaces_:function(){return[]},getClass:function(){return Ao}}),Ao.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Bn.createEmptyResult(Bn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Gn.overlayOp(t,e,Bn.UNION)},e(B.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Er.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){return 0===arguments.length?Pr.union(this):1===arguments.length?Ao.union(this,arguments[0]):void 0},isValid:function(){return Vr.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return Bn.createEmptyResult(Bn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return He.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Gn.overlayOp(this,t,Bn.INTERSECTION)},covers:function(t){return Er.covers(this,t)},coveredBy:function(t){return Er.coveredBy(this,t)},touches:function(t){return Er.touches(this,t)},intersects:function(t){return Er.intersects(this,t)},within:function(t){return Er.within(this,t)},overlaps:function(t){return Er.overlaps(this,t)},disjoint:function(t){return Er.disjoint(this,t)},crosses:function(t){return Er.crosses(this,t)},buffer:function(){return 1===arguments.length?Ui.bufferOp(this,arguments[0]):2===arguments.length?Ui.bufferOp(this,arguments[0],arguments[1]):3===arguments.length?Ui.bufferOp(this,arguments[0],arguments[1],arguments[2]):void 0},convexHull:function(){return new te(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return Er.relate.apply(Er,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=Kt.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t,e=this.getDimension();return t=0===e?new Hn(this).getInteriorPoint():1===e?new Vn(this).getInteriorPoint():new qn(this).getInteriorPoint(),this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return Bn.createEmptyResult(Bn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Gn.overlayOp(this,t,Bn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new qt).write(this)},toString:function(){this.toText()},contains:function(t){return Er.contains(this,t)},difference:function(t){return this.isEmpty()?Bn.createEmptyResult(Bn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Gn.overlayOp(this,t,Bn.DIFFERENCE))},isSimple:function(){return new vi(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&Hi.isWithinDistance(this,t,e)},distance:function(t){return Hi.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}}),t.version="1.1.2 (248dab8)",t.algorithm=Yo,t.densify=Xo,t.dissolve=Wo,t.geom=Vo,t.index=Jo,t.io=es,t.noding=ns,t.operation=hs,t.precision=fs,t.simplify=ds,t.triangulate=ps}("object"==typeof n&&"undefined"!=typeof e?n:t.jsts=t.jsts||{})}(this)},{}],21:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],22:[function(t,e,n){var i=t("turf-bbox"),r=t("turf-helpers").point;e.exports=function(t){var e=i(t);return r([(e[0]+e[2])/2,(e[1]+e[3])/2])}},{"turf-bbox":23,"turf-helpers":24}],23:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-bbox")},{"/Users/tmcw/src/turf/packages/turf-bbox":11}],24:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],25:[function(t,e,n){var i=t("turf-meta").coordEach,r=t("turf-helpers").point;e.exports=function(t){var e=0,n=0,o=0;return i(t,function(t){e+=t[0],n+=t[1],o++},!0),r([e/o,n/o])}},{"turf-helpers":26,"turf-meta":27}],26:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],27:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-meta":98,dup:12}],28:[function(t,e,n){var i=t("turf-inside");e.exports=function(t,e,n,r){return t.features.forEach(function(t){var o=e.features.filter(function(e){return i(e,t)}).map(function(t){return t.properties[n]});t.properties||(t.properties={}),t.properties[r]=o}),t}},{"turf-inside":29}],29:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-inside")},{"/Users/tmcw/src/turf/packages/turf-inside":75}],30:[function(t,e,n){var i=t("turf-meta");e.exports=function(t){function e(t,e,i){i?n[e].coordinates=n[e].coordinates.concat(t.geometry.coordinates):n[e].coordinates.push(t.geometry.coordinates),n[e].properties.push(t.properties)}var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(n).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return i.featureEach(t,function(t){t.geometry&&(n[t.geometry.type]?e(t,t.geometry.type,!0):r[t.geometry.type]&&e(t,r[t.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(n).filter(function(t){return n[t].coordinates.length}).sort().map(function(t){return{type:"Feature",properties:{collectedProperties:n[t].properties},geometry:{type:t,coordinates:n[t].coordinates}}})}}},{"turf-meta":31}],31:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-meta":98,dup:12}],32:[function(t,e,n){function i(t){for(var e=JSON.parse(JSON.stringify(t.features[0])),n=t.features,i=0,r=n.length;r>i;i++){var s=n[i];s.geometry&&(e=o(e,s))}return e}var r=t("turf-tin"),o=t("turf-union"),s=t("turf-distance");e.exports=function(t,e,n){if("number"!=typeof e)throw new Error("maxEdge parameter is required");if("string"!=typeof n)throw new Error("units parameter is required");var o=r(t),a=o.features.filter(function(t){var i=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=s(i,r,n),u=s(r,o,n),c=s(i,o,n);return e>=a&&e>=u&&e>=c});return o.features=a,i(o)}},{"turf-distance":33,"turf-tin":34,"turf-union":35}],33:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],34:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-tin")},{"/Users/tmcw/src/turf/packages/turf-tin":136}],35:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-union")},{"/Users/tmcw/src/turf/packages/turf-union":141}],36:[function(t,e,n){var i=t("turf-meta").coordEach,r=t("convex-hull"),o=t("turf-helpers").polygon;e.exports=function(t){var e=[];i(t,function(t){e.push(t)});var n=r(e);if(n.length>0){for(var s=[],a=0;a<n.length;a++)s.push(e[n[a][0]]);return s.push(e[n[n.length-1][1]]),o([s])}}},{"convex-hull":39,"turf-helpers":50,"turf-meta":51}],37:[function(t,e,n){"use strict";function i(t,e){for(var n=new Array(e+1),i=0;i<t.length;++i)n[i]=t[i];for(i=0;i<=t.length;++i){for(var o=t.length;e>=o;++o){for(var s=new Array(e),a=0;e>a;++a)s[a]=Math.pow(o+1-i,a);n[o]=s}if(r.apply(void 0,n))return!0}return!1}e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],o=[0],s=1;e>s;++s)if(r.push(t[s]),i(r,n)){if(o.push(s),o.length===n+1)return o}else r.pop();return o};var r=t("robust-orientation")},{"robust-orientation":45}],38:[function(t,e,n){"use strict";"use restrict";function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(t>0)-(0>t)},n.abs=function(t){var e=t>>31;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(e>t)},n.max=function(t,e){return t^(t^e)&-(e>t)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=i,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var e=0;256>e;++e){var n=e,i=e,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;t[e]=i<<r&255}}(r),n.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},n.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},n.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},{}],39:[function(t,e,n){"use strict";var i=t("./lib/ch1d"),r=t("./lib/ch2d"),o=t("./lib/chnd");e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;return 0===n?[]:1===n?i(t):2===n?r(t):o(t,n)}},{"./lib/ch1d":40,"./lib/ch2d":41,"./lib/chnd":42}],40:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0,n=0,i=1;i<t.length;++i)t[i][0]<t[e][0]&&(e=i),t[i][0]>t[n][0]&&(n=i);return n>e?[[e],[n]]:e>n?[[n],[e]]:[[e]]}},{}],41:[function(t,e,n){"use strict";e.exports=function(t){var e=i(t),n=e.length;if(2>=n)return[];for(var r=new Array(n),o=e[n-1],s=0;n>s;++s){var a=e[s];r[s]=[o,a],o=a}return r};var i=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":44}],42:[function(t,e,n){"use strict";e.exports=function(t,e){try{return i(t,!0)}catch(s){var n=r(t);if(n.length<=e)return[];var o=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<e.length;++r)i[r]=t[e[r]];var o=e.length;for(r=0;n>r;++r)e.indexOf(r)<0&&(i[o++]=t[r]);return i}(t,n);return function(t,e){for(var n=t.length,i=e.length,r=0;n>r;++r)for(var o=t[r],s=0;s<o.length;++s){var a=o[s];if(i>a)o[s]=e[a];else{a-=i;for(var u=0;i>u;++u)a>=e[u]&&(a+=1);o[s]=a}}return t}(i(o,!0),n)}};var i=t("incremental-convex-hull"),r=t("affine-hull")},{"affine-hull":37,"incremental-convex-hull":43}],43:[function(t,e,n){"use strict";function i(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function r(t,e,n){this.vertices=t,this.cell=e,this.index=n}function o(t,e){return u(t.vertices,e.vertices)}function s(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var i=0;t>=i;++i)this.tuple[i]=this.vertices[i];var r=c[t];r||(r=c[t]=function(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;t>=n;++n)n>0&&e.push(","),e.push("tuple[",n,"]");e.push(")}return orient");var i=new Function("test",e.join("")),r=a[t+1];return r||(r=a),i(r)}(t)),this.orient=r}e.exports=function(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var r=t[0].length;if(r>=n)throw new Error("Must input at least d+1 points");var o=t.slice(0,r+1),u=a.apply(void 0,o);if(0===u)throw new Error("Input not in general position");for(var c=new Array(r+1),l=0;r>=l;++l)c[l]=l;0>u&&(c[0]=1,c[1]=0);var h=new i(c,new Array(r+1),!1),f=h.adjacent,d=new Array(r+2);for(l=0;r>=l;++l){for(var p=c.slice(),g=0;r>=g;++g)g===l&&(p[g]=-1);var m=p[0];p[0]=p[1],p[1]=m;var y=new i(p,new Array(r+1),!0);f[l]=y,d[l]=y}for(d[r+1]=h,l=0;r>=l;++l){p=f[l].vertices;var v=f[l].adjacent;for(g=0;r>=g;++g){var _=p[g];if(0>_)v[g]=h;else for(var b=0;r>=b;++b)f[b].vertices.indexOf(_)<0&&(v[g]=f[b])}}var x=new s(r,o,d),w=!!e;for(l=r+1;n>l;++l)x.insert(t[l],w);return x.boundary()};var a=t("robust-orientation"),u=t("simplicial-complex").compareCells;i.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var c=[],l=s.prototype;l.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,i=this.vertices.length-1,r=this.tuple,o=this.vertices,s=[t];for(t.lastVisited=-i;s.length>0;)for(var a=(t=s.pop()).adjacent,u=0;n>=u;++u){var c=a[u];if(c.boundary&&!(c.lastVisited<=-i)){for(var l=c.vertices,h=0;n>=h;++h){var f=l[h];r[h]=0>f?e:o[f]}var d=this.orient();if(d>0)return c;c.lastVisited=-i,0===d&&s.push(c)}}return null},l.walk=function(t,e){var n=this.vertices.length-1,i=this.dimension,r=this.vertices,o=this.tuple,s=e?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[s];t:for(;!a.boundary;){for(var u=a.vertices,c=a.adjacent,l=0;i>=l;++l)o[l]=r[u[l]];for(a.lastVisited=n,l=0;i>=l;++l){var h=c[l];if(!(h.lastVisited>=n)){var f=o[l];o[l]=t;var d=this.orient();if(o[l]=f,0>d){a=h;continue t}h.lastVisited=h.boundary?-n:n}}return}return a},l.addPeaks=function(t,e){var n=this.vertices.length-1,s=this.dimension,a=this.vertices,u=this.tuple,c=this.interior,l=this.simplices,h=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,c.push(e);for(var f=[];h.length>0;){var d=(e=h.pop()).vertices,p=e.adjacent,g=d.indexOf(n);if(!(0>g))for(var m=0;s>=m;++m)if(m!==g){var y=p[m];if(y.boundary&&!(y.lastVisited>=n)){var v=y.vertices;if(y.lastVisited!==-n){for(var _=0,b=0;s>=b;++b)v[b]<0?(_=b,u[b]=t):u[b]=a[v[b]];if(this.orient()>0){v[_]=n,y.boundary=!1,c.push(y),h.push(y),y.lastVisited=n;continue}y.lastVisited=-n}var x=y.adjacent,w=d.slice(),L=p.slice(),E=new i(w,L,!0);l.push(E);var C=x.indexOf(e);if(!(0>C))for(x[C]=E,L[g]=y,w[m]=-1,L[m]=e,p[m]=E,E.flip(),b=0;s>=b;++b){var S=w[b];if(!(0>S||S===n)){for(var I=new Array(s-1),N=0,P=0;s>=P;++P){var T=w[P];0>T||P===b||(I[N++]=T)}f.push(new r(I,E,b))}}}}}for(f.sort(o),m=0;m+1<f.length;m+=2){var M=f[m],A=f[m+1];0>M.index||0>A.index||(M.cell.adjacent[M.index]=A.cell,A.cell.adjacent[A.index]=M.cell)}},l.insert=function(t,e){var n=this.vertices;n.push(t);var i=this.walk(t,e);if(i){for(var r=this.dimension,o=this.tuple,s=0;r>=s;++s){var a=i.vertices[s];o[s]=0>a?t:n[a]}var u=this.orient(o);0>u||(0!==u||(i=this.handleBoundaryDegeneracy(i,t)))&&this.addPeaks(t,i)}},l.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,i=n.length,r=0;i>r;++r){var o=n[r];if(o.boundary){for(var s=new Array(t),a=o.vertices,u=0,c=0,l=0;t>=l;++l)a[l]>=0?s[u++]=a[l]:c=1&l;if(c===(1&t)){var h=s[0];s[0]=s[1],s[1]=h}e.push(s)}}return e}},{"robust-orientation":45,"simplicial-complex":49}],44:[function(t,e,n){"use strict";e.exports=function(t){var e=t.length;if(3>e){for(var n=new Array(e),r=0;e>r;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(r=0;e>r;++r)o[r]=r;o.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var s=[o[0],o[1]],a=[o[0],o[1]];for(r=2;e>r;++r){for(var u=o[r],c=t[u],l=s.length;l>1&&i(t[s[l-2]],t[s[l-1]],c)<=0;)l-=1,s.pop();for(s.push(u),l=a.length;l>1&&i(t[a[l-2]],t[a[l-1]],c)>=0;)l-=1,a.pop();a.push(u)}n=new Array(a.length+s.length-2);for(var h=0,f=(r=0,s.length);f>r;++r)n[h++]=s[r];for(var d=a.length-2;d>0;--d)n[h++]=a[d];return n};var i=t("robust-orientation")[3]},{"robust-orientation":45}],45:[function(t,e,n){"use strict";function i(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function r(t){return 1&t?"-":""}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",o(t.slice(0,e)),",",o(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",o(s(i(t,n))),",",r(n),t[0][n],")"].join(""));return e}function a(t){for(var e=[],n=[],r=function(t){for(var e=new Array(t),n=0;t>n;++n){e[n]=new Array(t);for(var i=0;t>i;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),a=[],f=0;t>f;++f)0==(1&f)?e.push.apply(e,s(i(r,f))):n.push.apply(n,s(i(r,f))),a.push("m"+f);var d=o(e),p=o(n),g="orientation"+t+"Exact",m=["function ",g,"(",a.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",m)(c,u,l,h)}var u=t("two-product"),c=t("robust-sum"),l=t("robust-scale"),h=t("robust-subtract"),f=a(3),d=a(4),p=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=r-o;if(r>0){if(0>=o)return s;i=r+o}else{if(!(0>r))return s;if(o>=0)return s;i=-(r+o)}var a=3.3306690738754716e-16*i;return s>=a||-a>=s?s:f(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],a=t[1]-i[1],u=e[1]-i[1],c=n[1]-i[1],l=t[2]-i[2],h=e[2]-i[2],f=n[2]-i[2],p=o*c,g=s*u,m=s*a,y=r*c,v=r*u,_=o*a,b=l*(p-g)+h*(m-y)+f*(v-_),x=7.771561172376103e-16*((Math.abs(p)+Math.abs(g))*Math.abs(l)+(Math.abs(m)+Math.abs(y))*Math.abs(h)+(Math.abs(v)+Math.abs(_))*Math.abs(f));return b>x||-b>x?b:d(t,e,n,i)}];!function(){for(;p.length<=5;)p.push(a(p.length));for(var t=[],n=["slow"],i=0;5>=i;++i)t.push("a"+i),n.push("o"+i);var r=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;5>=i;++i)r.push("case ",i,":return o",i,"(",t.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[function(t){var e=p[t.length];return e||(e=p[t.length]=a(t.length)),e.apply(void 0,t)}].concat(p)),i=0;5>=i;++i)e.exports[i]=p[i]}()},{"robust-scale":46,"robust-subtract":47,"robust-sum":48,"two-product":52}],46:[function(t,e,n){"use strict";var i=t("two-product"),r=t("two-sum");e.exports=function(t,e){var n=t.length;if(1===n){var o=i(t[0],e);return o[0]?o:[o[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],c=0;i(t[0],e,a),a[0]&&(s[c++]=a[0]);for(var l=1;n>l;++l){i(t[l],e,u),r(a[1],u[0],a),a[0]&&(s[c++]=a[0]);var h=u[1],f=a[1],d=h+f,p=f-(d-h);a[1]=d,p&&(s[c++]=p)}return a[1]&&(s[c++]=a[1]),0===c&&(s[c++]=0),s.length=c,s}},{"two-product":52,"two-sum":53}],47:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,s=new Array(n+i),a=0,u=0,c=0,l=Math.abs,h=t[u],f=l(h),d=-e[c],p=l(d);p>f?(o=h,n>(u+=1)&&(f=l(h=t[u]))):(o=d,i>(c+=1)&&(p=l(d=-e[c]))),n>u&&p>f||c>=i?(r=h,n>(u+=1)&&(f=l(h=t[u]))):(r=d,i>(c+=1)&&(p=l(d=-e[c])));for(var g,m,y=r+o,v=y-r,_=o-v,b=_,x=y;n>u&&i>c;)p>f?(r=h,n>(u+=1)&&(f=l(h=t[u]))):(r=d,i>(c+=1)&&(p=l(d=-e[c]))),(_=(o=b)-(v=(y=r+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g;for(;n>u;)(_=(o=b)-(v=(y=(r=h)+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g,n>(u+=1)&&(h=t[u]);for(;i>c;)(_=(o=b)-(v=(y=(r=d)+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g,i>(c+=1)&&(d=-e[c]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,s=new Array(n+i),a=0,u=0,c=0,l=Math.abs,h=t[u],f=l(h),d=e[c],p=l(d);p>f?(o=h,n>(u+=1)&&(f=l(h=t[u]))):(o=d,i>(c+=1)&&(p=l(d=e[c]))),n>u&&p>f||c>=i?(r=h,n>(u+=1)&&(f=l(h=t[u]))):(r=d,i>(c+=1)&&(p=l(d=e[c])));for(var g,m,y=r+o,v=y-r,_=o-v,b=_,x=y;n>u&&i>c;)p>f?(r=h,n>(u+=1)&&(f=l(h=t[u]))):(r=d,i>(c+=1)&&(p=l(d=e[c]))),(_=(o=b)-(v=(y=r+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g;for(;n>u;)(_=(o=b)-(v=(y=(r=h)+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g,n>(u+=1)&&(h=t[u]);for(;i>c;)(_=(o=b)-(v=(y=(r=d)+o)-r))&&(s[a++]=_),b=x-((g=x+y)-(m=g-x))+(y-m),x=g,i>(c+=1)&&(d=e[c]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s}},{}],49:[function(t,e,n){"use strict";"use restrict";function i(t,e){var n=t.length,i=t.length-e.length,r=Math.min;if(i)return i;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(a=t[0]+t[1]-e[0]-e[1])||r(t[0],t[1])-r(e[0],e[1]);case 3:var o=t[0]+t[1],s=e[0]+e[1];if(a=o+t[2]-(s+e[2]))return a;var a,u=r(t[0],t[1]),c=r(e[0],e[1]);return(a=r(u,t[2])-r(c,e[2]))||r(u+t[2],o)-r(c+e[2],s);default:var l=t.slice(0);l.sort();var h=e.slice(0);h.sort();for(var f=0;n>f;++f)if(i=l[f]-h[f])return i;return 0}}function r(t,e){return i(t[0],e[0])}function o(t,e){if(e){for(var n=t.length,o=new Array(n),s=0;n>s;++s)o[s]=[t[s],e[s]];for(o.sort(r),s=0;n>s;++s)t[s]=o[s][0],e[s]=o[s][1];return t}return t.sort(i),t}function s(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;n>r;++r){var o=t[r];if(i(o,t[r-1])){if(r===e){e++;continue}t[e++]=o}}return t.length=e,t}function a(t,e){for(var n=0,r=t.length-1,o=-1;r>=n;){var s=n+r>>1,a=i(t[s],e);0>=a?(0===a&&(o=s),n=s+1):a>0&&(r=s-1)}return o}function u(t,e){for(var n=new Array(t.length),r=0,o=n.length;o>r;++r)n[r]=[];for(var s=[],u=(r=0,e.length);u>r;++r)for(var c=e[r],h=c.length,f=1,d=1<<h;d>f;++f){s.length=l.popCount(f);for(var p=0,g=0;h>g;++g)f&1<<g&&(s[p++]=c[g]);var m=a(t,s);if(!(0>m))for(;n[m++].push(r),!(m>=t.length||0!==i(t[m],s)););}return n}function c(t,e){if(0>e)return[];for(var n=[],i=(1<<e+1)-1,r=0;r<t.length;++r)for(var s=t[r],a=i;a<1<<s.length;a=l.nextCombination(a)){for(var u=new Array(e+1),c=0,h=0;h<s.length;++h)a&1<<h&&(u[c++]=s[h]);n.push(u)}return o(n)}var l=t("bit-twiddle"),h=t("union-find");n.dimension=function(t){for(var e=0,n=Math.max,i=0,r=t.length;r>i;++i)e=n(e,t[i].length);return e-1},n.countVertices=function(t){for(var e=-1,n=Math.max,i=0,r=t.length;r>i;++i)for(var o=t[i],s=0,a=o.length;a>s;++s)e=n(e,o[s]);return e+1},n.cloneCells=function(t){for(var e=new Array(t.length),n=0,i=t.length;i>n;++n)e[n]=t[n].slice(0);return e},n.compareCells=i,n.normalize=o,n.unique=s,n.findCell=a,n.incidence=u,n.dual=function(t,e){if(!e)return u(s(c(t,0)),t);for(var n=new Array(e),i=0;e>i;++i)n[i]=[];i=0;for(var r=t.length;r>i;++i)for(var o=t[i],a=0,l=o.length;l>a;++a)n[o[a]].push(i);return n},n.explode=function(t){for(var e=[],n=0,i=t.length;i>n;++n)for(var r=t[n],s=0|r.length,a=1,u=1<<s;u>a;++a){for(var c=[],l=0;s>l;++l)a>>>l&1&&c.push(r[l]);e.push(c)}return o(e)},n.skeleton=c,n.boundary=function(t){for(var e=[],n=0,i=t.length;i>n;++n)for(var r=t[n],s=0,a=r.length;a>s;++s){for(var u=new Array(r.length-1),c=0,l=0;a>c;++c)c!==s&&(u[l++]=r[c]);e.push(u)}return o(e)},n.connectedComponents=function(t,e){return e?function(t,e){for(var n=new h(e),i=0;i<t.length;++i)for(var r=t[i],o=0;o<r.length;++o)for(var s=o+1;s<r.length;++s)n.link(r[o],r[s]);var a=[],u=n.ranks;for(i=0;i<u.length;++i)u[i]=-1;for(i=0;i<t.length;++i){var c=n.find(t[i][0]);u[c]<0?(u[c]=a.length,a.push([t[i].slice(0)])):a[u[c]].push(t[i].slice(0))}return a}(t,e):function(t){for(var e=s(o(c(t,0))),n=new h(e.length),i=0;i<t.length;++i)for(var r=t[i],u=0;u<r.length;++u)for(var l=a(e,[r[u]]),f=u+1;f<r.length;++f)n.link(l,a(e,[r[f]]));var d=[],p=n.ranks;for(i=0;i<p.length;++i)p[i]=-1;for(i=0;i<t.length;++i){var g=n.find(a(e,[t[i][0]]));p[g]<0?(p[g]=d.length,d.push([t[i].slice(0)])):d[p[g]].push(t[i].slice(0))}return d}(t)}},{"bit-twiddle":38,"union-find":54}],50:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],51:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-meta":98,dup:12}],52:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t*e,o=i*t,s=o-(o-t),a=t-s,u=i*e,c=u-(u-e),l=e-c,h=a*l-(r-s*c-a*c-s*l);return n?(n[0]=h,n[1]=r,n):[h,r]};var i=+(Math.pow(2,27)+1)},{}],53:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=t+e,r=i-t,o=e-r,s=t-(i-r);return n?(n[0]=s+o,n[1]=i,n):[s+o,i]}},{}],54:[function(t,e,n){"use strict";"use restrict";function i(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;t>e;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=i;var r=i.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var i=n[e];n[e]=t,e=i}return t},r.link=function(t,e){var n=this.find(t),i=this.find(e);if(n!==i){var r=this.ranks,o=this.roots,s=r[n],a=r[i];a>s?o[n]=i:s>a?o[i]=n:(o[i]=n,++r[n])}}},{}],55:[function(t,e,n){var i=t("turf-invariant").getCoord,r=t("turf-helpers"),o=r.point,s=r.distanceToRadians;e.exports=function(t,e,n,r){var a=Math.PI/180,u=180/Math.PI,c=i(t),l=a*c[0],h=a*c[1],f=a*n,d=s(e,r),p=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(f)),g=l+Math.atan2(Math.sin(f)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(p));return o([u*g,u*p])}},{"turf-helpers":56,"turf-invariant":57}],56:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],57:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-invariant":79,dup:14}],58:[function(t,e,n){var i=t("jsts");e.exports=function(t,e){var n=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e));"Feature"!==n.type&&(n={type:"Feature",properties:{},geometry:n}),"Feature"!==r.type&&(r={type:"Feature",properties:{},geometry:r});var o=new i.io.GeoJSONReader,s=o.read(JSON.stringify(n.geometry)),a=o.read(JSON.stringify(r.geometry)),u=s.difference(a);if(!u.isEmpty()){var c=(new i.io.GeoJSONWriter).write(u);return n.geometry=u,{type:"Feature",properties:n.properties,geometry:c}}}},{jsts:59}],59:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],60:[function(t,e,n){var i=t("turf-invariant").getCoord,r=t("turf-helpers").radiansToDistance;e.exports=function(t,e,n){var o=Math.PI/180,s=i(t),a=i(e),u=o*(a[0]-s[0]),c=o*s[1],l=o*a[1],h=Math.pow(Math.sin(o*(a[1]-s[1])/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(l);return r(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n)}},{"turf-helpers":61,"turf-invariant":62}],61:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],62:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-invariant":79,dup:14}],63:[function(t,e,n){var i=t("turf-bbox"),r=t("turf-bbox-polygon");e.exports=function(t){return r(i(t))}},{"turf-bbox":65,"turf-bbox-polygon":64}],64:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-bbox-polygon")},{"/Users/tmcw/src/turf/packages/turf-bbox-polygon":9}],65:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bbox":11,dup:23}],66:[function(t,e,n){var i=t("turf-helpers").featureCollection,r=t("turf-meta").coordEach,o=t("turf-helpers").point;e.exports=function(t){var e=[];return r(t,function(t){e.push(o(t))}),i(e)}},{"turf-helpers":67,"turf-meta":68}],67:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],68:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-meta":98,dup:12}],69:[function(t,e,n){var i=t("turf-meta").coordEach;e.exports=function(t){return t=JSON.parse(JSON.stringify(t)),i(t,function(t){t.reverse()}),t}},{"turf-meta":70}],70:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-meta":98,dup:12}],71:[function(t,e,n){function i(t,e){return{type:"Feature",properties:e||{},geometry:t}}e.exports.feature=i,e.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return i({type:"Point",coordinates:t.slice()},e)},e.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var n=0;n<t.length;n++){var r=t[n];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e)},e.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return i({type:"LineString",coordinates:t},e)},e.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},e.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return i({type:"MultiLineString",coordinates:t},e)},e.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPoint",coordinates:t},e)},e.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPolygon",coordinates:t},e)},e.exports.geometryCollection=function(t,e){return i({type:"GeometryCollection",geometries:t},e)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},e.exports.distanceToRadians=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},e.exports.distanceToDegrees=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},{}],72:[function(t,e,n){function i(t,e,n){for(var i=[],r=0;6>r;r++)i.push([t[0]+e*c[r],t[1]+n*l[r]]);return i.push(i[0]),s([i])}function r(t,e,n){for(var i=[],r=0;6>r;r++){var o=[];o.push(t),o.push([t[0]+e*c[r],t[1]+n*l[r]]),o.push([t[0]+e*c[(r+1)%6],t[1]+n*l[(r+1)%6]]),o.push(t),i.push(s([o]))}return i}for(var o=t("turf-helpers").point,s=t("turf-helpers").polygon,a=t("turf-distance"),u=t("turf-helpers").featureCollection,c=[],l=[],h=0;6>h;h++){var f=2*Math.PI/6*h;c.push(Math.cos(f)),l.push(Math.sin(f))}e.exports=function(t,e,n,s){var c=e/a(o([t[0],t[1]]),o([t[2],t[1]]),n)*(t[2]-t[0]),l=e/a(o([t[0],t[1]]),o([t[0],t[3]]),n)*(t[3]-t[1]),h=c/2,f=2*h,d=Math.sqrt(3)/2*l,p=t[2]-t[0],g=t[3]-t[1],m=.75*f,y=d,v=p/(f-h/2),_=Math.ceil(v);Math.round(v)===_&&_++;var b=(_*m-h/2-p)/2-h/2,x=Math.ceil(g/d),w=(g-x*d)/2,L=x*d-g>d/2;L&&(w-=d/4);for(var E=u([]),C=0;_>C;C++)for(var S=0;x>=S;S++){var I=C%2==1;if(!(0===S&&I||0===S&&L)){var N=C*m+t[0]-b,P=S*y+t[1]+w;I&&(P-=d/2),s?E.features.push.apply(E.features,r([N,P],c/2,l/2)):E.features.push(i([N,P],c/2,l/2))}}return E}},{"turf-distance":73,"turf-helpers":74}],73:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],74:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],75:[function(t,e,n){function i(t,e){for(var n=!1,i=0,r=e.length-1;i<e.length;r=i++){var o=e[i][0],s=e[i][1],a=e[r][1];s>t[1]!=a>t[1]&&t[0]<(e[r][0]-o)*(t[1]-s)/(a-s)+o&&(n=!n)}return n}var r=t("turf-invariant");e.exports=function(t,e){var n=r.getCoord(t),o=e.geometry.coordinates;"Polygon"===e.geometry.type&&(o=[o]);for(var s=0,a=!1;s<o.length&&!a;s++)if(i(n,o[s][0])){for(var u=!1,c=1;c<o[s].length&&!u;)i(n,o[s][c])&&(u=!0),c++;u||(a=!0)}return a}},{"turf-invariant":76}],76:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-invariant":79,dup:14}],77:[function(t,e,n){var i=t("jsts");e.exports=function(t,e){var n,r;n="Feature"===t.type?t.geometry:t,r="Feature"===e.type?e.geometry:e;var o=new i.io.GeoJSONReader,s=o.read(JSON.stringify(n)),a=o.read(JSON.stringify(r)),u=s.intersection(a);if(!u.isEmpty())return{type:"Feature",properties:{},geometry:(new i.io.GeoJSONWriter).write(u)}}},{jsts:78}],78:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],79:[function(t,e,n){e.exports.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.exports.collectionOf=function(t,e,n){if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}},e.exports.featureOf=function(t,e,n){if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.exports.getCoord=function(t){if(Array.isArray(t)&&"number"==typeof t[0]&&"number"==typeof t[1])return t;if(t){if("Feature"===t.type&&t.geometry&&"Point"===t.geometry.type&&Array.isArray(t.geometry.coordinates))return t.geometry.coordinates;if("Point"===t.type&&Array.isArray(t.coordinates))return t.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}},{}],80:[function(t,e,n){function i(t,e){var n=t.x-e.x,i=t.y-e.y;return a>n*n+i*i}function r(t){for(var e=t.head;e;){var n=e.next;e.next=e.prev,e.prev=n,e=n}n=t.head,t.head=t.tail,t.tail=n}function o(t){this.level=t,this.s=null,this.count=0}function s(t){if(t)this.drawContour=t;else{var e=this;e.contours={},this.drawContour=function(t,n,i,r,s,a){var u=e.contours[a];u||(u=e.contours[a]=new o(s)),u.addSegment({x:t,y:n},{x:i,y:r})},this.contourList=function(){var t=[],n=e.contours;for(var i in n)for(var r=n[i].s,o=n[i].level;r;){var s=r.head,a=[];for(a.level=o,a.k=i;s&&s.p;)a.push(s.p),s=s.next;t.push(a),r=r.next}return t.sort(function(t,e){return t.k-e.k}),t}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}e.exports=s;var a=1e-10;o.prototype.remove_seq=function(t){t.prev?t.prev.next=t.next:this.s=t.next,t.next&&(t.next.prev=t.prev),--this.count},o.prototype.addSegment=function(t,e){for(var n=this.s,o=null,s=null,a=!1,u=!1;n&&(null==o&&(i(t,n.head.p)?(o=n,a=!0):i(t,n.tail.p)&&(o=n)),null==s&&(i(e,n.head.p)?(s=n,u=!0):i(e,n.tail.p)&&(s=n)),null==s||null==o);)n=n.next;switch((null!=o?1:0)|(null!=s?2:0)){case 0:var c={p:t,prev:null},l={p:e,next:null};c.next=l,l.prev=c,o={head:c,tail:l,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=o),this.s=o,++this.count;break;case 1:var h={p:e};a?(h.next=o.head,h.prev=null,o.head.prev=h,o.head=h):(h.next=null,h.prev=o.tail,o.tail.next=h,o.tail=h);break;case 2:h={p:t},u?(h.next=s.head,h.prev=null,s.head.prev=h,s.head=h):(h.next=null,h.prev=s.tail,s.tail.next=h,s.tail=h);break;case 3:if(o===s){o.head.prev=h={p:o.tail.p,next:o.head,prev:null},o.head=h,o.closed=!0;break}switch((a?1:0)|(u?2:0)){case 0:r(o);case 1:s.tail.next=o.head,o.head.prev=s.tail,s.tail=o.tail,this.remove_seq(o);break;case 3:r(o);case 2:o.tail.next=s.head,s.head.prev=o.tail,o.tail=s.tail,this.remove_seq(s)}}},s.prototype.contour=function(t,e,n,i,r,o,s,u,c){var l=this.h,h=this.sh,f=this.xh,d=this.yh,p=this.drawContour;this.contours={};for(var g,m,y,v,_,b,x=function(t,e){return(l[e]*f[t]-l[t]*f[e])/(l[e]-l[t])},w=function(t,e){return(l[e]*d[t]-l[t]*d[e])/(l[e]-l[t])},L=0,E=0,C=0,S=0,I=[0,1,1,0],N=[0,0,1,1],P=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],T=r-1;T>=i;T--)for(var M=e;n-1>=M;M++){var A,O;if(A=Math.min(t[M][T],t[M][T+1]),O=Math.min(t[M+1][T],t[M+1][T+1]),_=Math.min(A,O),A=Math.max(t[M][T],t[M][T+1]),O=Math.max(t[M+1][T],t[M+1][T+1]),(b=Math.max(A,O))>=c[0]&&_<=c[u-1])for(var R=0;u>R;R++)if(c[R]>=_&&c[R]<=b){for(var D=4;D>=0;D--)D>0?(l[D]=t[M+I[D-1]][T+N[D-1]]-c[R],f[D]=o[M+I[D-1]],d[D]=s[T+N[D-1]]):(l[0]=.25*(l[1]+l[2]+l[3]+l[4]),f[0]=.5*(o[M]+o[M+1]),d[0]=.5*(s[T]+s[T+1])),h[D]=l[D]>a?1:l[D]<-a?-1:0;for(D=1;4>=D;D++)if(0!=(v=P[h[g=D]+1][h[m=0]+1][h[y=4!=D?D+1:1]+1])){switch(v){case 1:L=f[g],C=d[g],E=f[m],S=d[m];break;case 2:L=f[m],C=d[m],E=f[y],S=d[y];break;case 3:L=f[y],C=d[y],E=f[g],S=d[g];break;case 4:L=f[g],C=d[g],E=x(m,y),S=w(m,y);break;case 5:L=f[m],C=d[m],E=x(y,g),S=w(y,g);break;case 6:L=f[y],C=d[y],E=x(g,m),S=w(g,m);break;case 7:L=x(g,m),C=w(g,m),E=x(m,y),S=w(m,y);break;case 8:L=x(m,y),C=w(m,y),E=x(y,g),S=w(y,g);break;case 9:L=x(y,g),C=w(y,g),E=x(g,m),S=w(g,m)}p(L,C,E,S,c[R],R)}}}}},{}],81:[function(t,e,n){var i=t("turf-tin"),r=t("turf-inside"),o=t("turf-grid"),s=t("turf-bbox"),a=t("turf-planepoint"),u=t("turf-helpers").featureCollection,c=t("turf-helpers").lineString,l=t("turf-square"),h=t("./conrec");e.exports=function(t,e,n,f){for(var d=i(t,e),p=s(t),g=l(p),m=o(g,n),y=[],v=0;v<m.features.length;v++)for(var _=m.features[v],b=0;b<d.features.length;b++){var x=d.features[b];r(_,x)&&(_.properties={},_.properties[e]=a(_,x))}for(var w=Math.sqrt(m.features.length),L=0;w>L;L++){for(var E=m.features.slice(L*w,(L+1)*w),C=[],S=0;S<E.length;S++)C.push(E[S].properties?E[S].properties[e]:0);y.push(C)}for(var I=(g[2]-g[0])/w,N=[],P=[],T=0;w>T;T++)N.push(T*I+g[0]),P.push(T*I+g[1]);var M=new h;M.contour(y,0,n,0,n,N,P,f.length,f);var A=M.contourList(),O=u([]);return A.forEach(function(t){if(t.length>2){var n=[];t.forEach(function(t){n.push([t.x,t.y])});var i=c(n);i.properties={},i.properties[e]=t.level,O.features.push(i)}}),O}},{"./conrec":80,"turf-bbox":82,"turf-grid":83,"turf-helpers":84,"turf-inside":85,"turf-planepoint":86,"turf-square":88,"turf-tin":89}],82:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bbox":11,dup:23}],83:[function(t,e,n){var i=t("turf-point");e.exports=function(t,e){for(var n=t[0],r=t[1],o=(t[2]-n)/e,s={type:"FeatureCollection",features:[]},a=0;e>=a;a++)for(var u=0;e>=u;u++)s.features.push(i([a*o+n,u*o+r]));return s}},{"turf-point":87}],84:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],85:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-inside":75,dup:29}],86:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-planepoint")},{"/Users/tmcw/src/turf/packages/turf-planepoint":105}],87:[function(t,e,n){var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t,e){if(!i(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},{}],88:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-square")},{"/Users/tmcw/src/turf/packages/turf-square":129}],89:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-tin":136,dup:34}],90:[function(t,e,n){function i(t,e,n,i,r,o,s,a){var u,c,l,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(h=(s-r)*(c=e-o)-(a-o)*(l=t-r),l=((n-t)*c-(i-e)*l)/u,f.x=t+(c=h/u)*(n-t),f.y=e+c*(i-e),c>=0&&1>=c&&(f.onLine1=!0),l>=0&&1>=l&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}var r=t("turf-helpers").point;e.exports=function(t){var e,n={type:"FeatureCollection",features:[]};return(e="Feature"===t.type?t.geometry:t).coordinates.forEach(function(t){e.coordinates.forEach(function(e){for(var o=0;o<t.length-1;o++)for(var s=0;s<e.length-1;s++)if(t!==e||1!==Math.abs(o-s)&&Math.abs(o-s)!==t.length-2){var a=i(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);a&&n.features.push(r([a[0],a[1]]))}})}),n}},{"turf-helpers":91}],91:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],92:[function(t,e,n){function i(t,e){for(var n,i=0,s=o(t[0]),a=o(t[0]),u=1;u<t.length;u++)a.geometry.coordinates=t[u],i+=r(s,a,e),n=s,s=a,a=n;return i}var r=t("turf-distance"),o=t("turf-helpers").point;e.exports=function t(e,n){if("FeatureCollection"===e.type)return e.features.reduce(function(e,i){return e+t(i,n)},0);var r,o,s="Feature"===e.type?e.geometry:e;if("LineString"===s.type)return i(s.coordinates,n);if("Polygon"===s.type||"MultiLineString"===s.type){for(r=0,o=0;o<s.coordinates.length;o++)r+=i(s.coordinates[o],n);return r}if("MultiPolygon"===e.type){for(r=0,o=0;o<s.coordinates.length;o++)for(var a=0;a<s.coordinates[o].length;a++)r+=i(s.coordinates[o][a],n);return r}throw new Error("input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection containing only those types)")}},{"turf-distance":93,"turf-helpers":94}],93:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],94:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],95:[function(t,e,n){var i=t("turf-helpers").lineString,r=t("turf-point-on-line");e.exports=function(t,e,n){var o;if("Feature"===n.type)o=n.geometry.coordinates;else{if("LineString"!==n.type)throw new Error("input must be a LineString Feature or Geometry");o=n.coordinates}for(var s,a=r(n,t),u=r(n,e),c=i([(s=a.properties.index<=u.properties.index?[a,u]:[u,a])[0].geometry.coordinates],{}),l=s[0].properties.index+1;l<s[1].properties.index+1;l++)c.geometry.coordinates.push(o[l]);return c.geometry.coordinates.push(s[1].geometry.coordinates),c}},{"turf-helpers":96,"turf-point-on-line":97}],96:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],97:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-point-on-line")},{"/Users/tmcw/src/turf/packages/turf-point-on-line":109}],98:[function(t,e,n){function i(t,e,n){var i,r,o,s,a,u,c,l,h,f,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,m=p?t.features.length:1;for(i=0;m>i;i++)for(c=(f="GeometryCollection"===(h=p?t.features[i].geometry:g?t.geometry:t).type)?h.geometries.length:1,s=0;c>s;s++)if(l=(u=f?h.geometries[s]:h).coordinates,d=!n||"Polygon"!==u.type&&"MultiPolygon"!==u.type?0:1,"Point"===u.type)e(l);else if("LineString"===u.type||"MultiPoint"===u.type)for(r=0;r<l.length;r++)e(l[r]);else if("Polygon"===u.type||"MultiLineString"===u.type)for(r=0;r<l.length;r++)for(o=0;o<l[r].length-d;o++)e(l[r][o]);else{if("MultiPolygon"!==u.type)throw new Error("Unknown Geometry Type");for(r=0;r<l.length;r++)for(o=0;o<l[r].length;o++)for(a=0;a<l[r][o].length-d;a++)e(l[r][o][a])}}function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties);break;case"Feature":e(t.properties)}}e.exports.coordEach=i,e.exports.coordReduce=function(t,e,n,r){return i(t,function(t){n=e(n,t)},r),n},e.exports.propEach=r,e.exports.propReduce=function(t,e,n){return r(t,function(t){n=e(n,t)}),n},e.exports.featureEach=function(t,e){if("Feature"===t.type)e(t);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n])},e.exports.coordAll=function(t){var e=[];return i(t,function(t){e.push(t)}),e}},{}],99:[function(t,e,n){var i=t("turf-bearing"),r=t("turf-destination"),o=t("turf-distance");e.exports=function(t,e){var n=o(t,e,"miles"),s=i(t,e);return r(t,n/2,s,"miles")}},{"turf-bearing":100,"turf-destination":101,"turf-distance":102}],100:[function(t,e,n){arguments[4][2][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bearing":13,dup:2}],101:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-destination":55,dup:3}],102:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],103:[function(t,e,n){var i=t("turf-distance");e.exports=function(t,e){for(var n,r=1/0,o=0;o<e.features.length;o++){var s=i(t,e.features[o],"miles");r>s&&(n=e.features[o],r=s)}return n}},{"turf-distance":104}],104:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],105:[function(t,e,n){e.exports=function(t,e){var n=t.geometry.coordinates[0],i=t.geometry.coordinates[1],r=e.geometry.coordinates[0][0][0],o=e.geometry.coordinates[0][0][1],s=e.properties.a,a=e.geometry.coordinates[0][1][0],u=e.geometry.coordinates[0][1][1],c=e.properties.b,l=e.geometry.coordinates[0][2][0],h=e.geometry.coordinates[0][2][1],f=e.properties.c;return(f*(n-r)*(i-u)+s*(n-a)*(i-h)+c*(n-l)*(i-o)-c*(n-r)*(i-h)-f*(n-a)*(i-o)-s*(n-l)*(i-u))/((n-r)*(i-u)+(n-a)*(i-h)+(n-l)*(i-o)-(n-r)*(i-h)-(n-a)*(i-o)-(n-l)*(i-u))}},{}],106:[function(t,e,n){var i=t("turf-helpers").point,r=t("turf-helpers").featureCollection,o=t("turf-distance");e.exports=function(t,e,n){for(var s=r([]),a=e/o(i([t[0],t[1]]),i([t[2],t[1]]),n)*(t[2]-t[0]),u=e/o(i([t[0],t[1]]),i([t[0],t[3]]),n)*(t[3]-t[1]),c=t[0];c<=t[2];){for(var l=t[1];l<=t[3];)s.features.push(i([c,l])),l+=u;c+=a}return s}},{"turf-distance":107,"turf-helpers":108}],107:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],108:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],109:[function(t,e,n){function i(t,e,n,i,r,o,s,a){var u,c,l,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(h=(s-r)*(c=e-o)-(a-o)*(l=t-r),l=((n-t)*c-(i-e)*l)/u,f.x=t+(c=h/u)*(n-t),f.y=e+c*(i-e),c>0&&1>c&&(f.onLine1=!0),l>0&&1>l&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}var r=t("turf-distance"),o=t("turf-helpers").point,s=t("turf-bearing"),a=t("turf-destination");e.exports=function(t,e){var n;if("Feature"===t.type)n=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");n=t.coordinates}return function(t,e){for(var n="miles",u=o([1/0,1/0],{dist:1/0}),c=0;c<e.length-1;c++){var l=o(e[c]),h=o(e[c+1]);l.properties.dist=r(t,l,n),h.properties.dist=r(t,h,n);var f,d=Math.max(l.properties.dist,h.properties.dist),p=s(l,h),g=a(t,d,p+90,n),m=a(t,d,p-90,n),y=i(g.geometry.coordinates[0],g.geometry.coordinates[1],m.geometry.coordinates[0],m.geometry.coordinates[1],l.geometry.coordinates[0],l.geometry.coordinates[1],h.geometry.coordinates[0],h.geometry.coordinates[1]);y&&((f=o(y)).properties.dist=r(t,f,n)),l.properties.dist<u.properties.dist&&((u=l).properties.index=c),h.properties.dist<u.properties.dist&&((u=h).properties.index=c),f&&f.properties.dist<u.properties.dist&&((u=f).properties.index=c)}return u}(e,n)}},{"turf-bearing":110,"turf-destination":111,"turf-distance":112,"turf-helpers":113}],110:[function(t,e,n){arguments[4][2][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bearing":13,dup:2}],111:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-destination":55,dup:3}],112:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],113:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],114:[function(t,e,n){function i(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))||void 0}var r=t("turf-helpers").featureCollection,o=t("turf-center"),s=t("turf-distance"),a=t("turf-inside"),u=t("turf-explode");e.exports=function(t){"FeatureCollection"!==t.type&&("Feature"!==t.type&&(t={type:"Feature",geometry:t,properties:{}}),t=r([t]));for(var e=o(t),n=!1,c=0;!n&&c<t.features.length;){var l,h=t.features[c].geometry,f=!1;if("Point"===h.type)e.geometry.coordinates[0]===h.coordinates[0]&&e.geometry.coordinates[1]===h.coordinates[1]&&(n=!0);else if("MultiPoint"===h.type){var d=!1;for(l=0;!d&&l<h.coordinates.length;)e.geometry.coordinates[0]===h.coordinates[l][0]&&e.geometry.coordinates[1]===h.coordinates[l][1]&&(n=!0,d=!0),l++}else if("LineString"===h.type)for(l=0;!f&&l<h.coordinates.length-1;)i(e.geometry.coordinates[0],e.geometry.coordinates[1],h.coordinates[l][0],h.coordinates[l][1],h.coordinates[l+1][0],h.coordinates[l+1][1])&&(f=!0,n=!0),l++;else if("MultiLineString"===h.type)for(var p=0;p<h.coordinates.length;){f=!1,l=0;for(var g=h.coordinates[p];!f&&l<g.length-1;)i(e.geometry.coordinates[0],e.geometry.coordinates[1],g[l][0],g[l][1],g[l+1][0],g[l+1][1])&&(f=!0,n=!0),l++;p++}else"Polygon"!==h.type&&"MultiPolygon"!==h.type||a(e,{type:"Feature",geometry:h,properties:{}})&&(n=!0);c++}if(n)return e;var m=r([]);for(c=0;c<t.features.length;c++)m.features=m.features.concat(u(t.features[c]).features);var y,v=1/0;for(c=0;c<m.features.length;c++){var _=s(e,m.features[c],"miles");v>_&&(v=_,y=m.features[c])}return y}},{"turf-center":115,"turf-distance":116,"turf-explode":117,"turf-helpers":118,"turf-inside":119}],115:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-center")},{"/Users/tmcw/src/turf/packages/turf-center":22}],116:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],117:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-explode")},{"/Users/tmcw/src/turf/packages/turf-explode":66}],118:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],119:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-inside":75,dup:29}],120:[function(t,e,n){var i=t("geojson-random");e.exports=function(t,e,n){switch(n=n||{},e=e||1,t){case"point":case"points":case void 0:return i.point(e,n.bbox);case"polygon":case"polygons":return i.polygon(e,n.num_vertices,n.max_radial_length,n.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},{"geojson-random":121}],121:[function(t,e,n){function r(t){return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[a(),u()]}function o(t){return function(e,n){return[e[0]+t[0],e[1]+t[1]]}}function s(){return Math.random()-.5}function a(){return 360*s()}function u(){return 180*s()}function c(t){return{type:"Point",coordinates:t||[a(),u()]}}function l(t){return{type:"Polygon",coordinates:t}}function h(t){return{type:"Feature",geometry:t,properties:{}}}function f(t){return{type:"FeatureCollection",features:t}}e.exports=function(){throw new Error("call .point() or .polygon() instead")},e.exports.position=r,e.exports.point=function(t,e){var n=[];for(i=0;i<t;i++)n.push(h(e?c(r(e)):c()));return f(n)},e.exports.polygon=function(t,e,n,s){function a(t,e,n){n[e]=e>0?t+n[e-1]:t}function u(t,e){t=2*t*Math.PI/p[p.length-1];var i=Math.random();d.push([i*n*Math.sin(t),i*n*Math.cos(t)])}"number"!=typeof e&&(e=10),"number"!=typeof n&&(n=10);var c=[];for(i=0;i<t;i++){var d=[],p=Array.apply(null,new Array(e+1)).map(Math.random);p.forEach(a),p.forEach(u),d[d.length-1]=d[0],d=d.map(o(r(s))),c.push(h(l([d])))}return f(c)}},{}],122:[function(t,e,n){var i=t("turf-helpers").featureCollection;e.exports=function(t,e){return i(function(t,e){for(var n,i,r=t.slice(0),o=t.length,s=o-e;o-- >s;)n=r[i=Math.floor((o+1)*Math.random())],r[i]=r[o],r[o]=n;return r.slice(s)}(t.features,e))}},{"turf-helpers":123}],123:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],124:[function(t,e,n){function i(t,e,n){return"LineString"===t.geometry.type?{type:"LineString",coordinates:s(t.geometry.coordinates,e,n)}:"MultiLineString"===t.geometry.type?{type:"MultiLineString",coordinates:t.geometry.coordinates.map(function(t){return s(t,e,n)})}:"Polygon"===t.geometry.type?{type:"Polygon",coordinates:a(t.geometry.coordinates,e,n)}:"MultiPolygon"===t.geometry.type?{type:"MultiPolygon",coordinates:t.geometry.coordinates.map(function(t){return a(t,e,n)})}:t}function r(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}function o(t,e){return{type:"Feature",geometry:t,properties:e}}function s(t,e,n){return u(t.map(function(t){return{x:t[0],y:t[1]}}),e,n).map(function(t){return[t.x,t.y]})}function a(t,e,n){return t.map(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});if(i.length<4)throw new Error("Invalid polygon");for(var o=u(i,e,n).map(function(t){return[t.x,t.y]});!r(o);)o=u(i,e-=.01*e,n).map(function(t){return[t.x,t.y]});return(o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1])&&o.push(o[0]),o})}var u=t("simplify-js"),c=["LineString","MultiLineString","Polygon","MultiPolygon"];e.exports=function(t,e,n){return"Feature"===t.type?o(i(t,e,n),t.properties):"FeatureCollection"===t.type?{type:"FeatureCollection",features:t.features.map(function(t){var r=i(t,e,n);return c.indexOf(r.type)>-1?o(r,t.properties):r})}:"GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(function(t){return c.indexOf(t.type)>-1?i({type:"Feature",geometry:t},e,n):t})}:t}},{"simplify-js":125}],125:[function(t,e,n){!function(){"use strict";function t(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function n(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return(o=t.x-i)*o+(s=t.y-r)*s}function i(e,n){for(var i,r=e[0],o=[r],s=1,a=e.length;a>s;s++)t(i=e[s],r)>n&&(o.push(i),r=i);return r!==i&&o.push(i),o}function r(t,e){var i,r,o,s,a=t.length,u=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(a),c=0,l=a-1,h=[],f=[];for(u[c]=u[l]=1;l;){for(r=0,i=c+1;l>i;i++)(o=n(t[i],t[c],t[l]))>r&&(s=i,r=o);r>e&&(u[s]=1,h.push(c,s,s,l)),l=h.pop(),c=h.pop()}for(i=0;a>i;i++)u[i]&&f.push(t[i]);return f}function o(t,e,n){var o=void 0!==e?e*e:1;return r(t=n?t:i(t,o),o)}"undefined"!=typeof e?e.exports=o:"undefined"!=typeof self?self.simplify=o:window.simplify=o}()},{}],126:[function(t,e,n){var i=t("turf-helpers").featureCollection,r=t("turf-helpers").point,o=t("turf-helpers").polygon,s=t("turf-distance");e.exports=function(t,e,n){for(var a=i([]),u=e/s(r([t[0],t[1]]),r([t[2],t[1]]),n)*(t[2]-t[0]),c=e/s(r([t[0],t[1]]),r([t[0],t[3]]),n)*(t[3]-t[1]),l=t[0];l<=t[2];){for(var h=t[1];h<=t[3];){var f=o([[[l,h],[l,h+c],[l+u,h+c],[l+u,h],[l,h]]]);a.features.push(f),h+=c}l+=u}return a}},{"turf-distance":127,"turf-helpers":128}],127:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],128:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],129:[function(t,e,n){var i=t("turf-distance");e.exports=function(t){if(i(t.slice(0,2),[t[2],t[1]],"miles")>=i(t.slice(0,2),[t[0],t[3]],"miles")){var e=(t[1]+t[3])/2;return[t[0],e-(t[2]-t[0])/2,t[2],e+(t[2]-t[0])/2]}var n=(t[0]+t[2])/2;return[n-(t[3]-t[1])/2,t[1],n+(t[3]-t[1])/2,t[3]]}},{"turf-distance":130}],130:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],131:[function(t,e,n){var i=t("turf-inside");e.exports=function(t,e,n,r){return t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),t.features.forEach(function(t){t.properties||(t.properties={}),e.features.forEach(function(e){void 0===t.properties[r]&&i(t,e)&&(t.properties[r]=e.properties[n])})}),t}},{"turf-inside":132}],132:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-inside":75,dup:29}],133:[function(t,e,n){function i(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;e>s;s++)n.vertices.push(t[r][o][s]);r>0&&n.holes.push(i+=t[r-1].length)}return n}(t),n=o(e.vertices,e.holes,2),i=[],s=[];n.forEach(function(t,i){var r=n[i];s.push([e.vertices[2*r],e.vertices[2*r+1]])});for(var a=0;a<s.length;a+=3){var u=s.slice(a,a+3);u.push(s[a]),i.push(r([u]))}return i}var r=t("turf-helpers").polygon,o=t("earcut");e.exports=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=i(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(i(t))}),e}},{earcut:134,"turf-helpers":135}],134:[function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,o,a,u,c,l,f,d=e&&e.length,p=d?e[0]*n:t.length,g=r(t,0,p,n,!0),m=[];if(!g)return m;if(d&&(g=h(t,e,g,n)),t.length>80*n){i=a=t[0],o=u=t[1];for(var y=n;p>y;y+=n)l=t[y+1],i>(c=t[y])&&(i=c),o>l&&(o=l),c>a&&(a=c),l>u&&(u=l);f=Math.max(a-i,u-o)}return s(g,m,n,i,o,f),m}function r(t,e,n,i,r){var o,s;if(r===S(t,e,n,i)>0)for(o=e;n>o;o+=i)s=L(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=L(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!_(i,i.next)&&0!==v(i.prev,i,i.next))i=i.next;else{if(E(i),(i=e=i.prev)===i.next)return null;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,h,f){if(t){!f&&h&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=p(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;c>e&&(a++,i=i.nextZ);e++);for(u=c;a>0||u>0&&i;)0===a?(r=i,i=i.nextZ,u--):0!==u&&i?n.z<=i.z?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--):(r=n,n=n.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(t,i,r,h);for(var d,g,m=t;t.prev!==t.next;)if(d=t.prev,g=t.next,h?u(t,i,r,h):a(t))e.push(d.i/n),e.push(t.i/n),e.push(g.i/n),E(t),t=g.next,m=g.next;else if((t=g)===m){f?1===f?s(t=c(t,e,n),e,n,i,r,h,2):2===f&&l(t,e,n,i,r,h):s(o(t),e,n,i,r,h,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(v(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(m(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&v(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(v(r,o,s)>=0)return!1;for(var a=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=p(r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,e,n,i),l=p(a,u,e,n,i),h=t.nextZ;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&v(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&v(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function c(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!_(r,o)&&b(r,i,i.next,o)&&x(r,o)&&x(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),E(i),E(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,n,i,r,a){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&y(u,c)){var l=w(u,c);return u=o(u,u.next),l=o(l,l.next),s(u,e,n,i,r,a),void s(l,e,n,i,r,a)}c=c.next}u=u.next}while(u!==t)}function h(t,e,n,i){var s,a,u,c=[];for(s=0,a=e.length;a>s;s++)(u=r(t,e[s]*i,a-1>s?e[s+1]*i:t.length,i,!1))===u.next&&(u.steiner=!0),c.push(g(u));for(c.sort(f),s=0;s<c.length;s++)d(c[s],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(r>=a&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,c=n,l=n.x,h=n.y,f=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=l&&m(h>o?r:s,o,l,h,h>o?s:r,o,i.x,i.y)&&(f>(u=Math.abs(o-i.y)/(r-i.x))||u===f&&i.x>n.x)&&x(i,t)&&(n=i,f=u),i=i.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function p(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,i){return!!(_(t,e)&&_(n,i)||_(t,i)&&_(n,e))||v(t,e,n)>0!=v(t,e,i)>0&&v(n,i,t)>0!=v(n,i,e)>0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function w(t,e){var n=new C(t.i,t.x,t.y),i=new C(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function L(t,e,n,i){var r=new C(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,i){for(var r=0,o=e,s=n-i;n>o;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}e.exports=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(S(t,0,r?e[0]*n:t.length,n));if(r)for(var s=0,a=e.length;a>s;s++)o-=Math.abs(S(t,e[s]*n,a-1>s?e[s+1]*n:t.length,n));var u=0;for(s=0;s<i.length;s+=3){var c=i[s]*n,l=i[s+1]*n,h=i[s+2]*n;u+=Math.abs((t[c]-t[h])*(t[l+1]-t[c+1])-(t[c]-t[l])*(t[h+1]-t[c+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;e>s;s++)n.vertices.push(t[r][o][s]);r>0&&n.holes.push(i+=t[r-1].length)}return n}},{}],135:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],136:[function(t,e,n){function i(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o,s,a=e.x-t.x,u=e.y-t.y,c=n.x-t.x,l=n.y-t.y,h=a*(t.x+e.x)+u*(t.y+e.y),f=c*(t.x+n.x)+l*(t.y+n.y),d=2*(a*(n.y-e.y)-u*(n.x-e.x));Math.abs(d)<1e-6?(i=Math.min(t.x,e.x,n.x),r=Math.min(t.y,e.y,n.y),o=.5*(Math.max(t.x,e.x,n.x)-i),s=.5*(Math.max(t.y,e.y,n.y)-r),this.x=i+o,this.y=r+s,this.r=o*o+s*s):(this.x=(l*h-u*f)/d,this.y=(a*f-c*h)/d,this.r=(o=this.x-t.x)*o+(s=this.y-t.y)*s)}function r(t,e){return e.x-t.x}function o(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],r=t[--i],e===r&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}var s=t("turf-helpers").polygon,a=t("turf-helpers").featureCollection;e.exports=function(t,e){return a(function(t){if(t.length<3)return[];t.sort(r);for(var e=t.length-1,n=t[e].x,s=t[0].x,a=t[e].y,u=a;e--;)t[e].y<a&&(a=t[e].y),t[e].y>u&&(u=t[e].y);var c,l,h,f=s-n,d=u-a,p=f>d?f:d,g=.5*(s+n),m=.5*(u+a),y=[new i({x:g-20*p,y:m-p,__sentinel:!0},{x:g,y:m+20*p,__sentinel:!0},{x:g+20*p,y:m-p,__sentinel:!0})],v=[],_=[];for(e=t.length;e--;){for(_.length=0,c=y.length;c--;)(f=t[e].x-y[c].x)>0&&f*f>y[c].r?(v.push(y[c]),y.splice(c,1)):f*f+(d=t[e].y-y[c].y)*d>y[c].r||(_.push(y[c].a,y[c].b,y[c].b,y[c].c,y[c].c,y[c].a),y.splice(c,1));for(o(_),c=_.length;c;)h=_[--c],l=_[--c],y.push(new i(l,h,t[e]))}for(Array.prototype.push.apply(v,y),e=v.length;e--;)(v[e].a.__sentinel||v[e].b.__sentinel||v[e].c.__sentinel)&&v.splice(e,1);return v}(t.features.map(function(t){var n={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e&&(n.z=t.properties[e]),n})).map(function(t){return s([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})}))}},{"turf-helpers":137}],137:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],138:[function(t,e,n){var i=t("turf-helpers").featureCollection,r=t("turf-helpers").polygon,o=t("turf-distance");e.exports=function(t,e,n){for(var s=i([]),a=e/o([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/o([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,l=t[0];l<=t[2];){for(var h=0,f=t[1];f<=t[3];)c%2==0&&h%2==0?s.features.push(r([[[l,f],[l,f+u],[l+a,f],[l,f]]]),r([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]])):c%2==0&&h%2==1?s.features.push(r([[[l,f],[l+a,f+u],[l+a,f],[l,f]]]),r([[[l,f],[l,f+u],[l+a,f+u],[l,f]]])):h%2==0&&c%2==1?s.features.push(r([[[l,f],[l,f+u],[l+a,f+u],[l,f]]]),r([[[l,f],[l+a,f+u],[l+a,f],[l,f]]])):h%2==1&&c%2==1&&s.features.push(r([[[l,f],[l,f+u],[l+a,f],[l,f]]]),r([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]])),f+=u,h++;c++,l+=a}return s}},{"turf-distance":139,"turf-helpers":140}],139:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],140:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],141:[function(t,e,n){var i=t("jsts");e.exports=function(t,e){var n=new i.io.GeoJSONReader,r=n.read(JSON.stringify(t.geometry)),o=n.read(JSON.stringify(e.geometry)),s=r.union(o);return{type:"Feature",geometry:s=(new i.io.GeoJSONWriter).write(s),properties:t.properties}}},{jsts:142}],142:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],143:[function(t,e,n){var i=t("turf-inside"),r=t("turf-helpers").featureCollection;e.exports=function(t,e){for(var n=r([]),o=0;o<e.features.length;o++)for(var s=0;s<t.features.length;s++)i(t.features[s],e.features[o])&&n.features.push(t.features[s]);return n}},{"turf-helpers":144,"turf-inside":145}],144:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],145:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-inside":75,dup:29}],146:[function(t,e,n){e.exports={isolines:t("turf-isolines"),convex:t("turf-convex"),within:t("turf-within"),concave:t("turf-concave"),difference:t("turf-difference"),collect:t("turf-collect"),flip:t("turf-flip"),simplify:t("turf-simplify"),bezier:t("turf-bezier"),tag:t("turf-tag"),sample:t("turf-sample"),envelope:t("turf-envelope"),square:t("turf-square"),midpoint:t("turf-midpoint"),buffer:t("turf-buffer"),center:t("turf-center"),centroid:t("turf-centroid"),combine:t("turf-combine"),distance:t("turf-distance"),explode:t("turf-explode"),bbox:t("turf-bbox"),tesselate:t("turf-tesselate"),bboxPolygon:t("turf-bbox-polygon"),inside:t("turf-inside"),intersect:t("turf-intersect"),nearest:t("turf-nearest"),planepoint:t("turf-planepoint"),random:t("turf-random"),tin:t("turf-tin"),union:t("turf-union"),bearing:t("turf-bearing"),destination:t("turf-destination"),kinks:t("turf-kinks"),pointOnSurface:t("turf-point-on-surface"),area:t("turf-area"),along:t("turf-along"),lineDistance:t("turf-line-distance"),lineSlice:t("turf-line-slice"),pointOnLine:t("turf-point-on-line"),pointGrid:t("turf-point-grid"),squareGrid:t("turf-square-grid"),triangleGrid:t("turf-triangle-grid"),hexGrid:t("turf-hex-grid")};var i=t("turf-helpers");e.exports.point=i.point,e.exports.polygon=i.polygon,e.exports.lineString=i.lineString,e.exports.multiPoint=i.multiPoint,e.exports.multiPolygon=i.multiPolygon,e.exports.multiLineString=i.multiLineString,e.exports.feature=i.feature,e.exports.featureCollection=i.featureCollection,e.exports.geometryCollection=i.geometryCollection},{"turf-along":147,"turf-area":148,"turf-bbox":150,"turf-bbox-polygon":149,"turf-bearing":151,"turf-bezier":152,"turf-buffer":153,"turf-center":154,"turf-centroid":155,"turf-collect":156,"turf-combine":157,"turf-concave":158,"turf-convex":159,"turf-destination":160,"turf-difference":161,"turf-distance":162,"turf-envelope":163,"turf-explode":164,"turf-flip":165,"turf-helpers":166,"turf-hex-grid":167,"turf-inside":168,"turf-intersect":169,"turf-isolines":170,"turf-kinks":171,"turf-line-distance":172,"turf-line-slice":173,"turf-midpoint":174,"turf-nearest":175,"turf-planepoint":176,"turf-point-grid":177,"turf-point-on-line":178,"turf-point-on-surface":179,"turf-random":180,"turf-sample":181,"turf-simplify":182,"turf-square":184,"turf-square-grid":183,"turf-tag":185,"turf-tesselate":186,"turf-tin":187,"turf-triangle-grid":188,"turf-union":189,"turf-within":190}],147:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-along")},{"/Users/tmcw/src/turf/packages/turf-along":1}],148:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-area")},{"/Users/tmcw/src/turf/packages/turf-area":6}],149:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bbox-polygon":9,dup:64}],150:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bbox":11,dup:23}],151:[function(t,e,n){arguments[4][2][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-bearing":13,dup:2}],152:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-bezier")},{"/Users/tmcw/src/turf/packages/turf-bezier":15}],153:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-buffer")},{"/Users/tmcw/src/turf/packages/turf-buffer":18}],154:[function(t,e,n){arguments[4][115][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-center":22,dup:115}],155:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-centroid")},{"/Users/tmcw/src/turf/packages/turf-centroid":25}],156:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-collect")},{"/Users/tmcw/src/turf/packages/turf-collect":28}],157:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-combine")},{"/Users/tmcw/src/turf/packages/turf-combine":30}],158:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-concave")},{"/Users/tmcw/src/turf/packages/turf-concave":32}],159:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-convex")},{"/Users/tmcw/src/turf/packages/turf-convex":36}],160:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-destination":55,dup:3}],161:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-difference")},{"/Users/tmcw/src/turf/packages/turf-difference":58}],162:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-distance":60,dup:4}],163:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-envelope")},{"/Users/tmcw/src/turf/packages/turf-envelope":63}],164:[function(t,e,n){arguments[4][117][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-explode":66,dup:117}],165:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-flip")},{"/Users/tmcw/src/turf/packages/turf-flip":69}],166:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-helpers":71,dup:5}],167:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-hex-grid")},{"/Users/tmcw/src/turf/packages/turf-hex-grid":72}],168:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-inside":75,dup:29}],169:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-intersect")},{"/Users/tmcw/src/turf/packages/turf-intersect":77}],170:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-isolines")},{"/Users/tmcw/src/turf/packages/turf-isolines":81}],171:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-kinks")},{"/Users/tmcw/src/turf/packages/turf-kinks":90}],172:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-line-distance")},{"/Users/tmcw/src/turf/packages/turf-line-distance":92}],173:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-line-slice")},{"/Users/tmcw/src/turf/packages/turf-line-slice":95}],174:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-midpoint")},{"/Users/tmcw/src/turf/packages/turf-midpoint":99}],175:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-nearest")},{"/Users/tmcw/src/turf/packages/turf-nearest":103}],176:[function(t,e,n){arguments[4][86][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-planepoint":105,dup:86}],177:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-point-grid")},{"/Users/tmcw/src/turf/packages/turf-point-grid":106}],178:[function(t,e,n){arguments[4][97][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-point-on-line":109,dup:97}],179:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-point-on-surface")},{"/Users/tmcw/src/turf/packages/turf-point-on-surface":114}],180:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-random")},{"/Users/tmcw/src/turf/packages/turf-random":120}],181:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-sample")},{"/Users/tmcw/src/turf/packages/turf-sample":122}],182:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-simplify")},{"/Users/tmcw/src/turf/packages/turf-simplify":124}],183:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-square-grid")},{"/Users/tmcw/src/turf/packages/turf-square-grid":126}],184:[function(t,e,n){arguments[4][88][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-square":129,dup:88}],185:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-tag")},{"/Users/tmcw/src/turf/packages/turf-tag":131}],186:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-tesselate")},{"/Users/tmcw/src/turf/packages/turf-tesselate":133}],187:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-tin":136,dup:34}],188:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-triangle-grid")},{"/Users/tmcw/src/turf/packages/turf-triangle-grid":138}],189:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{"/Users/tmcw/src/turf/packages/turf-union":141,dup:35}],190:[function(t,e,n){e.exports=t("/Users/tmcw/src/turf/packages/turf-within")},{"/Users/tmcw/src/turf/packages/turf-within":143}]},{},[146])(146)});